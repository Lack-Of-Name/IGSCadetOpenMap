(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gf={exports:{}},ua={},Yf={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo=Symbol.for("react.element"),yg=Symbol.for("react.portal"),xg=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),kg=Symbol.for("react.profiler"),Sg=Symbol.for("react.provider"),bg=Symbol.for("react.context"),Cg=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Eg=Symbol.for("react.memo"),Lg=Symbol.for("react.lazy"),bd=Symbol.iterator;function Tg(e){return e===null||typeof e!="object"?null:(e=bd&&e[bd]||e["@@iterator"],typeof e=="function"?e:null)}var Kf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xf=Object.assign,Qf={};function mr(e,t,i){this.props=e,this.context=t,this.refs=Qf,this.updater=i||Kf}mr.prototype.isReactComponent={};mr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qf(){}qf.prototype=mr.prototype;function Zu(e,t,i){this.props=e,this.context=t,this.refs=Qf,this.updater=i||Kf}var Fu=Zu.prototype=new qf;Fu.constructor=Zu;Xf(Fu,mr.prototype);Fu.isPureReactComponent=!0;var Cd=Array.isArray,Jf=Object.prototype.hasOwnProperty,Hu={current:null},eh={key:!0,ref:!0,__self:!0,__source:!0};function th(e,t,i){var o,a={},l=null,c=null;if(t!=null)for(o in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(l=""+t.key),t)Jf.call(t,o)&&!eh.hasOwnProperty(o)&&(a[o]=t[o]);var f=arguments.length-2;if(f===1)a.children=i;else if(1<f){for(var p=Array(f),g=0;g<f;g++)p[g]=arguments[g+2];a.children=p}if(e&&e.defaultProps)for(o in f=e.defaultProps,f)a[o]===void 0&&(a[o]=f[o]);return{$$typeof:Eo,type:e,key:l,ref:c,props:a,_owner:Hu.current}}function Ng(e,t){return{$$typeof:Eo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $u(e){return typeof e=="object"&&e!==null&&e.$$typeof===Eo}function Mg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var Pd=/\/+/g;function cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mg(""+e.key):t.toString(36)}function bs(e,t,i,o,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Eo:case yg:c=!0}}if(c)return c=e,a=a(c),e=o===""?"."+cl(c,0):o,Cd(a)?(i="",e!=null&&(i=e.replace(Pd,"$&/")+"/"),bs(a,t,i,"",function(g){return g})):a!=null&&($u(a)&&(a=Ng(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(Pd,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=o===""?".":o+":",Cd(e))for(var f=0;f<e.length;f++){l=e[f];var p=o+cl(l,f);c+=bs(l,t,i,p,a)}else if(p=Tg(e),typeof p=="function")for(e=p.call(e),f=0;!(l=e.next()).done;)l=l.value,p=o+cl(l,f++),c+=bs(l,t,i,p,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function is(e,t,i){if(e==null)return e;var o=[],a=0;return bs(e,o,"","",function(l){return t.call(i,l,a++)}),o}function Og(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xt={current:null},Cs={transition:null},zg={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:Cs,ReactCurrentOwner:Hu};function nh(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:is,forEach:function(e,t,i){is(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return is(e,function(){t++}),t},toArray:function(e){return is(e,function(t){return t})||[]},only:function(e){if(!$u(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=mr;ye.Fragment=xg;ye.Profiler=kg;ye.PureComponent=Zu;ye.StrictMode=wg;ye.Suspense=Pg;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zg;ye.act=nh;ye.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Xf({},e.props),a=e.key,l=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,c=Hu.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)Jf.call(t,p)&&!eh.hasOwnProperty(p)&&(o[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)o.children=i;else if(1<p){f=Array(p);for(var g=0;g<p;g++)f[g]=arguments[g+2];o.children=f}return{$$typeof:Eo,type:e.type,key:a,ref:l,props:o,_owner:c}};ye.createContext=function(e){return e={$$typeof:bg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sg,_context:e},e.Consumer=e};ye.createElement=th;ye.createFactory=function(e){var t=th.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:Cg,render:e}};ye.isValidElement=$u;ye.lazy=function(e){return{$$typeof:Lg,_payload:{_status:-1,_result:e},_init:Og}};ye.memo=function(e,t){return{$$typeof:Eg,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Cs.transition;Cs.transition={};try{e()}finally{Cs.transition=t}};ye.unstable_act=nh;ye.useCallback=function(e,t){return xt.current.useCallback(e,t)};ye.useContext=function(e){return xt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return xt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return xt.current.useEffect(e,t)};ye.useId=function(){return xt.current.useId()};ye.useImperativeHandle=function(e,t,i){return xt.current.useImperativeHandle(e,t,i)};ye.useInsertionEffect=function(e,t){return xt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return xt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return xt.current.useMemo(e,t)};ye.useReducer=function(e,t,i){return xt.current.useReducer(e,t,i)};ye.useRef=function(e){return xt.current.useRef(e)};ye.useState=function(e){return xt.current.useState(e)};ye.useSyncExternalStore=function(e,t,i){return xt.current.useSyncExternalStore(e,t,i)};ye.useTransition=function(){return xt.current.useTransition()};ye.version="18.3.1";Yf.exports=ye;var b=Yf.exports;const so=Bu(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=b,Ig=Symbol.for("react.element"),Rg=Symbol.for("react.fragment"),Ag=Object.prototype.hasOwnProperty,Dg=jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bg={key:!0,ref:!0,__self:!0,__source:!0};function ih(e,t,i){var o,a={},l=null,c=null;i!==void 0&&(l=""+i),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(o in t)Ag.call(t,o)&&!Bg.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)a[o]===void 0&&(a[o]=t[o]);return{$$typeof:Ig,type:e,key:l,ref:c,props:a,_owner:Dg.current}}ua.Fragment=Rg;ua.jsx=ih;ua.jsxs=ih;Gf.exports=ua;var h=Gf.exports,Fl={},rh={exports:{}},At={},oh={exports:{}},sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,G){var R=E.length;E.push(G);e:for(;0<R;){var F=R-1>>>1,ee=E[F];if(0<a(ee,G))E[F]=G,E[R]=ee,R=F;else break e}}function i(E){return E.length===0?null:E[0]}function o(E){if(E.length===0)return null;var G=E[0],R=E.pop();if(R!==G){E[0]=R;e:for(var F=0,ee=E.length,he=ee>>>1;F<he;){var ae=2*(F+1)-1,le=E[ae],se=ae+1,ge=E[se];if(0>a(le,R))se<ee&&0>a(ge,le)?(E[F]=ge,E[se]=R,F=se):(E[F]=le,E[ae]=R,F=ae);else if(se<ee&&0>a(ge,R))E[F]=ge,E[se]=R,F=se;else break e}}return G}function a(E,G){var R=E.sortIndex-G.sortIndex;return R!==0?R:E.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],g=[],S=1,k=null,x=3,N=!1,z=!1,j=!1,re=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var G=i(g);G!==null;){if(G.callback===null)o(g);else if(G.startTime<=E)o(g),G.sortIndex=G.expirationTime,t(p,G);else break;G=i(g)}}function T(E){if(j=!1,y(E),!z)if(i(p)!==null)z=!0,Q(W);else{var G=i(g);G!==null&&K(T,G.startTime-E)}}function W(E,G){z=!1,j&&(j=!1,w(V),V=-1),N=!0;var R=x;try{for(y(G),k=i(p);k!==null&&(!(k.expirationTime>G)||E&&!$());){var F=k.callback;if(typeof F=="function"){k.callback=null,x=k.priorityLevel;var ee=F(k.expirationTime<=G);G=e.unstable_now(),typeof ee=="function"?k.callback=ee:k===i(p)&&o(p),y(G)}else o(p);k=i(p)}if(k!==null)var he=!0;else{var ae=i(g);ae!==null&&K(T,ae.startTime-G),he=!1}return he}finally{k=null,x=R,N=!1}}var I=!1,B=null,V=-1,D=5,Z=-1;function $(){return!(e.unstable_now()-Z<D)}function q(){if(B!==null){var E=e.unstable_now();Z=E;var G=!0;try{G=B(!0,E)}finally{G?C():(I=!1,B=null)}}else I=!1}var C;if(typeof v=="function")C=function(){v(q)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,X=A.port2;A.port1.onmessage=q,C=function(){X.postMessage(null)}}else C=function(){re(q,0)};function Q(E){B=E,I||(I=!0,C())}function K(E,G){V=re(function(){E(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){z||N||(z=!0,Q(W))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return i(p)},e.unstable_next=function(E){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var R=x;x=G;try{return E()}finally{x=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,G){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var R=x;x=E;try{return G()}finally{x=R}},e.unstable_scheduleCallback=function(E,G,R){var F=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?F+R:F):R=F,E){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=R+ee,E={id:S++,callback:G,priorityLevel:E,startTime:R,expirationTime:ee,sortIndex:-1},R>F?(E.sortIndex=R,t(g,E),i(p)===null&&E===i(g)&&(j?(w(V),V=-1):j=!0,K(T,R-F))):(E.sortIndex=ee,t(p,E),z||N||(z=!0,Q(W))),E},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(E){var G=x;return function(){var R=x;x=G;try{return E.apply(this,arguments)}finally{x=R}}}})(sh);oh.exports=sh;var Zg=oh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=b,Rt=Zg;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ah=new Set,ao={};function Ti(e,t){ar(e,t),ar(e+"Capture",t)}function ar(e,t){for(ao[e]=t,e=0;e<t.length;e++)ah.add(t[e])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=Object.prototype.hasOwnProperty,Hg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ed={},Ld={};function $g(e){return Hl.call(Ld,e)?!0:Hl.call(Ed,e)?!1:Hg.test(e)?Ld[e]=!0:(Ed[e]=!0,!1)}function Ug(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wg(e,t,i,o){if(t===null||typeof t>"u"||Ug(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,i,o,a,l,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=c}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uu=/[\-:]([a-z])/g;function Wu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uu,Wu);ot[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uu,Wu);ot[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uu,Wu);ot[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vu(e,t,i,o){var a=ot.hasOwnProperty(t)?ot[t]:null;(a!==null?a.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wg(t,i,a,o)&&(i=null),o||a===null?$g(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(t=a.attributeName,o=a.attributeNamespace,i===null?e.removeAttribute(t):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var Nn=Fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),Gu=Symbol.for("react.strict_mode"),$l=Symbol.for("react.profiler"),lh=Symbol.for("react.provider"),uh=Symbol.for("react.context"),Yu=Symbol.for("react.forward_ref"),Ul=Symbol.for("react.suspense"),Wl=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),ch=Symbol.for("react.offscreen"),Td=Symbol.iterator;function Rr(e){return e===null||typeof e!="object"?null:(e=Td&&e[Td]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,dl;function Vr(e){if(dl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);dl=t&&t[1]||""}return`
`+dl+e}var fl=!1;function hl(e,t){if(!e||fl)return"";fl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var o=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){o=g}e.call(t.prototype)}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack=="string"){for(var a=g.stack.split(`
`),l=o.stack.split(`
`),c=a.length-1,f=l.length-1;1<=c&&0<=f&&a[c]!==l[f];)f--;for(;1<=c&&0<=f;c--,f--)if(a[c]!==l[f]){if(c!==1||f!==1)do if(c--,f--,0>f||a[c]!==l[f]){var p=`
`+a[c].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=c&&0<=f);break}}}finally{fl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Vr(e):""}function Vg(e){switch(e.tag){case 5:return Vr(e.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return e=hl(e.type,!1),e;case 11:return e=hl(e.type.render,!1),e;case 1:return e=hl(e.type,!0),e;default:return""}}function Vl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $i:return"Fragment";case Hi:return"Portal";case $l:return"Profiler";case Gu:return"StrictMode";case Ul:return"Suspense";case Wl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uh:return(e.displayName||"Context")+".Consumer";case lh:return(e._context.displayName||"Context")+".Provider";case Yu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ku:return t=e.displayName||null,t!==null?t:Vl(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return Vl(e(t))}catch{}}return null}function Gg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vl(t);case 8:return t===Gu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yg(e){var t=dh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(c){o=""+c,l.call(this,c)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(c){o=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function os(e){e._valueTracker||(e._valueTracker=Yg(e))}function fh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=dh(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gl(e,t){var i=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Nd(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=Qn(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hh(e,t){t=t.checked,t!=null&&Vu(e,"checked",t,!1)}function Yl(e,t){hh(e,t);var i=Qn(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kl(e,t.type,i):t.hasOwnProperty("defaultValue")&&Kl(e,t.type,Qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Md(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Kl(e,t,i){(t!=="number"||Ds(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Gr=Array.isArray;function er(e,t,i,o){if(e=e.options,t){t={};for(var a=0;a<i.length;a++)t["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=t.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Qn(i),t=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Xl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Od(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(Y(92));if(Gr(i)){if(1<i.length)throw Error(Y(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Qn(i)}}function ph(e,t){var i=Qn(t.value),o=Qn(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function zd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ql(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ss,gh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,a){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lo(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kg=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(e){Kg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xr[t]=Xr[e]})});function vh(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Xr.hasOwnProperty(e)&&Xr[e]?(""+t).trim():t+"px"}function _h(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,a=vh(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,a):e[i]=a}}var Xg=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(e,t){if(t){if(Xg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function Jl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=null;function Xu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tu=null,tr=null,nr=null;function jd(e){if(e=No(e)){if(typeof tu!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=pa(t),tu(e.stateNode,e.type,t))}}function yh(e){tr?nr?nr.push(e):nr=[e]:tr=e}function xh(){if(tr){var e=tr,t=nr;if(nr=tr=null,jd(e),t)for(e=0;e<t.length;e++)jd(t[e])}}function wh(e,t){return e(t)}function kh(){}var pl=!1;function Sh(e,t,i){if(pl)return e(t,i);pl=!0;try{return wh(e,t,i)}finally{pl=!1,(tr!==null||nr!==null)&&(kh(),xh())}}function uo(e,t){var i=e.stateNode;if(i===null)return null;var o=pa(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(Y(231,t,typeof i));return i}var nu=!1;if(Pn)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){nu=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{nu=!1}function Qg(e,t,i,o,a,l,c,f,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(i,g)}catch(S){this.onError(S)}}var Qr=!1,Bs=null,Zs=!1,iu=null,qg={onError:function(e){Qr=!0,Bs=e}};function Jg(e,t,i,o,a,l,c,f,p){Qr=!1,Bs=null,Qg.apply(qg,arguments)}function ev(e,t,i,o,a,l,c,f,p){if(Jg.apply(this,arguments),Qr){if(Qr){var g=Bs;Qr=!1,Bs=null}else throw Error(Y(198));Zs||(Zs=!0,iu=g)}}function Ni(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function bh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Id(e){if(Ni(e)!==e)throw Error(Y(188))}function tv(e){var t=e.alternate;if(!t){if(t=Ni(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var i=e,o=t;;){var a=i.return;if(a===null)break;var l=a.alternate;if(l===null){if(o=a.return,o!==null){i=o;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===i)return Id(a),e;if(l===o)return Id(a),t;l=l.sibling}throw Error(Y(188))}if(i.return!==o.return)i=a,o=l;else{for(var c=!1,f=a.child;f;){if(f===i){c=!0,i=a,o=l;break}if(f===o){c=!0,o=a,i=l;break}f=f.sibling}if(!c){for(f=l.child;f;){if(f===i){c=!0,i=l,o=a;break}if(f===o){c=!0,o=l,i=a;break}f=f.sibling}if(!c)throw Error(Y(189))}}if(i.alternate!==o)throw Error(Y(190))}if(i.tag!==3)throw Error(Y(188));return i.stateNode.current===i?e:t}function Ch(e){return e=tv(e),e!==null?Ph(e):null}function Ph(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ph(e);if(t!==null)return t;e=e.sibling}return null}var Eh=Rt.unstable_scheduleCallback,Rd=Rt.unstable_cancelCallback,nv=Rt.unstable_shouldYield,iv=Rt.unstable_requestPaint,He=Rt.unstable_now,rv=Rt.unstable_getCurrentPriorityLevel,Qu=Rt.unstable_ImmediatePriority,Lh=Rt.unstable_UserBlockingPriority,Fs=Rt.unstable_NormalPriority,ov=Rt.unstable_LowPriority,Th=Rt.unstable_IdlePriority,ca=null,fn=null;function sv(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ca,e,void 0,(e.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:uv,av=Math.log,lv=Math.LN2;function uv(e){return e>>>=0,e===0?32:31-(av(e)/lv|0)|0}var as=64,ls=4194304;function Yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hs(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,a=e.suspendedLanes,l=e.pingedLanes,c=i&268435455;if(c!==0){var f=c&~a;f!==0?o=Yr(f):(l&=c,l!==0&&(o=Yr(l)))}else c=i&~a,c!==0?o=Yr(c):l!==0&&(o=Yr(l));if(o===0)return 0;if(t!==0&&t!==o&&!(t&a)&&(a=o&-o,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-en(t),a=1<<i,o|=e[i],t&=~a;return o}function cv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dv(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var c=31-en(l),f=1<<c,p=a[c];p===-1?(!(f&i)||f&o)&&(a[c]=cv(f,t)):p<=t&&(e.expiredLanes|=f),l&=~f}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nh(){var e=as;return as<<=1,!(as&4194240)&&(as=64),e}function ml(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Lo(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-en(t),e[t]=i}function fv(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-en(i),l=1<<a;t[a]=0,o[a]=-1,e[a]=-1,i&=~l}}function qu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-en(i),a=1<<o;a&t|e[o]&t&&(e[o]|=t),i&=~a}}var be=0;function Mh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Oh,Ju,zh,jh,Ih,ou=!1,us=[],$n=null,Un=null,Wn=null,co=new Map,fo=new Map,Bn=[],hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ad(e,t){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(t.pointerId)}}function Dr(e,t,i,o,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:l,targetContainers:[a]},t!==null&&(t=No(t),t!==null&&Ju(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function pv(e,t,i,o,a){switch(t){case"focusin":return $n=Dr($n,e,t,i,o,a),!0;case"dragenter":return Un=Dr(Un,e,t,i,o,a),!0;case"mouseover":return Wn=Dr(Wn,e,t,i,o,a),!0;case"pointerover":var l=a.pointerId;return co.set(l,Dr(co.get(l)||null,e,t,i,o,a)),!0;case"gotpointercapture":return l=a.pointerId,fo.set(l,Dr(fo.get(l)||null,e,t,i,o,a)),!0}return!1}function Rh(e){var t=vi(e.target);if(t!==null){var i=Ni(t);if(i!==null){if(t=i.tag,t===13){if(t=bh(i),t!==null){e.blockedOn=t,Ih(e.priority,function(){zh(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=su(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);eu=o,i.target.dispatchEvent(o),eu=null}else return t=No(i),t!==null&&Ju(t),e.blockedOn=i,!1;t.shift()}return!0}function Dd(e,t,i){Ps(e)&&i.delete(t)}function mv(){ou=!1,$n!==null&&Ps($n)&&($n=null),Un!==null&&Ps(Un)&&(Un=null),Wn!==null&&Ps(Wn)&&(Wn=null),co.forEach(Dd),fo.forEach(Dd)}function Br(e,t){e.blockedOn===t&&(e.blockedOn=null,ou||(ou=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,mv)))}function ho(e){function t(a){return Br(a,e)}if(0<us.length){Br(us[0],e);for(var i=1;i<us.length;i++){var o=us[i];o.blockedOn===e&&(o.blockedOn=null)}}for($n!==null&&Br($n,e),Un!==null&&Br(Un,e),Wn!==null&&Br(Wn,e),co.forEach(t),fo.forEach(t),i=0;i<Bn.length;i++)o=Bn[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<Bn.length&&(i=Bn[0],i.blockedOn===null);)Rh(i),i.blockedOn===null&&Bn.shift()}var ir=Nn.ReactCurrentBatchConfig,$s=!0;function gv(e,t,i,o){var a=be,l=ir.transition;ir.transition=null;try{be=1,ec(e,t,i,o)}finally{be=a,ir.transition=l}}function vv(e,t,i,o){var a=be,l=ir.transition;ir.transition=null;try{be=4,ec(e,t,i,o)}finally{be=a,ir.transition=l}}function ec(e,t,i,o){if($s){var a=su(e,t,i,o);if(a===null)Cl(e,t,o,Us,i),Ad(e,o);else if(pv(a,e,t,i,o))o.stopPropagation();else if(Ad(e,o),t&4&&-1<hv.indexOf(e)){for(;a!==null;){var l=No(a);if(l!==null&&Oh(l),l=su(e,t,i,o),l===null&&Cl(e,t,o,Us,i),l===a)break;a=l}a!==null&&o.stopPropagation()}else Cl(e,t,o,null,i)}}var Us=null;function su(e,t,i,o){if(Us=null,e=Xu(o),e=vi(e),e!==null)if(t=Ni(e),t===null)e=null;else if(i=t.tag,i===13){if(e=bh(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Us=e,null}function Ah(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rv()){case Qu:return 1;case Lh:return 4;case Fs:case ov:return 16;case Th:return 536870912;default:return 16}default:return 16}}var Fn=null,tc=null,Es=null;function Dh(){if(Es)return Es;var e,t=tc,i=t.length,o,a="value"in Fn?Fn.value:Fn.textContent,l=a.length;for(e=0;e<i&&t[e]===a[e];e++);var c=i-e;for(o=1;o<=c&&t[i-o]===a[l-o];o++);return Es=a.slice(e,1<o?1-o:void 0)}function Ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cs(){return!0}function Bd(){return!1}function Dt(e){function t(i,o,a,l,c){this._reactName=i,this._targetInst=a,this.type=o,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(i=e[f],this[f]=i?i(l):l[f]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?cs:Bd,this.isPropagationStopped=Bd,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),t}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=Dt(gr),To=De({},gr,{view:0,detail:0}),_v=Dt(To),gl,vl,Zr,da=De({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(gl=e.screenX-Zr.screenX,vl=e.screenY-Zr.screenY):vl=gl=0,Zr=e),gl)},movementY:function(e){return"movementY"in e?e.movementY:vl}}),Zd=Dt(da),yv=De({},da,{dataTransfer:0}),xv=Dt(yv),wv=De({},To,{relatedTarget:0}),_l=Dt(wv),kv=De({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sv=Dt(kv),bv=De({},gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cv=Dt(bv),Pv=De({},gr,{data:0}),Fd=Dt(Pv),Ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tv[e])?!!t[e]:!1}function ic(){return Nv}var Mv=De({},To,{key:function(e){if(e.key){var t=Ev[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?Ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ov=Dt(Mv),zv=De({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hd=Dt(zv),jv=De({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),Iv=Dt(jv),Rv=De({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Av=Dt(Rv),Dv=De({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bv=Dt(Dv),Zv=[9,13,27,32],rc=Pn&&"CompositionEvent"in window,qr=null;Pn&&"documentMode"in document&&(qr=document.documentMode);var Fv=Pn&&"TextEvent"in window&&!qr,Bh=Pn&&(!rc||qr&&8<qr&&11>=qr),$d=" ",Ud=!1;function Zh(e,t){switch(e){case"keyup":return Zv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function Hv(e,t){switch(e){case"compositionend":return Fh(t);case"keypress":return t.which!==32?null:(Ud=!0,$d);case"textInput":return e=t.data,e===$d&&Ud?null:e;default:return null}}function $v(e,t){if(Ui)return e==="compositionend"||!rc&&Zh(e,t)?(e=Dh(),Es=tc=Fn=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bh&&t.locale!=="ko"?null:t.data;default:return null}}var Uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uv[e.type]:t==="textarea"}function Hh(e,t,i,o){yh(o),t=Ws(t,"onChange"),0<t.length&&(i=new nc("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Jr=null,po=null;function Wv(e){Jh(e,0)}function fa(e){var t=Gi(e);if(fh(t))return e}function Vv(e,t){if(e==="change")return t}var $h=!1;if(Pn){var yl;if(Pn){var xl="oninput"in document;if(!xl){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),xl=typeof Vd.oninput=="function"}yl=xl}else yl=!1;$h=yl&&(!document.documentMode||9<document.documentMode)}function Gd(){Jr&&(Jr.detachEvent("onpropertychange",Uh),po=Jr=null)}function Uh(e){if(e.propertyName==="value"&&fa(po)){var t=[];Hh(t,po,e,Xu(e)),Sh(Wv,t)}}function Gv(e,t,i){e==="focusin"?(Gd(),Jr=t,po=i,Jr.attachEvent("onpropertychange",Uh)):e==="focusout"&&Gd()}function Yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fa(po)}function Kv(e,t){if(e==="click")return fa(t)}function Xv(e,t){if(e==="input"||e==="change")return fa(t)}function Qv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:Qv;function mo(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var a=i[o];if(!Hl.call(t,a)||!nn(e[a],t[a]))return!1}return!0}function Yd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kd(e,t){var i=Yd(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Yd(i)}}function Wh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vh(){for(var e=window,t=Ds();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ds(e.document)}return t}function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qv(e){var t=Vh(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Wh(i.ownerDocument.documentElement,i)){if(o!==null&&oc(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,l=Math.min(o.start,a);o=o.end===void 0?l:Math.min(o.end,a),!e.extend&&l>o&&(a=o,o=l,l=a),a=Kd(i,l);var c=Kd(i,o);a&&c&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>o?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jv=Pn&&"documentMode"in document&&11>=document.documentMode,Wi=null,au=null,eo=null,lu=!1;function Xd(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;lu||Wi==null||Wi!==Ds(o)||(o=Wi,"selectionStart"in o&&oc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),eo&&mo(eo,o)||(eo=o,o=Ws(au,"onSelect"),0<o.length&&(t=new nc("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Wi)))}function ds(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Vi={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionend:ds("Transition","TransitionEnd")},wl={},Gh={};Pn&&(Gh=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function ha(e){if(wl[e])return wl[e];if(!Vi[e])return e;var t=Vi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Gh)return wl[e]=t[i];return e}var Yh=ha("animationend"),Kh=ha("animationiteration"),Xh=ha("animationstart"),Qh=ha("transitionend"),qh=new Map,Qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(e,t){qh.set(e,t),Ti(t,[e])}for(var kl=0;kl<Qd.length;kl++){var Sl=Qd[kl],e_=Sl.toLowerCase(),t_=Sl[0].toUpperCase()+Sl.slice(1);Jn(e_,"on"+t_)}Jn(Yh,"onAnimationEnd");Jn(Kh,"onAnimationIteration");Jn(Xh,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(Qh,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kr));function qd(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,ev(o,t,void 0,e),e.currentTarget=null}function Jh(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],a=o.event;o=o.listeners;e:{var l=void 0;if(t)for(var c=o.length-1;0<=c;c--){var f=o[c],p=f.instance,g=f.currentTarget;if(f=f.listener,p!==l&&a.isPropagationStopped())break e;qd(a,f,g),l=p}else for(c=0;c<o.length;c++){if(f=o[c],p=f.instance,g=f.currentTarget,f=f.listener,p!==l&&a.isPropagationStopped())break e;qd(a,f,g),l=p}}}if(Zs)throw e=iu,Zs=!1,iu=null,e}function Me(e,t){var i=t[hu];i===void 0&&(i=t[hu]=new Set);var o=e+"__bubble";i.has(o)||(ep(t,e,2,!1),i.add(o))}function bl(e,t,i){var o=0;t&&(o|=4),ep(i,e,o,t)}var fs="_reactListening"+Math.random().toString(36).slice(2);function go(e){if(!e[fs]){e[fs]=!0,ah.forEach(function(i){i!=="selectionchange"&&(n_.has(i)||bl(i,!1,e),bl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fs]||(t[fs]=!0,bl("selectionchange",!1,t))}}function ep(e,t,i,o){switch(Ah(t)){case 1:var a=gv;break;case 4:a=vv;break;default:a=ec}i=a.bind(null,t,i,e),a=void 0,!nu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(t,i,{capture:!0,passive:a}):e.addEventListener(t,i,!0):a!==void 0?e.addEventListener(t,i,{passive:a}):e.addEventListener(t,i,!1)}function Cl(e,t,i,o,a){var l=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var c=o.tag;if(c===3||c===4){var f=o.stateNode.containerInfo;if(f===a||f.nodeType===8&&f.parentNode===a)break;if(c===4)for(c=o.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===a||p.nodeType===8&&p.parentNode===a))return;c=c.return}for(;f!==null;){if(c=vi(f),c===null)return;if(p=c.tag,p===5||p===6){o=l=c;continue e}f=f.parentNode}}o=o.return}Sh(function(){var g=l,S=Xu(i),k=[];e:{var x=qh.get(e);if(x!==void 0){var N=nc,z=e;switch(e){case"keypress":if(Ls(i)===0)break e;case"keydown":case"keyup":N=Ov;break;case"focusin":z="focus",N=_l;break;case"focusout":z="blur",N=_l;break;case"beforeblur":case"afterblur":N=_l;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=xv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Iv;break;case Yh:case Kh:case Xh:N=Sv;break;case Qh:N=Av;break;case"scroll":N=_v;break;case"wheel":N=Bv;break;case"copy":case"cut":case"paste":N=Cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Hd}var j=(t&4)!==0,re=!j&&e==="scroll",w=j?x!==null?x+"Capture":null:x;j=[];for(var v=g,y;v!==null;){y=v;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,w!==null&&(T=uo(v,w),T!=null&&j.push(vo(v,T,y)))),re)break;v=v.return}0<j.length&&(x=new N(x,z,null,i,S),k.push({event:x,listeners:j}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",x&&i!==eu&&(z=i.relatedTarget||i.fromElement)&&(vi(z)||z[En]))break e;if((N||x)&&(x=S.window===S?S:(x=S.ownerDocument)?x.defaultView||x.parentWindow:window,N?(z=i.relatedTarget||i.toElement,N=g,z=z?vi(z):null,z!==null&&(re=Ni(z),z!==re||z.tag!==5&&z.tag!==6)&&(z=null)):(N=null,z=g),N!==z)){if(j=Zd,T="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(j=Hd,T="onPointerLeave",w="onPointerEnter",v="pointer"),re=N==null?x:Gi(N),y=z==null?x:Gi(z),x=new j(T,v+"leave",N,i,S),x.target=re,x.relatedTarget=y,T=null,vi(S)===g&&(j=new j(w,v+"enter",z,i,S),j.target=y,j.relatedTarget=re,T=j),re=T,N&&z)t:{for(j=N,w=z,v=0,y=j;y;y=Zi(y))v++;for(y=0,T=w;T;T=Zi(T))y++;for(;0<v-y;)j=Zi(j),v--;for(;0<y-v;)w=Zi(w),y--;for(;v--;){if(j===w||w!==null&&j===w.alternate)break t;j=Zi(j),w=Zi(w)}j=null}else j=null;N!==null&&Jd(k,x,N,j,!1),z!==null&&re!==null&&Jd(k,re,z,j,!0)}}e:{if(x=g?Gi(g):window,N=x.nodeName&&x.nodeName.toLowerCase(),N==="select"||N==="input"&&x.type==="file")var W=Vv;else if(Wd(x))if($h)W=Xv;else{W=Yv;var I=Gv}else(N=x.nodeName)&&N.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(W=Kv);if(W&&(W=W(e,g))){Hh(k,W,i,S);break e}I&&I(e,x,g),e==="focusout"&&(I=x._wrapperState)&&I.controlled&&x.type==="number"&&Kl(x,"number",x.value)}switch(I=g?Gi(g):window,e){case"focusin":(Wd(I)||I.contentEditable==="true")&&(Wi=I,au=g,eo=null);break;case"focusout":eo=au=Wi=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,Xd(k,i,S);break;case"selectionchange":if(Jv)break;case"keydown":case"keyup":Xd(k,i,S)}var B;if(rc)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Ui?Zh(e,i)&&(V="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(V="onCompositionStart");V&&(Bh&&i.locale!=="ko"&&(Ui||V!=="onCompositionStart"?V==="onCompositionEnd"&&Ui&&(B=Dh()):(Fn=S,tc="value"in Fn?Fn.value:Fn.textContent,Ui=!0)),I=Ws(g,V),0<I.length&&(V=new Fd(V,e,null,i,S),k.push({event:V,listeners:I}),B?V.data=B:(B=Fh(i),B!==null&&(V.data=B)))),(B=Fv?Hv(e,i):$v(e,i))&&(g=Ws(g,"onBeforeInput"),0<g.length&&(S=new Fd("onBeforeInput","beforeinput",null,i,S),k.push({event:S,listeners:g}),S.data=B))}Jh(k,t)})}function vo(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ws(e,t){for(var i=t+"Capture",o=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=uo(e,i),l!=null&&o.unshift(vo(e,l,a)),l=uo(e,t),l!=null&&o.push(vo(e,l,a))),e=e.return}return o}function Zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jd(e,t,i,o,a){for(var l=t._reactName,c=[];i!==null&&i!==o;){var f=i,p=f.alternate,g=f.stateNode;if(p!==null&&p===o)break;f.tag===5&&g!==null&&(f=g,a?(p=uo(i,l),p!=null&&c.unshift(vo(i,p,f))):a||(p=uo(i,l),p!=null&&c.push(vo(i,p,f)))),i=i.return}c.length!==0&&e.push({event:t,listeners:c})}var i_=/\r\n?/g,r_=/\u0000|\uFFFD/g;function ef(e){return(typeof e=="string"?e:""+e).replace(i_,`
`).replace(r_,"")}function hs(e,t,i){if(t=ef(t),ef(e)!==t&&i)throw Error(Y(425))}function Vs(){}var uu=null,cu=null;function du(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fu=typeof setTimeout=="function"?setTimeout:void 0,o_=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,s_=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(e){return tf.resolve(null).then(e).catch(a_)}:fu;function a_(e){setTimeout(function(){throw e})}function Pl(e,t){var i=t,o=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(o===0){e.removeChild(a),ho(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=a}while(i);ho(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var vr=Math.random().toString(36).slice(2),dn="__reactFiber$"+vr,_o="__reactProps$"+vr,En="__reactContainer$"+vr,hu="__reactEvents$"+vr,l_="__reactListeners$"+vr,u_="__reactHandles$"+vr;function vi(e){var t=e[dn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[En]||i[dn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=nf(e);e!==null;){if(i=e[dn])return i;e=nf(e)}return t}e=i,i=e.parentNode}return null}function No(e){return e=e[dn]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function pa(e){return e[_o]||null}var pu=[],Yi=-1;function ei(e){return{current:e}}function Oe(e){0>Yi||(e.current=pu[Yi],pu[Yi]=null,Yi--)}function Te(e,t){Yi++,pu[Yi]=e.current,e.current=t}var qn={},ht=ei(qn),Et=ei(!1),Si=qn;function lr(e,t){var i=e.type.contextTypes;if(!i)return qn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in i)a[l]=t[l];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Lt(e){return e=e.childContextTypes,e!=null}function Gs(){Oe(Et),Oe(ht)}function rf(e,t,i){if(ht.current!==qn)throw Error(Y(168));Te(ht,t),Te(Et,i)}function tp(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var a in o)if(!(a in t))throw Error(Y(108,Gg(e)||"Unknown",a));return De({},i,o)}function Ys(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,Si=ht.current,Te(ht,e),Te(Et,Et.current),!0}function of(e,t,i){var o=e.stateNode;if(!o)throw Error(Y(169));i?(e=tp(e,t,Si),o.__reactInternalMemoizedMergedChildContext=e,Oe(Et),Oe(ht),Te(ht,e)):Oe(Et),Te(Et,i)}var kn=null,ma=!1,El=!1;function np(e){kn===null?kn=[e]:kn.push(e)}function c_(e){ma=!0,np(e)}function ti(){if(!El&&kn!==null){El=!0;var e=0,t=be;try{var i=kn;for(be=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}kn=null,ma=!1}catch(a){throw kn!==null&&(kn=kn.slice(e+1)),Eh(Qu,ti),a}finally{be=t,El=!1}}return null}var Ki=[],Xi=0,Ks=null,Xs=0,Ht=[],$t=0,bi=null,Sn=1,bn="";function mi(e,t){Ki[Xi++]=Xs,Ki[Xi++]=Ks,Ks=e,Xs=t}function ip(e,t,i){Ht[$t++]=Sn,Ht[$t++]=bn,Ht[$t++]=bi,bi=e;var o=Sn;e=bn;var a=32-en(o)-1;o&=~(1<<a),i+=1;var l=32-en(t)+a;if(30<l){var c=a-a%5;l=(o&(1<<c)-1).toString(32),o>>=c,a-=c,Sn=1<<32-en(t)+a|i<<a|o,bn=l+e}else Sn=1<<l|i<<a|o,bn=e}function sc(e){e.return!==null&&(mi(e,1),ip(e,1,0))}function ac(e){for(;e===Ks;)Ks=Ki[--Xi],Ki[Xi]=null,Xs=Ki[--Xi],Ki[Xi]=null;for(;e===bi;)bi=Ht[--$t],Ht[$t]=null,bn=Ht[--$t],Ht[$t]=null,Sn=Ht[--$t],Ht[$t]=null}var It=null,jt=null,je=!1,Jt=null;function rp(e,t){var i=Ut(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function sf(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,jt=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=bi!==null?{id:Sn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Ut(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,It=e,jt=null,!0):!1;default:return!1}}function mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gu(e){if(je){var t=jt;if(t){var i=t;if(!sf(e,t)){if(mu(e))throw Error(Y(418));t=Vn(i.nextSibling);var o=It;t&&sf(e,t)?rp(o,i):(e.flags=e.flags&-4097|2,je=!1,It=e)}}else{if(mu(e))throw Error(Y(418));e.flags=e.flags&-4097|2,je=!1,It=e}}}function af(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function ps(e){if(e!==It)return!1;if(!je)return af(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!du(e.type,e.memoizedProps)),t&&(t=jt)){if(mu(e))throw op(),Error(Y(418));for(;t;)rp(e,t),t=Vn(t.nextSibling)}if(af(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){jt=Vn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=It?Vn(e.stateNode.nextSibling):null;return!0}function op(){for(var e=jt;e;)e=Vn(e.nextSibling)}function ur(){jt=It=null,je=!1}function lc(e){Jt===null?Jt=[e]:Jt.push(e)}var d_=Nn.ReactCurrentBatchConfig;function Fr(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Y(309));var o=i.stateNode}if(!o)throw Error(Y(147,e));var a=o,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(c){var f=a.refs;c===null?delete f[l]:f[l]=c},t._stringRef=l,t)}if(typeof e!="string")throw Error(Y(284));if(!i._owner)throw Error(Y(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lf(e){var t=e._init;return t(e._payload)}function sp(e){function t(w,v){if(e){var y=w.deletions;y===null?(w.deletions=[v],w.flags|=16):y.push(v)}}function i(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function o(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function a(w,v){return w=Xn(w,v),w.index=0,w.sibling=null,w}function l(w,v,y){return w.index=y,e?(y=w.alternate,y!==null?(y=y.index,y<v?(w.flags|=2,v):y):(w.flags|=2,v)):(w.flags|=1048576,v)}function c(w){return e&&w.alternate===null&&(w.flags|=2),w}function f(w,v,y,T){return v===null||v.tag!==6?(v=jl(y,w.mode,T),v.return=w,v):(v=a(v,y),v.return=w,v)}function p(w,v,y,T){var W=y.type;return W===$i?S(w,v,y.props.children,T,y.key):v!==null&&(v.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===An&&lf(W)===v.type)?(T=a(v,y.props),T.ref=Fr(w,v,y),T.return=w,T):(T=Is(y.type,y.key,y.props,null,w.mode,T),T.ref=Fr(w,v,y),T.return=w,T)}function g(w,v,y,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Il(y,w.mode,T),v.return=w,v):(v=a(v,y.children||[]),v.return=w,v)}function S(w,v,y,T,W){return v===null||v.tag!==7?(v=ki(y,w.mode,T,W),v.return=w,v):(v=a(v,y),v.return=w,v)}function k(w,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=jl(""+v,w.mode,y),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rs:return y=Is(v.type,v.key,v.props,null,w.mode,y),y.ref=Fr(w,null,v),y.return=w,y;case Hi:return v=Il(v,w.mode,y),v.return=w,v;case An:var T=v._init;return k(w,T(v._payload),y)}if(Gr(v)||Rr(v))return v=ki(v,w.mode,y,null),v.return=w,v;ms(w,v)}return null}function x(w,v,y,T){var W=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return W!==null?null:f(w,v,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rs:return y.key===W?p(w,v,y,T):null;case Hi:return y.key===W?g(w,v,y,T):null;case An:return W=y._init,x(w,v,W(y._payload),T)}if(Gr(y)||Rr(y))return W!==null?null:S(w,v,y,T,null);ms(w,y)}return null}function N(w,v,y,T,W){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(y)||null,f(v,w,""+T,W);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case rs:return w=w.get(T.key===null?y:T.key)||null,p(v,w,T,W);case Hi:return w=w.get(T.key===null?y:T.key)||null,g(v,w,T,W);case An:var I=T._init;return N(w,v,y,I(T._payload),W)}if(Gr(T)||Rr(T))return w=w.get(y)||null,S(v,w,T,W,null);ms(v,T)}return null}function z(w,v,y,T){for(var W=null,I=null,B=v,V=v=0,D=null;B!==null&&V<y.length;V++){B.index>V?(D=B,B=null):D=B.sibling;var Z=x(w,B,y[V],T);if(Z===null){B===null&&(B=D);break}e&&B&&Z.alternate===null&&t(w,B),v=l(Z,v,V),I===null?W=Z:I.sibling=Z,I=Z,B=D}if(V===y.length)return i(w,B),je&&mi(w,V),W;if(B===null){for(;V<y.length;V++)B=k(w,y[V],T),B!==null&&(v=l(B,v,V),I===null?W=B:I.sibling=B,I=B);return je&&mi(w,V),W}for(B=o(w,B);V<y.length;V++)D=N(B,w,V,y[V],T),D!==null&&(e&&D.alternate!==null&&B.delete(D.key===null?V:D.key),v=l(D,v,V),I===null?W=D:I.sibling=D,I=D);return e&&B.forEach(function($){return t(w,$)}),je&&mi(w,V),W}function j(w,v,y,T){var W=Rr(y);if(typeof W!="function")throw Error(Y(150));if(y=W.call(y),y==null)throw Error(Y(151));for(var I=W=null,B=v,V=v=0,D=null,Z=y.next();B!==null&&!Z.done;V++,Z=y.next()){B.index>V?(D=B,B=null):D=B.sibling;var $=x(w,B,Z.value,T);if($===null){B===null&&(B=D);break}e&&B&&$.alternate===null&&t(w,B),v=l($,v,V),I===null?W=$:I.sibling=$,I=$,B=D}if(Z.done)return i(w,B),je&&mi(w,V),W;if(B===null){for(;!Z.done;V++,Z=y.next())Z=k(w,Z.value,T),Z!==null&&(v=l(Z,v,V),I===null?W=Z:I.sibling=Z,I=Z);return je&&mi(w,V),W}for(B=o(w,B);!Z.done;V++,Z=y.next())Z=N(B,w,V,Z.value,T),Z!==null&&(e&&Z.alternate!==null&&B.delete(Z.key===null?V:Z.key),v=l(Z,v,V),I===null?W=Z:I.sibling=Z,I=Z);return e&&B.forEach(function(q){return t(w,q)}),je&&mi(w,V),W}function re(w,v,y,T){if(typeof y=="object"&&y!==null&&y.type===$i&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case rs:e:{for(var W=y.key,I=v;I!==null;){if(I.key===W){if(W=y.type,W===$i){if(I.tag===7){i(w,I.sibling),v=a(I,y.props.children),v.return=w,w=v;break e}}else if(I.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===An&&lf(W)===I.type){i(w,I.sibling),v=a(I,y.props),v.ref=Fr(w,I,y),v.return=w,w=v;break e}i(w,I);break}else t(w,I);I=I.sibling}y.type===$i?(v=ki(y.props.children,w.mode,T,y.key),v.return=w,w=v):(T=Is(y.type,y.key,y.props,null,w.mode,T),T.ref=Fr(w,v,y),T.return=w,w=T)}return c(w);case Hi:e:{for(I=y.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){i(w,v.sibling),v=a(v,y.children||[]),v.return=w,w=v;break e}else{i(w,v);break}else t(w,v);v=v.sibling}v=Il(y,w.mode,T),v.return=w,w=v}return c(w);case An:return I=y._init,re(w,v,I(y._payload),T)}if(Gr(y))return z(w,v,y,T);if(Rr(y))return j(w,v,y,T);ms(w,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(i(w,v.sibling),v=a(v,y),v.return=w,w=v):(i(w,v),v=jl(y,w.mode,T),v.return=w,w=v),c(w)):i(w,v)}return re}var cr=sp(!0),ap=sp(!1),Qs=ei(null),qs=null,Qi=null,uc=null;function cc(){uc=Qi=qs=null}function dc(e){var t=Qs.current;Oe(Qs),e._currentValue=t}function vu(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function rr(e,t){qs=e,uc=Qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(uc!==e)if(e={context:e,memoizedValue:t,next:null},Qi===null){if(qs===null)throw Error(Y(308));Qi=e,qs.dependencies={lanes:0,firstContext:e}}else Qi=Qi.next=e;return t}var _i=null;function fc(e){_i===null?_i=[e]:_i.push(e)}function lp(e,t,i,o){var a=t.interleaved;return a===null?(i.next=i,fc(t)):(i.next=a.next,a.next=i),t.interleaved=i,Ln(e,o)}function Ln(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Dn=!1;function hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function up(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Se&2){var a=o.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),o.pending=t,Ln(e,i)}return a=o.interleaved,a===null?(t.next=t,fc(o)):(t.next=a.next,a.next=t),o.interleaved=t,Ln(e,i)}function Ts(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,qu(e,i)}}function uf(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var a=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var c={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?a=l=c:l=l.next=c,i=i.next}while(i!==null);l===null?a=l=t:l=l.next=t}else a=l=t;i={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Js(e,t,i,o){var a=e.updateQueue;Dn=!1;var l=a.firstBaseUpdate,c=a.lastBaseUpdate,f=a.shared.pending;if(f!==null){a.shared.pending=null;var p=f,g=p.next;p.next=null,c===null?l=g:c.next=g,c=p;var S=e.alternate;S!==null&&(S=S.updateQueue,f=S.lastBaseUpdate,f!==c&&(f===null?S.firstBaseUpdate=g:f.next=g,S.lastBaseUpdate=p))}if(l!==null){var k=a.baseState;c=0,S=g=p=null,f=l;do{var x=f.lane,N=f.eventTime;if((o&x)===x){S!==null&&(S=S.next={eventTime:N,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var z=e,j=f;switch(x=t,N=i,j.tag){case 1:if(z=j.payload,typeof z=="function"){k=z.call(N,k,x);break e}k=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=j.payload,x=typeof z=="function"?z.call(N,k,x):z,x==null)break e;k=De({},k,x);break e;case 2:Dn=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[f]:x.push(f))}else N={eventTime:N,lane:x,tag:f.tag,payload:f.payload,callback:f.callback,next:null},S===null?(g=S=N,p=k):S=S.next=N,c|=x;if(f=f.next,f===null){if(f=a.shared.pending,f===null)break;x=f,f=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(S===null&&(p=k),a.baseState=p,a.firstBaseUpdate=g,a.lastBaseUpdate=S,t=a.shared.interleaved,t!==null){a=t;do c|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Pi|=c,e.lanes=c,e.memoizedState=k}}function cf(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],a=o.callback;if(a!==null){if(o.callback=null,o=i,typeof a!="function")throw Error(Y(191,a));a.call(o)}}}var Mo={},hn=ei(Mo),yo=ei(Mo),xo=ei(Mo);function yi(e){if(e===Mo)throw Error(Y(174));return e}function pc(e,t){switch(Te(xo,t),Te(yo,e),Te(hn,Mo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ql(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ql(t,e)}Oe(hn),Te(hn,t)}function dr(){Oe(hn),Oe(yo),Oe(xo)}function cp(e){yi(xo.current);var t=yi(hn.current),i=Ql(t,e.type);t!==i&&(Te(yo,e),Te(hn,i))}function mc(e){yo.current===e&&(Oe(hn),Oe(yo))}var Re=ei(0);function ea(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ll=[];function gc(){for(var e=0;e<Ll.length;e++)Ll[e]._workInProgressVersionPrimary=null;Ll.length=0}var Ns=Nn.ReactCurrentDispatcher,Tl=Nn.ReactCurrentBatchConfig,Ci=0,Ae=null,Ye=null,qe=null,ta=!1,to=!1,wo=0,f_=0;function ct(){throw Error(Y(321))}function vc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!nn(e[i],t[i]))return!1;return!0}function _c(e,t,i,o,a,l){if(Ci=l,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ns.current=e===null||e.memoizedState===null?g_:v_,e=i(o,a),to){l=0;do{if(to=!1,wo=0,25<=l)throw Error(Y(301));l+=1,qe=Ye=null,t.updateQueue=null,Ns.current=__,e=i(o,a)}while(to)}if(Ns.current=na,t=Ye!==null&&Ye.next!==null,Ci=0,qe=Ye=Ae=null,ta=!1,t)throw Error(Y(300));return e}function yc(){var e=wo!==0;return wo=0,e}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ae.memoizedState=qe=e:qe=qe.next=e,qe}function Gt(){if(Ye===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=qe===null?Ae.memoizedState:qe.next;if(t!==null)qe=t,Ye=e;else{if(e===null)throw Error(Y(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},qe===null?Ae.memoizedState=qe=e:qe=qe.next=e}return qe}function ko(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=Gt(),i=t.queue;if(i===null)throw Error(Y(311));i.lastRenderedReducer=e;var o=Ye,a=o.baseQueue,l=i.pending;if(l!==null){if(a!==null){var c=a.next;a.next=l.next,l.next=c}o.baseQueue=a=l,i.pending=null}if(a!==null){l=a.next,o=o.baseState;var f=c=null,p=null,g=l;do{var S=g.lane;if((Ci&S)===S)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),o=g.hasEagerState?g.eagerState:e(o,g.action);else{var k={lane:S,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(f=p=k,c=o):p=p.next=k,Ae.lanes|=S,Pi|=S}g=g.next}while(g!==null&&g!==l);p===null?c=o:p.next=f,nn(o,t.memoizedState)||(Pt=!0),t.memoizedState=o,t.baseState=c,t.baseQueue=p,i.lastRenderedState=o}if(e=i.interleaved,e!==null){a=e;do l=a.lane,Ae.lanes|=l,Pi|=l,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ml(e){var t=Gt(),i=t.queue;if(i===null)throw Error(Y(311));i.lastRenderedReducer=e;var o=i.dispatch,a=i.pending,l=t.memoizedState;if(a!==null){i.pending=null;var c=a=a.next;do l=e(l,c.action),c=c.next;while(c!==a);nn(l,t.memoizedState)||(Pt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),i.lastRenderedState=l}return[l,o]}function dp(){}function fp(e,t){var i=Ae,o=Gt(),a=t(),l=!nn(o.memoizedState,a);if(l&&(o.memoizedState=a,Pt=!0),o=o.queue,xc(mp.bind(null,i,o,e),[e]),o.getSnapshot!==t||l||qe!==null&&qe.memoizedState.tag&1){if(i.flags|=2048,So(9,pp.bind(null,i,o,a,t),void 0,null),Je===null)throw Error(Y(349));Ci&30||hp(i,t,a)}return a}function hp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function pp(e,t,i,o){t.value=i,t.getSnapshot=o,gp(t)&&vp(e)}function mp(e,t,i){return i(function(){gp(t)&&vp(e)})}function gp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!nn(e,i)}catch{return!0}}function vp(e){var t=Ln(e,1);t!==null&&tn(t,e,1,-1)}function df(e){var t=cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=m_.bind(null,Ae,e),[t.memoizedState,e]}function So(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function _p(){return Gt().memoizedState}function Ms(e,t,i,o){var a=cn();Ae.flags|=e,a.memoizedState=So(1|t,i,void 0,o===void 0?null:o)}function ga(e,t,i,o){var a=Gt();o=o===void 0?null:o;var l=void 0;if(Ye!==null){var c=Ye.memoizedState;if(l=c.destroy,o!==null&&vc(o,c.deps)){a.memoizedState=So(t,i,l,o);return}}Ae.flags|=e,a.memoizedState=So(1|t,i,l,o)}function ff(e,t){return Ms(8390656,8,e,t)}function xc(e,t){return ga(2048,8,e,t)}function yp(e,t){return ga(4,2,e,t)}function xp(e,t){return ga(4,4,e,t)}function wp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kp(e,t,i){return i=i!=null?i.concat([e]):null,ga(4,4,wp.bind(null,t,e),i)}function wc(){}function Sp(e,t){var i=Gt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&vc(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function bp(e,t){var i=Gt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&vc(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function Cp(e,t,i){return Ci&21?(nn(i,t)||(i=Nh(),Ae.lanes|=i,Pi|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=i)}function h_(e,t){var i=be;be=i!==0&&4>i?i:4,e(!0);var o=Tl.transition;Tl.transition={};try{e(!1),t()}finally{be=i,Tl.transition=o}}function Pp(){return Gt().memoizedState}function p_(e,t,i){var o=Kn(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Ep(e))Lp(t,i);else if(i=lp(e,t,i,o),i!==null){var a=yt();tn(i,e,o,a),Tp(i,t,o)}}function m_(e,t,i){var o=Kn(e),a={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ep(e))Lp(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var c=t.lastRenderedState,f=l(c,i);if(a.hasEagerState=!0,a.eagerState=f,nn(f,c)){var p=t.interleaved;p===null?(a.next=a,fc(t)):(a.next=p.next,p.next=a),t.interleaved=a;return}}catch{}finally{}i=lp(e,t,a,o),i!==null&&(a=yt(),tn(i,e,o,a),Tp(i,t,o))}}function Ep(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Lp(e,t){to=ta=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Tp(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,qu(e,i)}}var na={readContext:Vt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},g_={readContext:Vt,useCallback:function(e,t){return cn().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:ff,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ms(4194308,4,wp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ms(4,2,e,t)},useMemo:function(e,t){var i=cn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=cn();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=p_.bind(null,Ae,e),[o.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:df,useDebugValue:wc,useDeferredValue:function(e){return cn().memoizedState=e},useTransition:function(){var e=df(!1),t=e[0];return e=h_.bind(null,e[1]),cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Ae,a=cn();if(je){if(i===void 0)throw Error(Y(407));i=i()}else{if(i=t(),Je===null)throw Error(Y(349));Ci&30||hp(o,t,i)}a.memoizedState=i;var l={value:i,getSnapshot:t};return a.queue=l,ff(mp.bind(null,o,l,e),[e]),o.flags|=2048,So(9,pp.bind(null,o,l,i,t),void 0,null),i},useId:function(){var e=cn(),t=Je.identifierPrefix;if(je){var i=bn,o=Sn;i=(o&~(1<<32-en(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=wo++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=f_++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},v_={readContext:Vt,useCallback:Sp,useContext:Vt,useEffect:xc,useImperativeHandle:kp,useInsertionEffect:yp,useLayoutEffect:xp,useMemo:bp,useReducer:Nl,useRef:_p,useState:function(){return Nl(ko)},useDebugValue:wc,useDeferredValue:function(e){var t=Gt();return Cp(t,Ye.memoizedState,e)},useTransition:function(){var e=Nl(ko)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:dp,useSyncExternalStore:fp,useId:Pp,unstable_isNewReconciler:!1},__={readContext:Vt,useCallback:Sp,useContext:Vt,useEffect:xc,useImperativeHandle:kp,useInsertionEffect:yp,useLayoutEffect:xp,useMemo:bp,useReducer:Ml,useRef:_p,useState:function(){return Ml(ko)},useDebugValue:wc,useDeferredValue:function(e){var t=Gt();return Ye===null?t.memoizedState=e:Cp(t,Ye.memoizedState,e)},useTransition:function(){var e=Ml(ko)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:dp,useSyncExternalStore:fp,useId:Pp,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function _u(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:De({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var va={isMounted:function(e){return(e=e._reactInternals)?Ni(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=yt(),a=Kn(e),l=Cn(o,a);l.payload=t,i!=null&&(l.callback=i),t=Gn(e,l,a),t!==null&&(tn(t,e,a,o),Ts(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=yt(),a=Kn(e),l=Cn(o,a);l.tag=1,l.payload=t,i!=null&&(l.callback=i),t=Gn(e,l,a),t!==null&&(tn(t,e,a,o),Ts(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=yt(),o=Kn(e),a=Cn(i,o);a.tag=2,t!=null&&(a.callback=t),t=Gn(e,a,o),t!==null&&(tn(t,e,o,i),Ts(t,e,o))}};function hf(e,t,i,o,a,l,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,l,c):t.prototype&&t.prototype.isPureReactComponent?!mo(i,o)||!mo(a,l):!0}function Np(e,t,i){var o=!1,a=qn,l=t.contextType;return typeof l=="object"&&l!==null?l=Vt(l):(a=Lt(t)?Si:ht.current,o=t.contextTypes,l=(o=o!=null)?lr(e,a):qn),t=new t(i,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=va,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function pf(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&va.enqueueReplaceState(t,t.state,null)}function yu(e,t,i,o){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},hc(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Vt(l):(l=Lt(t)?Si:ht.current,a.context=lr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(_u(e,t,l,i),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&va.enqueueReplaceState(a,a.state,null),Js(e,i,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function fr(e,t){try{var i="",o=t;do i+=Vg(o),o=o.return;while(o);var a=i}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Ol(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function xu(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var y_=typeof WeakMap=="function"?WeakMap:Map;function Mp(e,t,i){i=Cn(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){ra||(ra=!0,Nu=o),xu(e,t)},i}function Op(e,t,i){i=Cn(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=t.value;i.payload=function(){return o(a)},i.callback=function(){xu(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){xu(e,t),typeof o!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),i}function mf(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new y_;var a=new Set;o.set(t,a)}else a=o.get(t),a===void 0&&(a=new Set,o.set(t,a));a.has(i)||(a.add(i),e=z_.bind(null,e,t,i),t.then(e,e))}function gf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vf(e,t,i,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Cn(-1,1),t.tag=2,Gn(i,t,1))),i.lanes|=1),e)}var x_=Nn.ReactCurrentOwner,Pt=!1;function _t(e,t,i,o){t.child=e===null?ap(t,null,i,o):cr(t,e.child,i,o)}function _f(e,t,i,o,a){i=i.render;var l=t.ref;return rr(t,a),o=_c(e,t,i,o,l,a),i=yc(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Tn(e,t,a)):(je&&i&&sc(t),t.flags|=1,_t(e,t,o,a),t.child)}function yf(e,t,i,o,a){if(e===null){var l=i.type;return typeof l=="function"&&!Tc(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=l,zp(e,t,l,o,a)):(e=Is(i.type,null,o,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var c=l.memoizedProps;if(i=i.compare,i=i!==null?i:mo,i(c,o)&&e.ref===t.ref)return Tn(e,t,a)}return t.flags|=1,e=Xn(l,o),e.ref=t.ref,e.return=t,t.child=e}function zp(e,t,i,o,a){if(e!==null){var l=e.memoizedProps;if(mo(l,o)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=o=l,(e.lanes&a)!==0)e.flags&131072&&(Pt=!0);else return t.lanes=e.lanes,Tn(e,t,a)}return wu(e,t,i,o,a)}function jp(e,t,i){var o=t.pendingProps,a=o.children,l=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Ji,zt),zt|=i;else{if(!(i&1073741824))return e=l!==null?l.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Ji,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=l!==null?l.baseLanes:i,Te(Ji,zt),zt|=o}else l!==null?(o=l.baseLanes|i,t.memoizedState=null):o=i,Te(Ji,zt),zt|=o;return _t(e,t,a,i),t.child}function Ip(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function wu(e,t,i,o,a){var l=Lt(i)?Si:ht.current;return l=lr(t,l),rr(t,a),i=_c(e,t,i,o,l,a),o=yc(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Tn(e,t,a)):(je&&o&&sc(t),t.flags|=1,_t(e,t,i,a),t.child)}function xf(e,t,i,o,a){if(Lt(i)){var l=!0;Ys(t)}else l=!1;if(rr(t,a),t.stateNode===null)Os(e,t),Np(t,i,o),yu(t,i,o,a),o=!0;else if(e===null){var c=t.stateNode,f=t.memoizedProps;c.props=f;var p=c.context,g=i.contextType;typeof g=="object"&&g!==null?g=Vt(g):(g=Lt(i)?Si:ht.current,g=lr(t,g));var S=i.getDerivedStateFromProps,k=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function";k||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==o||p!==g)&&pf(t,c,o,g),Dn=!1;var x=t.memoizedState;c.state=x,Js(t,o,c,a),p=t.memoizedState,f!==o||x!==p||Et.current||Dn?(typeof S=="function"&&(_u(t,i,S,o),p=t.memoizedState),(f=Dn||hf(t,i,f,o,x,p,g))?(k||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=p),c.props=o,c.state=p,c.context=g,o=f):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{c=t.stateNode,up(e,t),f=t.memoizedProps,g=t.type===t.elementType?f:Qt(t.type,f),c.props=g,k=t.pendingProps,x=c.context,p=i.contextType,typeof p=="object"&&p!==null?p=Vt(p):(p=Lt(i)?Si:ht.current,p=lr(t,p));var N=i.getDerivedStateFromProps;(S=typeof N=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==k||x!==p)&&pf(t,c,o,p),Dn=!1,x=t.memoizedState,c.state=x,Js(t,o,c,a);var z=t.memoizedState;f!==k||x!==z||Et.current||Dn?(typeof N=="function"&&(_u(t,i,N,o),z=t.memoizedState),(g=Dn||hf(t,i,g,o,x,z,p)||!1)?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(o,z,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(o,z,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=z),c.props=o,c.state=z,c.context=p,o=g):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),o=!1)}return ku(e,t,i,o,l,a)}function ku(e,t,i,o,a,l){Ip(e,t);var c=(t.flags&128)!==0;if(!o&&!c)return a&&of(t,i,!1),Tn(e,t,l);o=t.stateNode,x_.current=t;var f=c&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&c?(t.child=cr(t,e.child,null,l),t.child=cr(t,null,f,l)):_t(e,t,f,l),t.memoizedState=o.state,a&&of(t,i,!0),t.child}function Rp(e){var t=e.stateNode;t.pendingContext?rf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rf(e,t.context,!1),pc(e,t.containerInfo)}function wf(e,t,i,o,a){return ur(),lc(a),t.flags|=256,_t(e,t,i,o),t.child}var Su={dehydrated:null,treeContext:null,retryLane:0};function bu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ap(e,t,i){var o=t.pendingProps,a=Re.current,l=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(a&2)!==0),f?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Te(Re,a&1),e===null)return gu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=o.children,e=o.fallback,l?(o=t.mode,l=t.child,c={mode:"hidden",children:c},!(o&1)&&l!==null?(l.childLanes=0,l.pendingProps=c):l=xa(c,o,0,null),e=ki(e,o,i,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=bu(i),t.memoizedState=Su,e):kc(t,c));if(a=e.memoizedState,a!==null&&(f=a.dehydrated,f!==null))return w_(e,t,c,o,f,a,i);if(l){l=o.fallback,c=t.mode,a=e.child,f=a.sibling;var p={mode:"hidden",children:o.children};return!(c&1)&&t.child!==a?(o=t.child,o.childLanes=0,o.pendingProps=p,t.deletions=null):(o=Xn(a,p),o.subtreeFlags=a.subtreeFlags&14680064),f!==null?l=Xn(f,l):(l=ki(l,c,i,null),l.flags|=2),l.return=t,o.return=t,o.sibling=l,t.child=o,o=l,l=t.child,c=e.child.memoizedState,c=c===null?bu(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~i,t.memoizedState=Su,o}return l=e.child,e=l.sibling,o=Xn(l,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function kc(e,t){return t=xa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gs(e,t,i,o){return o!==null&&lc(o),cr(t,e.child,null,i),e=kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w_(e,t,i,o,a,l,c){if(i)return t.flags&256?(t.flags&=-257,o=Ol(Error(Y(422))),gs(e,t,c,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=o.fallback,a=t.mode,o=xa({mode:"visible",children:o.children},a,0,null),l=ki(l,a,c,null),l.flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,t.mode&1&&cr(t,e.child,null,c),t.child.memoizedState=bu(c),t.memoizedState=Su,l);if(!(t.mode&1))return gs(e,t,c,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var f=o.dgst;return o=f,l=Error(Y(419)),o=Ol(l,o,void 0),gs(e,t,c,o)}if(f=(c&e.childLanes)!==0,Pt||f){if(o=Je,o!==null){switch(c&-c){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|c)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Ln(e,a),tn(o,e,a,-1))}return Lc(),o=Ol(Error(Y(421))),gs(e,t,c,o)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=j_.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,jt=Vn(a.nextSibling),It=t,je=!0,Jt=null,e!==null&&(Ht[$t++]=Sn,Ht[$t++]=bn,Ht[$t++]=bi,Sn=e.id,bn=e.overflow,bi=t),t=kc(t,o.children),t.flags|=4096,t)}function kf(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),vu(e.return,t,i)}function zl(e,t,i,o,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=i,l.tailMode=a)}function Dp(e,t,i){var o=t.pendingProps,a=o.revealOrder,l=o.tail;if(_t(e,t,o.children,i),o=Re.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kf(e,i,t);else if(e.tag===19)kf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Te(Re,o),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(i=t.child,a=null;i!==null;)e=i.alternate,e!==null&&ea(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=t.child,t.child=null):(a=i.sibling,i.sibling=null),zl(t,!1,a,i,l);break;case"backwards":for(i=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ea(e)===null){t.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}zl(t,!0,i,null,l);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Os(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Pi|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,i=Xn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Xn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function k_(e,t,i){switch(t.tag){case 3:Rp(t),ur();break;case 5:cp(t);break;case 1:Lt(t.type)&&Ys(t);break;case 4:pc(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,a=t.memoizedProps.value;Te(Qs,o._currentValue),o._currentValue=a;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Te(Re,Re.current&1),t.flags|=128,null):i&t.child.childLanes?Ap(e,t,i):(Te(Re,Re.current&1),e=Tn(e,t,i),e!==null?e.sibling:null);Te(Re,Re.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return Dp(e,t,i);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Te(Re,Re.current),o)break;return null;case 22:case 23:return t.lanes=0,jp(e,t,i)}return Tn(e,t,i)}var Bp,Cu,Zp,Fp;Bp=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Cu=function(){};Zp=function(e,t,i,o){var a=e.memoizedProps;if(a!==o){e=t.stateNode,yi(hn.current);var l=null;switch(i){case"input":a=Gl(e,a),o=Gl(e,o),l=[];break;case"select":a=De({},a,{value:void 0}),o=De({},o,{value:void 0}),l=[];break;case"textarea":a=Xl(e,a),o=Xl(e,o),l=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Vs)}ql(i,o);var c;i=null;for(g in a)if(!o.hasOwnProperty(g)&&a.hasOwnProperty(g)&&a[g]!=null)if(g==="style"){var f=a[g];for(c in f)f.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ao.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in o){var p=o[g];if(f=a!=null?a[g]:void 0,o.hasOwnProperty(g)&&p!==f&&(p!=null||f!=null))if(g==="style")if(f){for(c in f)!f.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in p)p.hasOwnProperty(c)&&f[c]!==p[c]&&(i||(i={}),i[c]=p[c])}else i||(l||(l=[]),l.push(g,i)),i=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(l=l||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(l=l||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ao.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&Me("scroll",e),l||f===p||(l=[])):(l=l||[]).push(g,p))}i&&(l=l||[]).push("style",i);var g=l;(t.updateQueue=g)&&(t.flags|=4)}};Fp=function(e,t,i,o){i!==o&&(t.flags|=4)};function Hr(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function S_(e,t,i){var o=t.pendingProps;switch(ac(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return Lt(t.type)&&Gs(),dt(t),null;case 3:return o=t.stateNode,dr(),Oe(Et),Oe(ht),gc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jt!==null&&(zu(Jt),Jt=null))),Cu(e,t),dt(t),null;case 5:mc(t);var a=yi(xo.current);if(i=t.type,e!==null&&t.stateNode!=null)Zp(e,t,i,o,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(Y(166));return dt(t),null}if(e=yi(hn.current),ps(t)){o=t.stateNode,i=t.type;var l=t.memoizedProps;switch(o[dn]=t,o[_o]=l,e=(t.mode&1)!==0,i){case"dialog":Me("cancel",o),Me("close",o);break;case"iframe":case"object":case"embed":Me("load",o);break;case"video":case"audio":for(a=0;a<Kr.length;a++)Me(Kr[a],o);break;case"source":Me("error",o);break;case"img":case"image":case"link":Me("error",o),Me("load",o);break;case"details":Me("toggle",o);break;case"input":Nd(o,l),Me("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},Me("invalid",o);break;case"textarea":Od(o,l),Me("invalid",o)}ql(i,l),a=null;for(var c in l)if(l.hasOwnProperty(c)){var f=l[c];c==="children"?typeof f=="string"?o.textContent!==f&&(l.suppressHydrationWarning!==!0&&hs(o.textContent,f,e),a=["children",f]):typeof f=="number"&&o.textContent!==""+f&&(l.suppressHydrationWarning!==!0&&hs(o.textContent,f,e),a=["children",""+f]):ao.hasOwnProperty(c)&&f!=null&&c==="onScroll"&&Me("scroll",o)}switch(i){case"input":os(o),Md(o,l,!0);break;case"textarea":os(o),zd(o);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(o.onclick=Vs)}o=a,t.updateQueue=o,o!==null&&(t.flags|=4)}else{c=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mh(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=c.createElement(i,{is:o.is}):(e=c.createElement(i),i==="select"&&(c=e,o.multiple?c.multiple=!0:o.size&&(c.size=o.size))):e=c.createElementNS(e,i),e[dn]=t,e[_o]=o,Bp(e,t,!1,!1),t.stateNode=e;e:{switch(c=Jl(i,o),i){case"dialog":Me("cancel",e),Me("close",e),a=o;break;case"iframe":case"object":case"embed":Me("load",e),a=o;break;case"video":case"audio":for(a=0;a<Kr.length;a++)Me(Kr[a],e);a=o;break;case"source":Me("error",e),a=o;break;case"img":case"image":case"link":Me("error",e),Me("load",e),a=o;break;case"details":Me("toggle",e),a=o;break;case"input":Nd(e,o),a=Gl(e,o),Me("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=De({},o,{value:void 0}),Me("invalid",e);break;case"textarea":Od(e,o),a=Xl(e,o),Me("invalid",e);break;default:a=o}ql(i,a),f=a;for(l in f)if(f.hasOwnProperty(l)){var p=f[l];l==="style"?_h(e,p):l==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&gh(e,p)):l==="children"?typeof p=="string"?(i!=="textarea"||p!=="")&&lo(e,p):typeof p=="number"&&lo(e,""+p):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ao.hasOwnProperty(l)?p!=null&&l==="onScroll"&&Me("scroll",e):p!=null&&Vu(e,l,p,c))}switch(i){case"input":os(e),Md(e,o,!1);break;case"textarea":os(e),zd(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Qn(o.value));break;case"select":e.multiple=!!o.multiple,l=o.value,l!=null?er(e,!!o.multiple,l,!1):o.defaultValue!=null&&er(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Vs)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)Fp(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(Y(166));if(i=yi(xo.current),yi(hn.current),ps(t)){if(o=t.stateNode,i=t.memoizedProps,o[dn]=t,(l=o.nodeValue!==i)&&(e=It,e!==null))switch(e.tag){case 3:hs(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hs(o.nodeValue,i,(e.mode&1)!==0)}l&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[dn]=t,t.stateNode=o}return dt(t),null;case 13:if(Oe(Re),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&jt!==null&&t.mode&1&&!(t.flags&128))op(),ur(),t.flags|=98560,l=!1;else if(l=ps(t),o!==null&&o.dehydrated!==null){if(e===null){if(!l)throw Error(Y(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Y(317));l[dn]=t}else ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),l=!1}else Jt!==null&&(zu(Jt),Jt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Ke===0&&(Ke=3):Lc())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return dr(),Cu(e,t),e===null&&go(t.stateNode.containerInfo),dt(t),null;case 10:return dc(t.type._context),dt(t),null;case 17:return Lt(t.type)&&Gs(),dt(t),null;case 19:if(Oe(Re),l=t.memoizedState,l===null)return dt(t),null;if(o=(t.flags&128)!==0,c=l.rendering,c===null)if(o)Hr(l,!1);else{if(Ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=ea(e),c!==null){for(t.flags|=128,Hr(l,!1),o=c.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)l=i,e=o,l.flags&=14680066,c=l.alternate,c===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,e=c.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Te(Re,Re.current&1|2),t.child}e=e.sibling}l.tail!==null&&He()>hr&&(t.flags|=128,o=!0,Hr(l,!1),t.lanes=4194304)}else{if(!o)if(e=ea(c),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Hr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!je)return dt(t),null}else 2*He()-l.renderingStartTime>hr&&i!==1073741824&&(t.flags|=128,o=!0,Hr(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(i=l.last,i!==null?i.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=He(),t.sibling=null,i=Re.current,Te(Re,o?i&1|2:i&1),t):(dt(t),null);case 22:case 23:return Ec(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?zt&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function b_(e,t){switch(ac(t),t.tag){case 1:return Lt(t.type)&&Gs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dr(),Oe(Et),Oe(ht),gc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mc(t),null;case 13:if(Oe(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Re),null;case 4:return dr(),null;case 10:return dc(t.type._context),null;case 22:case 23:return Ec(),null;case 24:return null;default:return null}}var vs=!1,ft=!1,C_=typeof WeakSet=="function"?WeakSet:Set,ne=null;function qi(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Ze(e,t,o)}else i.current=null}function Pu(e,t,i){try{i()}catch(o){Ze(e,t,o)}}var Sf=!1;function P_(e,t){if(uu=$s,e=Vh(),oc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var a=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var c=0,f=-1,p=-1,g=0,S=0,k=e,x=null;t:for(;;){for(var N;k!==i||a!==0&&k.nodeType!==3||(f=c+a),k!==l||o!==0&&k.nodeType!==3||(p=c+o),k.nodeType===3&&(c+=k.nodeValue.length),(N=k.firstChild)!==null;)x=k,k=N;for(;;){if(k===e)break t;if(x===i&&++g===a&&(f=c),x===l&&++S===o&&(p=c),(N=k.nextSibling)!==null)break;k=x,x=k.parentNode}k=N}i=f===-1||p===-1?null:{start:f,end:p}}else i=null}i=i||{start:0,end:0}}else i=null;for(cu={focusedElem:e,selectionRange:i},$s=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var j=z.memoizedProps,re=z.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?j:Qt(t.type,j),re);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(T){Ze(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return z=Sf,Sf=!1,z}function no(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Pu(t,i,l)}a=a.next}while(a!==o)}}function _a(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Eu(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Hp(e){var t=e.alternate;t!==null&&(e.alternate=null,Hp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[_o],delete t[hu],delete t[l_],delete t[u_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $p(e){return e.tag===5||e.tag===3||e.tag===4}function bf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$p(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lu(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Vs));else if(o!==4&&(e=e.child,e!==null))for(Lu(e,t,i),e=e.sibling;e!==null;)Lu(e,t,i),e=e.sibling}function Tu(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Tu(e,t,i),e=e.sibling;e!==null;)Tu(e,t,i),e=e.sibling}var it=null,qt=!1;function Rn(e,t,i){for(i=i.child;i!==null;)Up(e,t,i),i=i.sibling}function Up(e,t,i){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ca,i)}catch{}switch(i.tag){case 5:ft||qi(i,t);case 6:var o=it,a=qt;it=null,Rn(e,t,i),it=o,qt=a,it!==null&&(qt?(e=it,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):it.removeChild(i.stateNode));break;case 18:it!==null&&(qt?(e=it,i=i.stateNode,e.nodeType===8?Pl(e.parentNode,i):e.nodeType===1&&Pl(e,i),ho(e)):Pl(it,i.stateNode));break;case 4:o=it,a=qt,it=i.stateNode.containerInfo,qt=!0,Rn(e,t,i),it=o,qt=a;break;case 0:case 11:case 14:case 15:if(!ft&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var l=a,c=l.destroy;l=l.tag,c!==void 0&&(l&2||l&4)&&Pu(i,t,c),a=a.next}while(a!==o)}Rn(e,t,i);break;case 1:if(!ft&&(qi(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(f){Ze(i,t,f)}Rn(e,t,i);break;case 21:Rn(e,t,i);break;case 22:i.mode&1?(ft=(o=ft)||i.memoizedState!==null,Rn(e,t,i),ft=o):Rn(e,t,i);break;default:Rn(e,t,i)}}function Cf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new C_),t.forEach(function(o){var a=I_.bind(null,e,o);i.has(o)||(i.add(o),o.then(a,a))})}}function Xt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var a=i[o];try{var l=e,c=t,f=c;e:for(;f!==null;){switch(f.tag){case 5:it=f.stateNode,qt=!1;break e;case 3:it=f.stateNode.containerInfo,qt=!0;break e;case 4:it=f.stateNode.containerInfo,qt=!0;break e}f=f.return}if(it===null)throw Error(Y(160));Up(l,c,a),it=null,qt=!1;var p=a.alternate;p!==null&&(p.return=null),a.return=null}catch(g){Ze(a,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wp(t,e),t=t.sibling}function Wp(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),un(e),o&4){try{no(3,e,e.return),_a(3,e)}catch(j){Ze(e,e.return,j)}try{no(5,e,e.return)}catch(j){Ze(e,e.return,j)}}break;case 1:Xt(t,e),un(e),o&512&&i!==null&&qi(i,i.return);break;case 5:if(Xt(t,e),un(e),o&512&&i!==null&&qi(i,i.return),e.flags&32){var a=e.stateNode;try{lo(a,"")}catch(j){Ze(e,e.return,j)}}if(o&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,c=i!==null?i.memoizedProps:l,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&l.type==="radio"&&l.name!=null&&hh(a,l),Jl(f,c);var g=Jl(f,l);for(c=0;c<p.length;c+=2){var S=p[c],k=p[c+1];S==="style"?_h(a,k):S==="dangerouslySetInnerHTML"?gh(a,k):S==="children"?lo(a,k):Vu(a,S,k,g)}switch(f){case"input":Yl(a,l);break;case"textarea":ph(a,l);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var N=l.value;N!=null?er(a,!!l.multiple,N,!1):x!==!!l.multiple&&(l.defaultValue!=null?er(a,!!l.multiple,l.defaultValue,!0):er(a,!!l.multiple,l.multiple?[]:"",!1))}a[_o]=l}catch(j){Ze(e,e.return,j)}}break;case 6:if(Xt(t,e),un(e),o&4){if(e.stateNode===null)throw Error(Y(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(j){Ze(e,e.return,j)}}break;case 3:if(Xt(t,e),un(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{ho(t.containerInfo)}catch(j){Ze(e,e.return,j)}break;case 4:Xt(t,e),un(e);break;case 13:Xt(t,e),un(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Cc=He())),o&4&&Cf(e);break;case 22:if(S=i!==null&&i.memoizedState!==null,e.mode&1?(ft=(g=ft)||S,Xt(t,e),ft=g):Xt(t,e),un(e),o&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!S&&e.mode&1)for(ne=e,S=e.child;S!==null;){for(k=ne=S;ne!==null;){switch(x=ne,N=x.child,x.tag){case 0:case 11:case 14:case 15:no(4,x,x.return);break;case 1:qi(x,x.return);var z=x.stateNode;if(typeof z.componentWillUnmount=="function"){o=x,i=x.return;try{t=o,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(j){Ze(o,i,j)}}break;case 5:qi(x,x.return);break;case 22:if(x.memoizedState!==null){Ef(k);continue}}N!==null?(N.return=x,ne=N):Ef(k)}S=S.sibling}e:for(S=null,k=e;;){if(k.tag===5){if(S===null){S=k;try{a=k.stateNode,g?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(f=k.stateNode,p=k.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=vh("display",c))}catch(j){Ze(e,e.return,j)}}}else if(k.tag===6){if(S===null)try{k.stateNode.nodeValue=g?"":k.memoizedProps}catch(j){Ze(e,e.return,j)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===e)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===e)break e;for(;k.sibling===null;){if(k.return===null||k.return===e)break e;S===k&&(S=null),k=k.return}S===k&&(S=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:Xt(t,e),un(e),o&4&&Cf(e);break;case 21:break;default:Xt(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if($p(i)){var o=i;break e}i=i.return}throw Error(Y(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(lo(a,""),o.flags&=-33);var l=bf(e);Tu(e,l,a);break;case 3:case 4:var c=o.stateNode.containerInfo,f=bf(e);Lu(e,f,c);break;default:throw Error(Y(161))}}catch(p){Ze(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E_(e,t,i){ne=e,Vp(e)}function Vp(e,t,i){for(var o=(e.mode&1)!==0;ne!==null;){var a=ne,l=a.child;if(a.tag===22&&o){var c=a.memoizedState!==null||vs;if(!c){var f=a.alternate,p=f!==null&&f.memoizedState!==null||ft;f=vs;var g=ft;if(vs=c,(ft=p)&&!g)for(ne=a;ne!==null;)c=ne,p=c.child,c.tag===22&&c.memoizedState!==null?Lf(a):p!==null?(p.return=c,ne=p):Lf(a);for(;l!==null;)ne=l,Vp(l),l=l.sibling;ne=a,vs=f,ft=g}Pf(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ne=l):Pf(e)}}function Pf(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||_a(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!ft)if(i===null)o.componentDidMount();else{var a=t.elementType===t.type?i.memoizedProps:Qt(t.type,i.memoizedProps);o.componentDidUpdate(a,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&cf(t,l,o);break;case 3:var c=t.updateQueue;if(c!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}cf(t,c,i)}break;case 5:var f=t.stateNode;if(i===null&&t.flags&4){i=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var S=g.memoizedState;if(S!==null){var k=S.dehydrated;k!==null&&ho(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}ft||t.flags&512&&Eu(t)}catch(x){Ze(t,t.return,x)}}if(t===e){ne=null;break}if(i=t.sibling,i!==null){i.return=t.return,ne=i;break}ne=t.return}}function Ef(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var i=t.sibling;if(i!==null){i.return=t.return,ne=i;break}ne=t.return}}function Lf(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{_a(4,t)}catch(p){Ze(t,i,p)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var a=t.return;try{o.componentDidMount()}catch(p){Ze(t,a,p)}}var l=t.return;try{Eu(t)}catch(p){Ze(t,l,p)}break;case 5:var c=t.return;try{Eu(t)}catch(p){Ze(t,c,p)}}}catch(p){Ze(t,t.return,p)}if(t===e){ne=null;break}var f=t.sibling;if(f!==null){f.return=t.return,ne=f;break}ne=t.return}}var L_=Math.ceil,ia=Nn.ReactCurrentDispatcher,Sc=Nn.ReactCurrentOwner,Wt=Nn.ReactCurrentBatchConfig,Se=0,Je=null,Ve=null,rt=0,zt=0,Ji=ei(0),Ke=0,bo=null,Pi=0,ya=0,bc=0,io=null,Ct=null,Cc=0,hr=1/0,wn=null,ra=!1,Nu=null,Yn=null,_s=!1,Hn=null,oa=0,ro=0,Mu=null,zs=-1,js=0;function yt(){return Se&6?He():zs!==-1?zs:zs=He()}function Kn(e){return e.mode&1?Se&2&&rt!==0?rt&-rt:d_.transition!==null?(js===0&&(js=Nh()),js):(e=be,e!==0||(e=window.event,e=e===void 0?16:Ah(e.type)),e):1}function tn(e,t,i,o){if(50<ro)throw ro=0,Mu=null,Error(Y(185));Lo(e,i,o),(!(Se&2)||e!==Je)&&(e===Je&&(!(Se&2)&&(ya|=i),Ke===4&&Zn(e,rt)),Tt(e,o),i===1&&Se===0&&!(t.mode&1)&&(hr=He()+500,ma&&ti()))}function Tt(e,t){var i=e.callbackNode;dv(e,t);var o=Hs(e,e===Je?rt:0);if(o===0)i!==null&&Rd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&Rd(i),t===1)e.tag===0?c_(Tf.bind(null,e)):np(Tf.bind(null,e)),s_(function(){!(Se&6)&&ti()}),i=null;else{switch(Mh(o)){case 1:i=Qu;break;case 4:i=Lh;break;case 16:i=Fs;break;case 536870912:i=Th;break;default:i=Fs}i=em(i,Gp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Gp(e,t){if(zs=-1,js=0,Se&6)throw Error(Y(327));var i=e.callbackNode;if(or()&&e.callbackNode!==i)return null;var o=Hs(e,e===Je?rt:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=sa(e,o);else{t=o;var a=Se;Se|=2;var l=Kp();(Je!==e||rt!==t)&&(wn=null,hr=He()+500,wi(e,t));do try{M_();break}catch(f){Yp(e,f)}while(!0);cc(),ia.current=l,Se=a,Ve!==null?t=0:(Je=null,rt=0,t=Ke)}if(t!==0){if(t===2&&(a=ru(e),a!==0&&(o=a,t=Ou(e,a))),t===1)throw i=bo,wi(e,0),Zn(e,o),Tt(e,He()),i;if(t===6)Zn(e,o);else{if(a=e.current.alternate,!(o&30)&&!T_(a)&&(t=sa(e,o),t===2&&(l=ru(e),l!==0&&(o=l,t=Ou(e,l))),t===1))throw i=bo,wi(e,0),Zn(e,o),Tt(e,He()),i;switch(e.finishedWork=a,e.finishedLanes=o,t){case 0:case 1:throw Error(Y(345));case 2:gi(e,Ct,wn);break;case 3:if(Zn(e,o),(o&130023424)===o&&(t=Cc+500-He(),10<t)){if(Hs(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){yt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=fu(gi.bind(null,e,Ct,wn),t);break}gi(e,Ct,wn);break;case 4:if(Zn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,a=-1;0<o;){var c=31-en(o);l=1<<c,c=t[c],c>a&&(a=c),o&=~l}if(o=a,o=He()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*L_(o/1960))-o,10<o){e.timeoutHandle=fu(gi.bind(null,e,Ct,wn),o);break}gi(e,Ct,wn);break;case 5:gi(e,Ct,wn);break;default:throw Error(Y(329))}}}return Tt(e,He()),e.callbackNode===i?Gp.bind(null,e):null}function Ou(e,t){var i=io;return e.current.memoizedState.isDehydrated&&(wi(e,t).flags|=256),e=sa(e,t),e!==2&&(t=Ct,Ct=i,t!==null&&zu(t)),e}function zu(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function T_(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var a=i[o],l=a.getSnapshot;a=a.value;try{if(!nn(l(),a))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t){for(t&=~bc,t&=~ya,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-en(t),o=1<<i;e[i]=-1,t&=~o}}function Tf(e){if(Se&6)throw Error(Y(327));or();var t=Hs(e,0);if(!(t&1))return Tt(e,He()),null;var i=sa(e,t);if(e.tag!==0&&i===2){var o=ru(e);o!==0&&(t=o,i=Ou(e,o))}if(i===1)throw i=bo,wi(e,0),Zn(e,t),Tt(e,He()),i;if(i===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gi(e,Ct,wn),Tt(e,He()),null}function Pc(e,t){var i=Se;Se|=1;try{return e(t)}finally{Se=i,Se===0&&(hr=He()+500,ma&&ti())}}function Ei(e){Hn!==null&&Hn.tag===0&&!(Se&6)&&or();var t=Se;Se|=1;var i=Wt.transition,o=be;try{if(Wt.transition=null,be=1,e)return e()}finally{be=o,Wt.transition=i,Se=t,!(Se&6)&&ti()}}function Ec(){zt=Ji.current,Oe(Ji)}function wi(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,o_(i)),Ve!==null)for(i=Ve.return;i!==null;){var o=i;switch(ac(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Gs();break;case 3:dr(),Oe(Et),Oe(ht),gc();break;case 5:mc(o);break;case 4:dr();break;case 13:Oe(Re);break;case 19:Oe(Re);break;case 10:dc(o.type._context);break;case 22:case 23:Ec()}i=i.return}if(Je=e,Ve=e=Xn(e.current,null),rt=zt=t,Ke=0,bo=null,bc=ya=Pi=0,Ct=io=null,_i!==null){for(t=0;t<_i.length;t++)if(i=_i[t],o=i.interleaved,o!==null){i.interleaved=null;var a=o.next,l=i.pending;if(l!==null){var c=l.next;l.next=a,o.next=c}i.pending=o}_i=null}return e}function Yp(e,t){do{var i=Ve;try{if(cc(),Ns.current=na,ta){for(var o=Ae.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}ta=!1}if(Ci=0,qe=Ye=Ae=null,to=!1,wo=0,Sc.current=null,i===null||i.return===null){Ke=1,bo=t,Ve=null;break}e:{var l=e,c=i.return,f=i,p=t;if(t=rt,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,S=f,k=S.tag;if(!(S.mode&1)&&(k===0||k===11||k===15)){var x=S.alternate;x?(S.updateQueue=x.updateQueue,S.memoizedState=x.memoizedState,S.lanes=x.lanes):(S.updateQueue=null,S.memoizedState=null)}var N=gf(c);if(N!==null){N.flags&=-257,vf(N,c,f,l,t),N.mode&1&&mf(l,g,t),t=N,p=g;var z=t.updateQueue;if(z===null){var j=new Set;j.add(p),t.updateQueue=j}else z.add(p);break e}else{if(!(t&1)){mf(l,g,t),Lc();break e}p=Error(Y(426))}}else if(je&&f.mode&1){var re=gf(c);if(re!==null){!(re.flags&65536)&&(re.flags|=256),vf(re,c,f,l,t),lc(fr(p,f));break e}}l=p=fr(p,f),Ke!==4&&(Ke=2),io===null?io=[l]:io.push(l),l=c;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var w=Mp(l,p,t);uf(l,w);break e;case 1:f=p;var v=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yn===null||!Yn.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var T=Op(l,f,t);uf(l,T);break e}}l=l.return}while(l!==null)}Qp(i)}catch(W){t=W,Ve===i&&i!==null&&(Ve=i=i.return);continue}break}while(!0)}function Kp(){var e=ia.current;return ia.current=na,e===null?na:e}function Lc(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Je===null||!(Pi&268435455)&&!(ya&268435455)||Zn(Je,rt)}function sa(e,t){var i=Se;Se|=2;var o=Kp();(Je!==e||rt!==t)&&(wn=null,wi(e,t));do try{N_();break}catch(a){Yp(e,a)}while(!0);if(cc(),Se=i,ia.current=o,Ve!==null)throw Error(Y(261));return Je=null,rt=0,Ke}function N_(){for(;Ve!==null;)Xp(Ve)}function M_(){for(;Ve!==null&&!nv();)Xp(Ve)}function Xp(e){var t=Jp(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Qp(e):Ve=t,Sc.current=null}function Qp(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=b_(i,t),i!==null){i.flags&=32767,Ve=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,Ve=null;return}}else if(i=S_(i,t,zt),i!==null){Ve=i;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Ke===0&&(Ke=5)}function gi(e,t,i){var o=be,a=Wt.transition;try{Wt.transition=null,be=1,O_(e,t,i,o)}finally{Wt.transition=a,be=o}return null}function O_(e,t,i,o){do or();while(Hn!==null);if(Se&6)throw Error(Y(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var l=i.lanes|i.childLanes;if(fv(e,l),e===Je&&(Ve=Je=null,rt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||_s||(_s=!0,em(Fs,function(){return or(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=Wt.transition,Wt.transition=null;var c=be;be=1;var f=Se;Se|=4,Sc.current=null,P_(e,i),Wp(i,e),qv(cu),$s=!!uu,cu=uu=null,e.current=i,E_(i),iv(),Se=f,be=c,Wt.transition=l}else e.current=i;if(_s&&(_s=!1,Hn=e,oa=a),l=e.pendingLanes,l===0&&(Yn=null),sv(i.stateNode),Tt(e,He()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)a=t[i],o(a.value,{componentStack:a.stack,digest:a.digest});if(ra)throw ra=!1,e=Nu,Nu=null,e;return oa&1&&e.tag!==0&&or(),l=e.pendingLanes,l&1?e===Mu?ro++:(ro=0,Mu=e):ro=0,ti(),null}function or(){if(Hn!==null){var e=Mh(oa),t=Wt.transition,i=be;try{if(Wt.transition=null,be=16>e?16:e,Hn===null)var o=!1;else{if(e=Hn,Hn=null,oa=0,Se&6)throw Error(Y(331));var a=Se;for(Se|=4,ne=e.current;ne!==null;){var l=ne,c=l.child;if(ne.flags&16){var f=l.deletions;if(f!==null){for(var p=0;p<f.length;p++){var g=f[p];for(ne=g;ne!==null;){var S=ne;switch(S.tag){case 0:case 11:case 15:no(8,S,l)}var k=S.child;if(k!==null)k.return=S,ne=k;else for(;ne!==null;){S=ne;var x=S.sibling,N=S.return;if(Hp(S),S===g){ne=null;break}if(x!==null){x.return=N,ne=x;break}ne=N}}}var z=l.alternate;if(z!==null){var j=z.child;if(j!==null){z.child=null;do{var re=j.sibling;j.sibling=null,j=re}while(j!==null)}}ne=l}}if(l.subtreeFlags&2064&&c!==null)c.return=l,ne=c;else e:for(;ne!==null;){if(l=ne,l.flags&2048)switch(l.tag){case 0:case 11:case 15:no(9,l,l.return)}var w=l.sibling;if(w!==null){w.return=l.return,ne=w;break e}ne=l.return}}var v=e.current;for(ne=v;ne!==null;){c=ne;var y=c.child;if(c.subtreeFlags&2064&&y!==null)y.return=c,ne=y;else e:for(c=v;ne!==null;){if(f=ne,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:_a(9,f)}}catch(W){Ze(f,f.return,W)}if(f===c){ne=null;break e}var T=f.sibling;if(T!==null){T.return=f.return,ne=T;break e}ne=f.return}}if(Se=a,ti(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ca,e)}catch{}o=!0}return o}finally{be=i,Wt.transition=t}}return!1}function Nf(e,t,i){t=fr(i,t),t=Mp(e,t,1),e=Gn(e,t,1),t=yt(),e!==null&&(Lo(e,1,t),Tt(e,t))}function Ze(e,t,i){if(e.tag===3)Nf(e,e,i);else for(;t!==null;){if(t.tag===3){Nf(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Yn===null||!Yn.has(o))){e=fr(i,e),e=Op(t,e,1),t=Gn(t,e,1),e=yt(),t!==null&&(Lo(t,1,e),Tt(t,e));break}}t=t.return}}function z_(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&i,Je===e&&(rt&i)===i&&(Ke===4||Ke===3&&(rt&130023424)===rt&&500>He()-Cc?wi(e,0):bc|=i),Tt(e,t)}function qp(e,t){t===0&&(e.mode&1?(t=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):t=1);var i=yt();e=Ln(e,t),e!==null&&(Lo(e,t,i),Tt(e,i))}function j_(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),qp(e,i)}function I_(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(Y(314))}o!==null&&o.delete(t),qp(e,i)}var Jp;Jp=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)Pt=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Pt=!1,k_(e,t,i);Pt=!!(e.flags&131072)}else Pt=!1,je&&t.flags&1048576&&ip(t,Xs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Os(e,t),e=t.pendingProps;var a=lr(t,ht.current);rr(t,i),a=_c(null,t,o,e,a,i);var l=yc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(o)?(l=!0,Ys(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hc(t),a.updater=va,t.stateNode=a,a._reactInternals=t,yu(t,o,e,i),t=ku(null,t,o,!0,l,i)):(t.tag=0,je&&l&&sc(t),_t(null,t,a,i),t=t.child),t;case 16:o=t.elementType;e:{switch(Os(e,t),e=t.pendingProps,a=o._init,o=a(o._payload),t.type=o,a=t.tag=A_(o),e=Qt(o,e),a){case 0:t=wu(null,t,o,e,i);break e;case 1:t=xf(null,t,o,e,i);break e;case 11:t=_f(null,t,o,e,i);break e;case 14:t=yf(null,t,o,Qt(o.type,e),i);break e}throw Error(Y(306,o,""))}return t;case 0:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:Qt(o,a),wu(e,t,o,a,i);case 1:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:Qt(o,a),xf(e,t,o,a,i);case 3:e:{if(Rp(t),e===null)throw Error(Y(387));o=t.pendingProps,l=t.memoizedState,a=l.element,up(e,t),Js(t,o,null,i);var c=t.memoizedState;if(o=c.element,l.isDehydrated)if(l={element:o,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=fr(Error(Y(423)),t),t=wf(e,t,o,i,a);break e}else if(o!==a){a=fr(Error(Y(424)),t),t=wf(e,t,o,i,a);break e}else for(jt=Vn(t.stateNode.containerInfo.firstChild),It=t,je=!0,Jt=null,i=ap(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ur(),o===a){t=Tn(e,t,i);break e}_t(e,t,o,i)}t=t.child}return t;case 5:return cp(t),e===null&&gu(t),o=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,c=a.children,du(o,a)?c=null:l!==null&&du(o,l)&&(t.flags|=32),Ip(e,t),_t(e,t,c,i),t.child;case 6:return e===null&&gu(t),null;case 13:return Ap(e,t,i);case 4:return pc(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=cr(t,null,o,i):_t(e,t,o,i),t.child;case 11:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:Qt(o,a),_f(e,t,o,a,i);case 7:return _t(e,t,t.pendingProps,i),t.child;case 8:return _t(e,t,t.pendingProps.children,i),t.child;case 12:return _t(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,a=t.pendingProps,l=t.memoizedProps,c=a.value,Te(Qs,o._currentValue),o._currentValue=c,l!==null)if(nn(l.value,c)){if(l.children===a.children&&!Et.current){t=Tn(e,t,i);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){c=l.child;for(var p=f.firstContext;p!==null;){if(p.context===o){if(l.tag===1){p=Cn(-1,i&-i),p.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var S=g.pending;S===null?p.next=p:(p.next=S.next,S.next=p),g.pending=p}}l.lanes|=i,p=l.alternate,p!==null&&(p.lanes|=i),vu(l.return,i,t),f.lanes|=i;break}p=p.next}}else if(l.tag===10)c=l.type===t.type?null:l.child;else if(l.tag===18){if(c=l.return,c===null)throw Error(Y(341));c.lanes|=i,f=c.alternate,f!==null&&(f.lanes|=i),vu(c,i,t),c=l.sibling}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===t){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}_t(e,t,a.children,i),t=t.child}return t;case 9:return a=t.type,o=t.pendingProps.children,rr(t,i),a=Vt(a),o=o(a),t.flags|=1,_t(e,t,o,i),t.child;case 14:return o=t.type,a=Qt(o,t.pendingProps),a=Qt(o.type,a),yf(e,t,o,a,i);case 15:return zp(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:Qt(o,a),Os(e,t),t.tag=1,Lt(o)?(e=!0,Ys(t)):e=!1,rr(t,i),Np(t,o,a),yu(t,o,a,i),ku(null,t,o,!0,e,i);case 19:return Dp(e,t,i);case 22:return jp(e,t,i)}throw Error(Y(156,t.tag))};function em(e,t){return Eh(e,t)}function R_(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,i,o){return new R_(e,t,i,o)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A_(e){if(typeof e=="function")return Tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yu)return 11;if(e===Ku)return 14}return 2}function Xn(e,t){var i=e.alternate;return i===null?(i=Ut(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Is(e,t,i,o,a,l){var c=2;if(o=e,typeof e=="function")Tc(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case $i:return ki(i.children,a,l,t);case Gu:c=8,a|=8;break;case $l:return e=Ut(12,i,t,a|2),e.elementType=$l,e.lanes=l,e;case Ul:return e=Ut(13,i,t,a),e.elementType=Ul,e.lanes=l,e;case Wl:return e=Ut(19,i,t,a),e.elementType=Wl,e.lanes=l,e;case ch:return xa(i,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lh:c=10;break e;case uh:c=9;break e;case Yu:c=11;break e;case Ku:c=14;break e;case An:c=16,o=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Ut(c,i,t,a),t.elementType=e,t.type=o,t.lanes=l,t}function ki(e,t,i,o){return e=Ut(7,e,o,t),e.lanes=i,e}function xa(e,t,i,o){return e=Ut(22,e,o,t),e.elementType=ch,e.lanes=i,e.stateNode={isHidden:!1},e}function jl(e,t,i){return e=Ut(6,e,null,t),e.lanes=i,e}function Il(e,t,i){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D_(e,t,i,o,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Nc(e,t,i,o,a,l,c,f,p){return e=new D_(e,t,i,f,p),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ut(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(l),e}function B_(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function tm(e){if(!e)return qn;e=e._reactInternals;e:{if(Ni(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var i=e.type;if(Lt(i))return tp(e,i,t)}return t}function nm(e,t,i,o,a,l,c,f,p){return e=Nc(i,o,!0,e,a,l,c,f,p),e.context=tm(null),i=e.current,o=yt(),a=Kn(i),l=Cn(o,a),l.callback=t??null,Gn(i,l,a),e.current.lanes=a,Lo(e,a,o),Tt(e,o),e}function wa(e,t,i,o){var a=t.current,l=yt(),c=Kn(a);return i=tm(i),t.context===null?t.context=i:t.pendingContext=i,t=Cn(l,c),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Gn(a,t,c),e!==null&&(tn(e,a,c,l),Ts(e,a,c)),c}function aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Mc(e,t){Mf(e,t),(e=e.alternate)&&Mf(e,t)}function Z_(){return null}var im=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oc(e){this._internalRoot=e}ka.prototype.render=Oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));wa(e,t,null,null)};ka.prototype.unmount=Oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ei(function(){wa(null,e,null,null)}),t[En]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=jh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Bn.length&&t!==0&&t<Bn[i].priority;i++);Bn.splice(i,0,e),i===0&&Rh(e)}};function zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Of(){}function F_(e,t,i,o,a){if(a){if(typeof o=="function"){var l=o;o=function(){var g=aa(c);l.call(g)}}var c=nm(t,o,e,0,null,!1,!1,"",Of);return e._reactRootContainer=c,e[En]=c.current,go(e.nodeType===8?e.parentNode:e),Ei(),c}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var f=o;o=function(){var g=aa(p);f.call(g)}}var p=Nc(e,0,!1,null,null,!1,!1,"",Of);return e._reactRootContainer=p,e[En]=p.current,go(e.nodeType===8?e.parentNode:e),Ei(function(){wa(t,p,i,o)}),p}function ba(e,t,i,o,a){var l=i._reactRootContainer;if(l){var c=l;if(typeof a=="function"){var f=a;a=function(){var p=aa(c);f.call(p)}}wa(t,c,e,a)}else c=F_(i,t,e,a,o);return aa(c)}Oh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Yr(t.pendingLanes);i!==0&&(qu(t,i|1),Tt(t,He()),!(Se&6)&&(hr=He()+500,ti()))}break;case 13:Ei(function(){var o=Ln(e,1);if(o!==null){var a=yt();tn(o,e,1,a)}}),Mc(e,1)}};Ju=function(e){if(e.tag===13){var t=Ln(e,134217728);if(t!==null){var i=yt();tn(t,e,134217728,i)}Mc(e,134217728)}};zh=function(e){if(e.tag===13){var t=Kn(e),i=Ln(e,t);if(i!==null){var o=yt();tn(i,e,t,o)}Mc(e,t)}};jh=function(){return be};Ih=function(e,t){var i=be;try{return be=e,t()}finally{be=i}};tu=function(e,t,i){switch(t){case"input":if(Yl(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var a=pa(o);if(!a)throw Error(Y(90));fh(o),Yl(o,a)}}}break;case"textarea":ph(e,i);break;case"select":t=i.value,t!=null&&er(e,!!i.multiple,t,!1)}};wh=Pc;kh=Ei;var H_={usingClientEntryPoint:!1,Events:[No,Gi,pa,yh,xh,Pc]},$r={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$_={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ch(e),e===null?null:e.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||Z_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{ca=ys.inject($_),fn=ys}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_;At.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zc(t))throw Error(Y(200));return B_(e,t,null,i)};At.createRoot=function(e,t){if(!zc(e))throw Error(Y(299));var i=!1,o="",a=im;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Nc(e,1,!1,null,null,i,!1,o,a),e[En]=t.current,go(e.nodeType===8?e.parentNode:e),new Oc(t)};At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Ch(t),e=e===null?null:e.stateNode,e};At.flushSync=function(e){return Ei(e)};At.hydrate=function(e,t,i){if(!Sa(t))throw Error(Y(200));return ba(null,e,t,!0,i)};At.hydrateRoot=function(e,t,i){if(!zc(e))throw Error(Y(405));var o=i!=null&&i.hydratedSources||null,a=!1,l="",c=im;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),t=nm(t,null,e,1,i??null,a,!1,l,c),e[En]=t.current,go(e),o)for(e=0;e<o.length;e++)i=o[e],a=i._getVersion,a=a(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,a]:t.mutableSourceEagerHydrationData.push(i,a);return new ka(t)};At.render=function(e,t,i){if(!Sa(t))throw Error(Y(200));return ba(null,e,t,!1,i)};At.unmountComponentAtNode=function(e){if(!Sa(e))throw Error(Y(40));return e._reactRootContainer?(Ei(function(){ba(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};At.unstable_batchedUpdates=Pc;At.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Sa(i))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return ba(e,t,i,!1,o)};At.version="18.3.1-next-f1338f8080-20240426";function rm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rm)}catch(e){console.error(e)}}rm(),rh.exports=At;var U_=rh.exports,zf=U_;Fl.createRoot=zf.createRoot,Fl.hydrateRoot=zf.hydrateRoot;var ju={exports:{}};/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */(function(e,t){(function(i,o){o(t)})(Du,function(i){var o="dnd-poly-",a=["none","copy","copyLink","copyMove","link","linkMove","move","all"],l=["none","copy","move","link"];function c(){var C=!1;try{var A=Object.defineProperty({},"passive",{get:function(){C=!0}});window.addEventListener("test",null,A)}catch{}return C}var f=c();function p(C){return C&&C.tagName}function g(C,A,X){document.addEventListener(C,A,!!f&&{passive:X})}function S(C,A){document.removeEventListener(C,A)}function k(C,A,X,Q){Q===void 0&&(Q=!1);var K=f?{passive:!0,capture:Q}:Q;return C.addEventListener(A,X,K),{off:function(){C.removeEventListener(A,X,K)}}}function x(C){return C.length===0?0:C.reduce(function(A,X){return X+A},0)/C.length}function N(C,A){for(var X=0;X<C.changedTouches.length;X++)if(C.changedTouches[X].identifier===A)return!0;return!1}function z(C,A,X){for(var Q=[],K=[],E=0;E<A.touches.length;E++){var G=A.touches[E];Q.push(G[C+"X"]),K.push(G[C+"Y"])}X.x=x(Q),X.y=x(K)}var j=["","-webkit-"];function re(C,G,X,Q,K){var E=G.x,G=G.y;Q&&(E+=Q.x,G+=Q.y),(K=K===void 0||K)&&(E-=parseInt(C.offsetWidth,10)/2,G-=parseInt(C.offsetHeight,10)/2);for(var R="translate3d("+E+"px,"+G+"px, 0)",F=0;F<j.length;F++){var ee=j[F]+"transform";C.style[ee]=R+" "+X[F]}}var w=(Object.defineProperty(v.prototype,"dropEffect",{get:function(){return this.t},set:function(C){this.i.mode!==0&&-1<a.indexOf(C)&&(this.t=C)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"types",{get:function(){if(this.i.mode!==0)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(C){this.i.mode===2&&-1<a.indexOf(C)&&(this.i.effectAllowed=C)},enumerable:!1,configurable:!0}),v.prototype.setData=function(C,A){if(this.i.mode===2){if(-1<C.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[C]=A,this.i.types.indexOf(C)===-1&&this.i.types.push(C)}},v.prototype.getData=function(C){if(this.i.mode===1||this.i.mode===2)return this.i.data[C]||""},v.prototype.clearData=function(C){this.i.mode===2&&(C&&this.i.data[C]?(delete this.i.data[C],-1<(C=this.i.types.indexOf(C))&&this.i.types.splice(C,1)):(this.i.data={},this.i.types=[]))},v.prototype.setDragImage=function(C,A,X){this.i.mode===2&&this.h(C,A,X)},v);function v(C,A){this.i=C,this.h=A,this.t=l[0]}function y(C,A){return C?C===a[0]?l[0]:C.indexOf(a[1])===0||C===a[7]?l[1]:C.indexOf(a[4])===0?l[3]:C===a[6]?l[2]:l[1]:A.nodeType===3&&A.tagName==="A"?l[3]:l[1]}function T(C,A,X,Q,K,E,G){return G===void 0&&(G=null),K=function(R,F,ee,ue,ae,le,se){G===void 0&&(se=null);var ge=X.changedTouches[0],ue=new Event(C,{bubbles:!0,cancelable:ue});return ue.dataTransfer=le,ue.relatedTarget=se,ue.screenX=ge.screenX,ue.screenY=ge.screenY,ue.clientX=ge.clientX,ue.clientY=ge.clientY,ue.pageX=ge.pageX,ue.pageY=ge.pageY,R=R.getBoundingClientRect(),ue.offsetX=ue.clientX-R.left,ue.offsetY=ue.clientY-R.top,ue}(A,0,0,E=E===void 0||E,document.defaultView,K,G),K=!A.dispatchEvent(K),Q.mode=0,K}function W(C,A){if(!C||C===a[7])return A;if(A===l[1]){if(C.indexOf(l[1])===0)return l[1]}else if(A===l[3]){if(C.indexOf(l[3])===0||-1<C.indexOf("Link"))return l[3]}else if(A===l[2]&&(C.indexOf(l[2])===0||-1<C.indexOf("Move")))return l[2];return l[0]}var I=(B.prototype.o=function(){var C=this;this.u=1,this.l=l[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var A=this.m;if(this.I=new w(this.v,function(E,G,R){A=E,typeof G!="number"&&typeof R!="number"||(C.j={x:G||0,y:R||0})}),this.v.mode=2,this.I.dropEffect=l[0],T("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;z("page",this.k,this.g);var X,Q,K=this.S.dragImageSetup(A);return this.A=(X=K,j.map(function(E){return E=X.style[E+"transform"],E&&E!=="none"?E.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),K.style.position="absolute",K.style.left="0px",K.style.top="0px",K.style.zIndex="999999",K.classList.add("dnd-poly-drag-image"),K.classList.add("dnd-poly-icon"),this.O=K,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(Q=getComputedStyle(A),this.j={x:0-parseInt(Q.marginLeft,10),y:0-parseInt(Q.marginTop,10)}):(K=A.getBoundingClientRect(),Q=getComputedStyle(A),this.j={x:K.left-this.M.clientX-parseInt(Q.marginLeft,10)+K.width/2,y:K.top-this.M.clientY-parseInt(Q.marginTop,10)+K.height/2})),re(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){C.F||(C.F=!0,C.N(),C.F=!1)},this.S.iterationInterval),!0},B.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),S("touchmove",this.P),S("touchend",this.T),S("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},B.prototype._=function(C){var A=this;if(N(C,this.M.identifier)!==!1){if(this.k=C,this.u===0){var X=void 0;if(this.S.dragStartConditionOverride)try{X=this.S.dragStartConditionOverride(C)}catch{X=!1}else X=C.touches.length===1;return X?void(this.o()===!0&&(this.H.preventDefault(),C.preventDefault())):void this.C()}if(C.preventDefault(),z("client",C,this.p),z("page",C,this.g),this.S.dragImageTranslateOverride)try{var Q=!1;if(this.S.dragImageTranslateOverride(C,{x:this.p.x,y:this.p.y},this.V,function(K,E){A.O&&(Q=!0,A.p.x+=K,A.p.y+=E,A.g.x+=K,A.g.y+=E,re(A.O,A.g,A.A,A.j,A.S.dragImageCenterOnTouch))}),Q)return}catch{}re(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},B.prototype.X=function(C){if(N(C,this.M.identifier)!==!1){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch{}this.u!==0?(C.preventDefault(),this.u=C.type==="touchcancel"?3:2):this.C()}},B.prototype.N=function(){var C=this,A=this.l;this.v.mode=3,this.I.dropEffect=l[0];var X,Q,K,E,G,R=T("drag",this.m,this.k,this.v,this.I);if(R&&(this.l=l[0]),R||this.u===2||this.u===3)return this.Y(this.u)?(E=this.m,X=this.O,Q=this.A,ee=function(){C.q()},void((G=getComputedStyle(E)).visibility!=="hidden"&&G.display!=="none"?(X.classList.add("dnd-poly-snapback"),K=getComputedStyle(X),R=parseFloat(K.transitionDuration),isNaN(R)||R===0?ee():((E={x:(F=E.getBoundingClientRect()).left,y:F.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,E.y+=document.body.scrollTop||document.documentElement.scrollTop,E.x-=parseInt(G.marginLeft,10),E.y-=parseInt(G.marginTop,10),F=parseFloat(K.transitionDelay),F=Math.round(1e3*(R+F)),re(X,E,Q,void 0,!1),setTimeout(ee,F))):ee())):void this.q();var F=this.S.elementFromPoint(this.p.x,this.p.y),ee=this.B;F!==this.V&&F!==this.B&&(this.V=F,this.B!==null&&(this.v.mode=3,this.I.dropEffect=l[0],T("dragexit",this.B,this.k,this.v,this.I,!1)),this.V===null?this.B=this.V:(this.v.mode=3,this.I.dropEffect=y(this.v.effectAllowed,this.m),T("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=W(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),ee!==this.B&&p(ee)&&(this.v.mode=3,this.I.dropEffect=l[0],T("dragleave",ee,this.k,this.v,this.I,!1,this.B)),p(this.B)&&(this.v.mode=3,this.I.dropEffect=y(this.v.effectAllowed,this.m),T("dragover",this.B,this.k,this.v,this.I)===!1?this.l=l[0]:this.l=W(this.I.effectAllowed,this.I.dropEffect)),A!==this.l&&this.O.classList.remove(o+A),A=o+this.l,this.O.classList.add(A)},B.prototype.Y=function(C){return C=this.l===l[0]||this.B===null||C===3,C?p(this.B)&&(this.v.mode=3,this.I.dropEffect=l[0],T("dragleave",this.B,this.k,this.v,this.I,!1)):p(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,T("drop",this.B,this.k,this.v,this.I)===!0?this.l=this.I.dropEffect:this.l=l[0]),C},B.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,T("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},B);function B(C,A,X,Q){this.H=C,this.S=A,this.m=X,this.L=Q,this.u=0,this.V=null,this.B=null,this.k=C,this.M=C.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),g("touchmove",this.P,!1),g("touchend",this.T,!1),g("touchcancel",this.T,!1)}var V,D={iterationInterval:150,tryFindDraggableTarget:function(C){for(var A=0,X=C.composedPath();A<X.length;A++){var Q=X[A];do if(Q.draggable!==!1&&(Q.draggable===!0||Q.getAttribute&&Q.getAttribute("draggable")==="true"))return Q;while((Q=Q.parentNode)&&Q!==document.body)}},dragImageSetup:function(C){var A=C.cloneNode(!0);return function X(Q,K){if(Q.nodeType===1){for(var E,G,R=getComputedStyle(Q),F=0;F<R.length;F++){var ee=R[F];K.style.setProperty(ee,R.getPropertyValue(ee),R.getPropertyPriority(ee))}K.style.pointerEvents="none",K.removeAttribute("id"),K.removeAttribute("class"),K.removeAttribute("draggable"),K.nodeName==="CANVAS"&&(E=K,G=(G=Q).getContext("2d").getImageData(0,0,G.width,G.height),E.getContext("2d").putImageData(G,0,0))}if(Q.hasChildNodes())for(F=0;F<Q.childNodes.length;F++)X(Q.childNodes[F],K.childNodes[F]);(function he(ae){if(ae instanceof HTMLElement&&(ae.style.pointerEvents="none"),ae.children&&ae.children.length)for(var le=0;le<ae.children.length;le++)he(ae.children[le]);if(ae.shadowRoot&&ae.shadowRoot.children.length)for(le=0;le<ae.shadowRoot.children.length;le++)he(ae.shadowRoot.children[le])})(K)}(C,A),A},elementFromPoint:function(C,A){var X=document.elementFromPoint(C,A);if(X){for(;X.shadowRoot;){var Q=X.shadowRoot.elementFromPoint(C,A);if(Q===null||Q===X)break;X=Q}return X}}};function Z(C){if(!V){var A=D.tryFindDraggableTarget(C);if(A)try{V=new I(C,D,A,q)}catch(X){throw q(D,C,3),X}}}function $(C){function A(F){K.off(),E.off(),G.off(),R.off(),X&&X.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(Q)}var X=C.target;X&&X.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var Q=window.setTimeout(function(){K.off(),E.off(),G.off(),R.off(),Z(C)},D.holdToDrag),K=k(X,"touchend",A),E=k(X,"touchcancel",A),G=k(X,"touchmove",A),R=k(window,"scroll",A,!0)}function q(C,A,X){if(X===0&&C.defaultActionOverride)try{C.defaultActionOverride(A),A.defaultPrevented}catch{}V=null}i.polyfill=function(C){if(C&&Object.keys(C).forEach(function(X){D[X]=C[X]}),!D.forceApply&&(A=(A=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||A&&"ontouchstart"in document.documentElement)}),A.userAgentSupportingNativeDnD&&A.draggable&&A.dragEvents))return!1;var A;return D.holdToDrag?g("touchstart",$,!1):g("touchstart",Z,!1),!0},i.supportsPassiveEventListener=c,Object.defineProperty(i,"G",{value:!0})})})(ju,ju.exports);var W_=ju.exports,Iu={exports:{}};(function(e,t){(function(i,o){o(t)})(Du,function(i){function o(D){return D===document.body||D===document.documentElement}function a(D,Z){var $;if(o(D))$=Z===0?D.clientLeft:D.clientTop;else{var q=D.getBoundingClientRect();$=Z===0?q.left:q.top}return $}function l(D,Z){var $;return o(D)?$=Z===0?window.innerWidth:window.innerHeight:$=Z===0?D.clientWidth:D.clientHeight,$}function c(D,Z,$){var q=Z===0?"scrollLeft":"scrollTop",C=o(D);if(arguments.length===2)return C?document.body[q]||document.documentElement[q]:D[q];C?(document.documentElement[q]+=$,document.body[q]+=$):D[q]+=$}function f(D){var Z=getComputedStyle(D);return D.scrollHeight>D.clientHeight&&(Z.overflowY==="scroll"||Z.overflowY==="auto")||D.scrollWidth>D.clientWidth&&(Z.overflowX==="scroll"||Z.overflowX==="auto")}function p(D){do{if(!D)return;if(f(D))return D;if(D===document.documentElement)return null}while(D=D.parentNode);return null}function g(D,Z,$){return D<$?-1:Z-D<$?1:0}function S(D,Z,$,q){return D===-1?Math.abs(Z-q):D===1?Math.abs($-Z-q):0}function k(D,Z,$){var q=D===0?$.scrollX:$.scrollY;if(Z===1){var C=D===0?$.scrollWidth-$.width:$.scrollHeight-$.height;return q>=C}else if(Z===-1)return q<=0;return!0}var x={threshold:75,velocityFn:function(D,Z){var $=D/Z,q=$*$*$;return q*Z}},N={horizontal:0,vertical:0},z={x:0,y:0},j,re,w,v,y;function T(D,Z,$,q){re=Z,y=q,w!==$&&(w=$,v=p(w));var C=B(re,v,x.threshold,N,z);C?W():j&&(window.cancelAnimationFrame(j),j=null)}function W(){j||(j=window.requestAnimationFrame(I))}function I(){var D=0,Z=0,$=o(v);N.horizontal!==0&&(D=Math.round(x.velocityFn(z.x,x.threshold)*N.horizontal),c(v,0,D)),N.vertical!==0&&(Z=Math.round(x.velocityFn(z.y,x.threshold)*N.vertical),c(v,1,Z)),$?y(D,Z):y(0,0),j=null,B(re,v,x.threshold,N,z)&&W()}function B(D,Z,$,q,C){if(!D||!Z)return!1;var A={x:a(Z,0),y:a(Z,1),width:l(Z,0),height:l(Z,1),scrollX:c(Z,0),scrollY:c(Z,1),scrollWidth:Z.scrollWidth,scrollHeight:Z.scrollHeight},X={x:D.x-A.x,y:D.y-A.y};return q.horizontal=g(X.x,A.width,$),q.vertical=g(X.y,A.height,$),q.horizontal&&k(0,q.horizontal,A)?q.horizontal=0:q.horizontal&&(C.x=S(q.horizontal,X.x,A.width,$)),q.vertical&&k(1,q.vertical,A)?q.vertical=0:q.vertical&&(C.y=S(q.vertical,X.y,A.height,$)),!!(q.horizontal||q.vertical)}var V=T;i.scrollBehaviourDragImageTranslateOverride=V,Object.defineProperty(i,"__esModule",{value:!0})})})(Iu,Iu.exports);var V_=Iu.exports;const G_=""+new URL("compass-DjuYXV7z.png",import.meta.url).href,Y_=""+new URL("layer-tgRGCNyO.png",import.meta.url).href,K_=""+new URL("menu-CTekbRYg.png",import.meta.url).href,X_=""+new URL("route-oCgy4FtE.png",import.meta.url).href,Q_=""+new URL("settings-DL-iSASc.png",import.meta.url).href,q_=""+new URL("zoom-BsLudKLj.png",import.meta.url).href;function J_(e,t){const i=b.useRef(t);b.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const ey=1;function ty(e){return Object.freeze({__version:ey,map:e})}function om(e,t){return Object.freeze({...e,...t})}const sm=b.createContext(null),am=sm.Provider;function Ca(){const e=b.useContext(sm);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function lm(e){function t(i,o){const{instance:a,context:l}=e(i).current;return b.useImperativeHandle(o,()=>a),i.children==null?null:so.createElement(am,{value:l},i.children)}return b.forwardRef(t)}function um(e){function t(i,o){const{instance:a}=e(i).current;return b.useImperativeHandle(o,()=>a),null}return b.forwardRef(t)}function ny(e){return function(i){const o=Ca(),a=e(i,o),{instance:l}=a.current,c=b.useRef(i.position),{position:f}=i;return b.useEffect(function(){return l.addTo(o.map),function(){l.remove()}},[o.map,l]),b.useEffect(function(){f!=null&&f!==c.current&&(l.setPosition(f),c.current=f)},[l,f]),a}}function cm(e,t){const i=b.useRef();b.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function jc(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}var Ru={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,o){o(t)})(Du,function(i){var o="1.9.4";function a(n){var r,s,u,d;for(s=1,u=arguments.length;s<u;s++){d=arguments[s];for(r in d)n[r]=d[r]}return n}var l=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function c(n,r){var s=Array.prototype.slice;if(n.bind)return n.bind.apply(n,s.call(arguments,1));var u=s.call(arguments,2);return function(){return n.apply(r,u.length?u.concat(s.call(arguments)):arguments)}}var f=0;function p(n){return"_leaflet_id"in n||(n._leaflet_id=++f),n._leaflet_id}function g(n,r,s){var u,d,m,_;return _=function(){u=!1,d&&(m.apply(s,d),d=!1)},m=function(){u?d=arguments:(n.apply(s,arguments),setTimeout(_,r),u=!0)},m}function S(n,r,s){var u=r[1],d=r[0],m=u-d;return n===u&&s?n:((n-d)%m+m)%m+d}function k(){return!1}function x(n,r){if(r===!1)return n;var s=Math.pow(10,r===void 0?6:r);return Math.round(n*s)/s}function N(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function z(n){return N(n).split(/\s+/)}function j(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?l(n.options):{});for(var s in r)n.options[s]=r[s];return n.options}function re(n,r,s){var u=[];for(var d in n)u.push(encodeURIComponent(s?d.toUpperCase():d)+"="+encodeURIComponent(n[d]));return(!r||r.indexOf("?")===-1?"?":"&")+u.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function v(n,r){return n.replace(w,function(s,u){var d=r[u];if(d===void 0)throw new Error("No value provided for variable "+s);return typeof d=="function"&&(d=d(r)),d})}var y=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function T(n,r){for(var s=0;s<n.length;s++)if(n[s]===r)return s;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var B=0;function V(n){var r=+new Date,s=Math.max(0,16-(r-B));return B=r+s,window.setTimeout(n,s)}var D=window.requestAnimationFrame||I("RequestAnimationFrame")||V,Z=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function $(n,r,s){if(s&&D===V)n.call(r);else return D.call(window,c(n,r))}function q(n){n&&Z.call(window,n)}var C={__proto__:null,extend:a,create:l,bind:c,get lastId(){return f},stamp:p,throttle:g,wrapNum:S,falseFn:k,formatNum:x,trim:N,splitWords:z,setOptions:j,getParamString:re,template:v,isArray:y,indexOf:T,emptyImageUrl:W,requestFn:D,cancelFn:Z,requestAnimFrame:$,cancelAnimFrame:q};function A(){}A.extend=function(n){var r=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=r.__super__=this.prototype,u=l(s);u.constructor=r,r.prototype=u;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(r[d]=this[d]);return n.statics&&a(r,n.statics),n.includes&&(X(n.includes),a.apply(null,[u].concat(n.includes))),a(u,n),delete u.statics,delete u.includes,u.options&&(u.options=s.options?l(s.options):{},a(u.options,n.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,_=u._initHooks.length;m<_;m++)u._initHooks[m].call(this)}},r},A.include=function(n){var r=this.prototype.options;return a(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},A.mergeOptions=function(n){return a(this.prototype.options,n),this},A.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),s=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function X(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=y(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(n,r,s){if(typeof n=="object")for(var u in n)this._on(u,n[u],r);else{n=z(n);for(var d=0,m=n.length;d<m;d++)this._on(n[d],r,s)}return this},off:function(n,r,s){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var u in n)this._off(u,n[u],r);else{n=z(n);for(var d=arguments.length===1,m=0,_=n.length;m<_;m++)d?this._off(n[m]):this._off(n[m],r,s)}return this},_on:function(n,r,s,u){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,s)===!1){s===this&&(s=void 0);var d={fn:r,ctx:s};u&&(d.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(d)}},_off:function(n,r,s){var u,d,m;if(this._events&&(u=this._events[n],!!u)){if(arguments.length===1){if(this._firingCount)for(d=0,m=u.length;d<m;d++)u[d].fn=k;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var _=this._listens(n,r,s);if(_!==!1){var P=u[_];this._firingCount&&(P.fn=k,this._events[n]=u=u.slice()),u.splice(_,1)}}},fire:function(n,r,s){if(!this.listens(n,s))return this;var u=a({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var d=this._events[n];if(d){this._firingCount=this._firingCount+1||1;for(var m=0,_=d.length;m<_;m++){var P=d[m],O=P.fn;P.once&&this.off(n,O,P.ctx),O.call(P.ctx||this,u)}this._firingCount--}}return s&&this._propagateEvent(u),this},listens:function(n,r,s,u){typeof n!="string"&&console.warn('"string" type argument expected');var d=r;typeof r!="function"&&(u=!!r,d=void 0,s=void 0);var m=this._events&&this._events[n];if(m&&m.length&&this._listens(n,d,s)!==!1)return!0;if(u){for(var _ in this._eventParents)if(this._eventParents[_].listens(n,r,s,u))return!0}return!1},_listens:function(n,r,s){if(!this._events)return!1;var u=this._events[n]||[];if(!r)return!!u.length;s===this&&(s=void 0);for(var d=0,m=u.length;d<m;d++)if(u[d].fn===r&&u[d].ctx===s)return d;return!1},once:function(n,r,s){if(typeof n=="object")for(var u in n)this._on(u,n[u],r,!0);else{n=z(n);for(var d=0,m=n.length;d<m;d++)this._on(n[d],r,s,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[p(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[p(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,a({layer:n.target,propagatedFrom:n.target},n),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var K=A.extend(Q);function E(n,r,s){this.x=s?Math.round(n):n,this.y=s?Math.round(r):r}var G=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};E.prototype={clone:function(){return new E(this.x,this.y)},add:function(n){return this.clone()._add(R(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(R(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new E(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new E(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(n){n=R(n);var r=n.x-this.x,s=n.y-this.y;return Math.sqrt(r*r+s*s)},equals:function(n){return n=R(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=R(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function R(n,r,s){return n instanceof E?n:y(n)?new E(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new E(n.x,n.y):new E(n,r,s)}function F(n,r){if(n)for(var s=r?[n,r]:n,u=0,d=s.length;u<d;u++)this.extend(s[u])}F.prototype={extend:function(n){var r,s;if(!n)return this;if(n instanceof E||typeof n[0]=="number"||"x"in n)r=s=R(n);else if(n=ee(n),r=n.min,s=n.max,!r||!s)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=s.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(n){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,s;return typeof n[0]=="number"||n instanceof E?n=R(n):n=ee(n),n instanceof F?(r=n.min,s=n.max):r=s=n,r.x>=this.min.x&&s.x<=this.max.x&&r.y>=this.min.y&&s.y<=this.max.y},intersects:function(n){n=ee(n);var r=this.min,s=this.max,u=n.min,d=n.max,m=d.x>=r.x&&u.x<=s.x,_=d.y>=r.y&&u.y<=s.y;return m&&_},overlaps:function(n){n=ee(n);var r=this.min,s=this.max,u=n.min,d=n.max,m=d.x>r.x&&u.x<s.x,_=d.y>r.y&&u.y<s.y;return m&&_},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,s=this.max,u=Math.abs(r.x-s.x)*n,d=Math.abs(r.y-s.y)*n;return ee(R(r.x-u,r.y-d),R(s.x+u,s.y+d))},equals:function(n){return n?(n=ee(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function ee(n,r){return!n||n instanceof F?n:new F(n,r)}function he(n,r){if(n)for(var s=r?[n,r]:n,u=0,d=s.length;u<d;u++)this.extend(s[u])}he.prototype={extend:function(n){var r=this._southWest,s=this._northEast,u,d;if(n instanceof le)u=n,d=n;else if(n instanceof he){if(u=n._southWest,d=n._northEast,!u||!d)return this}else return n?this.extend(se(n)||ae(n)):this;return!r&&!s?(this._southWest=new le(u.lat,u.lng),this._northEast=new le(d.lat,d.lng)):(r.lat=Math.min(u.lat,r.lat),r.lng=Math.min(u.lng,r.lng),s.lat=Math.max(d.lat,s.lat),s.lng=Math.max(d.lng,s.lng)),this},pad:function(n){var r=this._southWest,s=this._northEast,u=Math.abs(r.lat-s.lat)*n,d=Math.abs(r.lng-s.lng)*n;return new he(new le(r.lat-u,r.lng-d),new le(s.lat+u,s.lng+d))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof le||"lat"in n?n=se(n):n=ae(n);var r=this._southWest,s=this._northEast,u,d;return n instanceof he?(u=n.getSouthWest(),d=n.getNorthEast()):u=d=n,u.lat>=r.lat&&d.lat<=s.lat&&u.lng>=r.lng&&d.lng<=s.lng},intersects:function(n){n=ae(n);var r=this._southWest,s=this._northEast,u=n.getSouthWest(),d=n.getNorthEast(),m=d.lat>=r.lat&&u.lat<=s.lat,_=d.lng>=r.lng&&u.lng<=s.lng;return m&&_},overlaps:function(n){n=ae(n);var r=this._southWest,s=this._northEast,u=n.getSouthWest(),d=n.getNorthEast(),m=d.lat>r.lat&&u.lat<s.lat,_=d.lng>r.lng&&u.lng<s.lng;return m&&_},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=ae(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ae(n,r){return n instanceof he?n:new he(n,r)}function le(n,r,s){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,s!==void 0&&(this.alt=+s)}le.prototype={equals:function(n,r){if(!n)return!1;n=se(n);var s=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return s<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+x(this.lat,n)+", "+x(this.lng,n)+")"},distanceTo:function(n){return ue.distance(this,se(n))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,s=r/Math.cos(Math.PI/180*this.lat);return ae([this.lat-r,this.lng-s],[this.lat+r,this.lng+s])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function se(n,r,s){return n instanceof le?n:y(n)&&typeof n[0]!="object"?n.length===3?new le(n[0],n[1],n[2]):n.length===2?new le(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new le(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new le(n,r,s)}var ge={latLngToPoint:function(n,r){var s=this.projection.project(n),u=this.scale(r);return this.transformation._transform(s,u)},pointToLatLng:function(n,r){var s=this.scale(r),u=this.transformation.untransform(n,s);return this.projection.unproject(u)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,s=this.scale(n),u=this.transformation.transform(r.min,s),d=this.transformation.transform(r.max,s);return new F(u,d)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?S(n.lng,this.wrapLng,!0):n.lng,s=this.wrapLat?S(n.lat,this.wrapLat,!0):n.lat,u=n.alt;return new le(s,r,u)},wrapLatLngBounds:function(n){var r=n.getCenter(),s=this.wrapLatLng(r),u=r.lat-s.lat,d=r.lng-s.lng;if(u===0&&d===0)return n;var m=n.getSouthWest(),_=n.getNorthEast(),P=new le(m.lat-u,m.lng-d),O=new le(_.lat-u,_.lng-d);return new he(P,O)}},ue=a({},ge,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var s=Math.PI/180,u=n.lat*s,d=r.lat*s,m=Math.sin((r.lat-n.lat)*s/2),_=Math.sin((r.lng-n.lng)*s/2),P=m*m+Math.cos(u)*Math.cos(d)*_*_,O=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*O}}),Ce=6378137,Nt={R:Ce,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,s=this.MAX_LATITUDE,u=Math.max(Math.min(s,n.lat),-s),d=Math.sin(u*r);return new E(this.R*n.lng*r,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(n){var r=180/Math.PI;return new le((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=Ce*Math.PI;return new F([-n,-n],[n,n])}()};function Mt(n,r,s,u){if(y(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=s,this._d=u}Mt.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new E((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function st(n,r,s,u){return new Mt(n,r,s,u)}var et=a({},ue,{code:"EPSG:3857",projection:Nt,transformation:function(){var n=.5/(Math.PI*Nt.R);return st(n,.5,-n,.5)}()}),at=a({},et,{code:"EPSG:900913"});function rn(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function pt(n,r){var s="",u,d,m,_,P,O;for(u=0,m=n.length;u<m;u++){for(P=n[u],d=0,_=P.length;d<_;d++)O=P[d],s+=(d?"L":"M")+O.x+" "+O.y;s+=r?J.svg?"z":"x":""}return s||"M0 0"}var Fe=document.documentElement.style,kt="ActiveXObject"in window,de=kt&&!document.addEventListener,ke="msLaunchUri"in navigator&&!("documentMode"in document),Ne=Ot("webkit"),tt=Ot("android"),$e=Ot("android 2")||Ot("android 3"),lt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pn=tt&&Ot("Google")&&lt<537&&!("AudioNode"in window),oe=!!window.opera,_e=!ke&&Ot("chrome"),Pe=Ot("gecko")&&!Ne&&!oe&&!kt,ze=!_e&&Ot("safari"),Ge=Ot("phantom"),Xe="OTransition"in Fe,fe=navigator.platform.indexOf("Win")===0,zo=kt&&"transition"in Fe,yr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$e,jo="MozPerspective"in Fe,ut=!window.L_DISABLE_3D&&(zo||yr||jo)&&!Xe&&!Ge,ni=typeof orientation<"u"||Ot("mobile"),Na=ni&&Ne,Be=ni&&yr,Mn=!window.PointerEvent&&window.MSPointerEvent,xr=!!(window.PointerEvent||Mn),ii="ontouchstart"in window||!!window.TouchEvent,Io=!window.L_NO_TOUCH&&(ii||xr),Ma=ni&&oe,wr=ni&&Pe,Mi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oi=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",k,r),window.removeEventListener("testPassiveEventSupport",k,r)}catch{}return n}(),Oa=function(){return!!document.createElement("canvas").getContext}(),ri=!!(document.createElementNS&&rn("svg").createSVGRect),za=!!ri&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ja=!ri&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),zi=navigator.platform.indexOf("Mac")===0,kr=navigator.platform.indexOf("Linux")===0;function Ot(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var J={ie:kt,ielt9:de,edge:ke,webkit:Ne,android:tt,android23:$e,androidStock:pn,opera:oe,chrome:_e,gecko:Pe,safari:ze,phantom:Ge,opera12:Xe,win:fe,ie3d:zo,webkit3d:yr,gecko3d:jo,any3d:ut,mobile:ni,mobileWebkit:Na,mobileWebkit3d:Be,msPointer:Mn,pointer:xr,touch:Io,touchNative:ii,mobileOpera:Ma,mobileGecko:wr,retina:Mi,passiveEvents:Oi,canvas:Oa,svg:ri,vml:ja,inlineSvg:za,mac:zi,linux:kr},Ro=J.msPointer?"MSPointerDown":"pointerdown",Sr=J.msPointer?"MSPointerMove":"pointermove",br=J.msPointer?"MSPointerUp":"pointerup",Ao=J.msPointer?"MSPointerCancel":"pointercancel",Cr={touchstart:Ro,touchmove:Sr,touchend:br,touchcancel:Ao},Do={touchstart:Da,touchmove:oi,touchend:oi,touchcancel:oi},On={},on=!1;function Ia(n,r,s){return r==="touchstart"&&Fo(),Do[r]?(s=Do[r].bind(this,s),n.addEventListener(Cr[r],s,!1),s):(console.warn("wrong event specified:",r),k)}function Ra(n,r,s){if(!Cr[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(Cr[r],s,!1)}function Aa(n){On[n.pointerId]=n}function Bo(n){On[n.pointerId]&&(On[n.pointerId]=n)}function Zo(n){delete On[n.pointerId]}function Fo(){on||(document.addEventListener(Ro,Aa,!0),document.addEventListener(Sr,Bo,!0),document.addEventListener(br,Zo,!0),document.addEventListener(Ao,Zo,!0),on=!0)}function oi(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var s in On)r.touches.push(On[s]);r.changedTouches=[r],n(r)}}function Da(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&nt(r),oi(n,r)}function Ba(n){var r={},s,u;for(u in n)s=n[u],r[u]=s&&s.bind?s.bind(n):s;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Za=200;function Fa(n,r){n.addEventListener("dblclick",r);var s=0,u;function d(m){if(m.detail!==1){u=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var _=Zc(m);if(!(_.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!_.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var P=Date.now();P-s<=Za?(u++,u===2&&r(Ba(m))):u=1,s=P}}}return n.addEventListener("click",d),{dblclick:r,simDblclick:d}}function Ha(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var Pr=zn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),si=zn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ho=si==="webkitTransition"||si==="OTransition"?si+"End":"transitionend";function ai(n){return typeof n=="string"?document.getElementById(n):n}function M(n,r){var s=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!s||s==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(n,null);s=u?u[r]:null}return s==="auto"?null:s}function U(n,r,s){var u=document.createElement(n);return u.className=r||"",s&&s.appendChild(u),u}function ie(n){var r=n.parentNode;r&&r.removeChild(n)}function St(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function li(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function mn(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function ui(n,r){if(n.classList!==void 0)return n.classList.contains(r);var s=mt(n);return s.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(s)}function pe(n,r){if(n.classList!==void 0)for(var s=z(r),u=0,d=s.length;u<d;u++)n.classList.add(s[u]);else if(!ui(n,r)){var m=mt(n);Bt(n,(m?m+" ":"")+r)}}function xe(n,r){n.classList!==void 0?n.classList.remove(r):Bt(n,N((" "+mt(n)+" ").replace(" "+r+" "," ")))}function Bt(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function mt(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function Ue(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&ci(n,r)}function ci(n,r){var s=!1,u="DXImageTransform.Microsoft.Alpha";try{s=n.filters.item(u)}catch{if(r===1)return}r=Math.round(r*100),s?(s.Enabled=r!==100,s.Opacity=r):n.style.filter+=" progid:"+u+"(opacity="+r+")"}function zn(n){for(var r=document.documentElement.style,s=0;s<n.length;s++)if(n[s]in r)return n[s];return!1}function gt(n,r,s){var u=r||new E(0,0);n.style[Pr]=(J.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(s?" scale("+s+")":"")}function Ee(n,r){n._leaflet_pos=r,J.any3d?gt(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function Ie(n){return n._leaflet_pos||new E(0,0)}var gn,di,Er;if("onselectstart"in document)gn=function(){me(window,"selectstart",nt)},di=function(){Le(window,"selectstart",nt)};else{var Lr=zn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);gn=function(){if(Lr){var n=document.documentElement.style;Er=n[Lr],n[Lr]="none"}},di=function(){Lr&&(document.documentElement.style[Lr]=Er,Er=void 0)}}function $a(){me(window,"dragstart",nt)}function Ua(){Le(window,"dragstart",nt)}var $o,Wa;function Va(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Uo(),$o=n,Wa=n.style.outlineStyle,n.style.outlineStyle="none",me(window,"keydown",Uo))}function Uo(){$o&&($o.style.outlineStyle=Wa,$o=void 0,Wa=void 0,Le(window,"keydown",Uo))}function Dc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Ga(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var Cm={__proto__:null,TRANSFORM:Pr,TRANSITION:si,TRANSITION_END:Ho,get:ai,getStyle:M,create:U,remove:ie,empty:St,toFront:li,toBack:mn,hasClass:ui,addClass:pe,removeClass:xe,setClass:Bt,getClass:mt,setOpacity:Ue,testProp:zn,setTransform:gt,setPosition:Ee,getPosition:Ie,get disableTextSelection(){return gn},get enableTextSelection(){return di},disableImageDrag:$a,enableImageDrag:Ua,preventOutline:Va,restoreOutline:Uo,getSizedParentNode:Dc,getScale:Ga};function me(n,r,s,u){if(r&&typeof r=="object")for(var d in r)Ka(n,d,r[d],s);else{r=z(r);for(var m=0,_=r.length;m<_;m++)Ka(n,r[m],s,u)}return this}var sn="_leaflet_events";function Le(n,r,s,u){if(arguments.length===1)Bc(n),delete n[sn];else if(r&&typeof r=="object")for(var d in r)Xa(n,d,r[d],s);else if(r=z(r),arguments.length===2)Bc(n,function(P){return T(r,P)!==-1});else for(var m=0,_=r.length;m<_;m++)Xa(n,r[m],s,u);return this}function Bc(n,r){for(var s in n[sn]){var u=s.split(/\d/)[0];(!r||r(u))&&Xa(n,u,null,null,s)}}var Ya={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ka(n,r,s,u){var d=r+p(s)+(u?"_"+p(u):"");if(n[sn]&&n[sn][d])return this;var m=function(P){return s.call(u||n,P||window.event)},_=m;!J.touchNative&&J.pointer&&r.indexOf("touch")===0?m=Ia(n,r,m):J.touch&&r==="dblclick"?m=Fa(n,m):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(Ya[r]||r,m,J.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(m=function(P){P=P||window.event,qa(n,P)&&_(P)},n.addEventListener(Ya[r],m,!1)):n.addEventListener(r,_,!1):n.attachEvent("on"+r,m),n[sn]=n[sn]||{},n[sn][d]=m}function Xa(n,r,s,u,d){d=d||r+p(s)+(u?"_"+p(u):"");var m=n[sn]&&n[sn][d];if(!m)return this;!J.touchNative&&J.pointer&&r.indexOf("touch")===0?Ra(n,r,m):J.touch&&r==="dblclick"?Ha(n,m):"removeEventListener"in n?n.removeEventListener(Ya[r]||r,m,!1):n.detachEvent("on"+r,m),n[sn][d]=null}function fi(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Qa(n){return Ka(n,"wheel",fi),this}function Tr(n){return me(n,"mousedown touchstart dblclick contextmenu",fi),n._leaflet_disable_click=!0,this}function nt(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function hi(n){return nt(n),fi(n),this}function Zc(n){if(n.composedPath)return n.composedPath();for(var r=[],s=n.target;s;)r.push(s),s=s.parentNode;return r}function Fc(n,r){if(!r)return new E(n.clientX,n.clientY);var s=Ga(r),u=s.boundingClientRect;return new E((n.clientX-u.left)/s.x-r.clientLeft,(n.clientY-u.top)/s.y-r.clientTop)}var Pm=J.linux&&J.chrome?window.devicePixelRatio:J.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Hc(n){return J.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Pm:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function qa(n,r){var s=r.relatedTarget;if(!s)return!0;try{for(;s&&s!==n;)s=s.parentNode}catch{return!1}return s!==n}var Em={__proto__:null,on:me,off:Le,stopPropagation:fi,disableScrollPropagation:Qa,disableClickPropagation:Tr,preventDefault:nt,stop:hi,getPropagationPath:Zc,getMousePosition:Fc,getWheelDelta:Hc,isExternalTarget:qa,addListener:me,removeListener:Le},$c=K.extend({run:function(n,r,s,u){this.stop(),this._el=n,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=Ie(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,s=this._duration*1e3;r<s?this._runFrame(this._easeOut(r/s),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var s=this._startPos.add(this._offset.multiplyBy(n));r&&s._round(),Ee(this._el,s),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),we=K.extend({options:{crs:et,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=j(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(se(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=si&&J.any3d&&!J.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),me(this._proxy,Ho,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,s){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(se(n),r,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=a({animate:s.animate},s.zoom),s.pan=a({animate:s.animate,duration:s.duration},s.pan));var u=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,s.zoom):this._tryAnimatedPan(n,s.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,s.pan&&s.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(J.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(J.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,s){var u=this.getZoomScale(r),d=this.getSize().divideBy(2),m=n instanceof E?n:this.latLngToContainerPoint(n),_=m.subtract(d).multiplyBy(1-1/u),P=this.containerPointToLatLng(d.add(_));return this.setView(P,r,{zoom:s})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():ae(n);var s=R(r.paddingTopLeft||r.padding||[0,0]),u=R(r.paddingBottomRight||r.padding||[0,0]),d=this.getBoundsZoom(n,!1,s.add(u));if(d=typeof r.maxZoom=="number"?Math.min(r.maxZoom,d):d,d===1/0)return{center:n.getCenter(),zoom:d};var m=u.subtract(s).divideBy(2),_=this.project(n.getSouthWest(),d),P=this.project(n.getNorthEast(),d),O=this.unproject(_.add(P).divideBy(2).add(m),d);return{center:O,zoom:d}},fitBounds:function(n,r){if(n=ae(n),!n.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(n,r);return this.setView(s.center,s.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=R(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $c,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){pe(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,s,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,s){if(s=s||{},s.animate===!1||!J.any3d)return this.setView(n,r,s);this._stop();var u=this.project(this.getCenter()),d=this.project(n),m=this.getSize(),_=this._zoom;n=se(n),r=r===void 0?_:r;var P=Math.max(m.x,m.y),O=P*this.getZoomScale(_,r),H=d.distanceTo(u)||1,te=1.42,ce=te*te;function ve(We){var ns=We?-1:1,mg=We?O:P,gg=O*O-P*P+ns*ce*ce*H*H,vg=2*mg*ce*H,ul=gg/vg,Sd=Math.sqrt(ul*ul+1)-ul,_g=Sd<1e-9?-18:Math.log(Sd);return _g}function vt(We){return(Math.exp(We)-Math.exp(-We))/2}function Qe(We){return(Math.exp(We)+Math.exp(-We))/2}function Ft(We){return vt(We)/Qe(We)}var bt=ve(0);function Bi(We){return P*(Qe(bt)/Qe(bt+te*We))}function dg(We){return P*(Qe(bt)*Ft(bt+te*We)-vt(bt))/ce}function fg(We){return 1-Math.pow(1-We,1.5)}var hg=Date.now(),wd=(ve(1)-bt)/te,pg=s.duration?1e3*s.duration:1e3*wd*.8;function kd(){var We=(Date.now()-hg)/pg,ns=fg(We)*wd;We<=1?(this._flyToFrame=$(kd,this),this._move(this.unproject(u.add(d.subtract(u).multiplyBy(dg(ns)/H)),_),this.getScaleZoom(P/Bi(ns),_),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),kd.call(this),this},flyToBounds:function(n,r){var s=this._getBoundsCenterZoom(n,r);return this.flyTo(s.center,s.zoom,r)},setMaxBounds:function(n){return n=ae(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var s=this.getCenter(),u=this._limitCenter(s,this._zoom,ae(n));return s.equals(u)||this.panTo(u,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var s=R(r.paddingTopLeft||r.padding||[0,0]),u=R(r.paddingBottomRight||r.padding||[0,0]),d=this.project(this.getCenter()),m=this.project(n),_=this.getPixelBounds(),P=ee([_.min.add(s),_.max.subtract(u)]),O=P.getSize();if(!P.contains(m)){this._enforcingBounds=!0;var H=m.subtract(P.getCenter()),te=P.extend(m).getSize().subtract(O);d.x+=H.x<0?-te.x:te.x,d.y+=H.y<0?-te.y:te.y,this.panTo(this.unproject(d),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=a({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),u=r.divideBy(2).round(),d=s.divideBy(2).round(),m=u.subtract(d);return!m.x&&!m.y?this:(n.animate&&n.pan?this.panBy(m):(n.pan&&this._rawPanBy(m),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=a({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=c(this._handleGeolocationResponse,this),s=c(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,s,n):navigator.geolocation.getCurrentPosition(r,s,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,s=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,s=n.coords.longitude,u=new le(r,s),d=u.toBounds(n.coords.accuracy*2),m=this._locateOptions;if(m.setView){var _=this.getBoundsZoom(d);this.setView(u,m.maxZoom?Math.min(_,m.maxZoom):_)}var P={latlng:u,bounds:d,timestamp:n.timestamp};for(var O in n.coords)typeof n.coords[O]=="number"&&(P[O]=n.coords[O]);this.fire("locationfound",P)}},addHandler:function(n,r){if(!r)return this;var s=this[n]=new r(this);return this._handlers.push(s),this.options[n]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ie(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)ie(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var s="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),u=U("div",s,r||this._mapPane);return n&&(this._panes[n]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),s=this.unproject(n.getTopRight());return new he(r,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,s){n=ae(n),s=R(s||[0,0]);var u=this.getZoom()||0,d=this.getMinZoom(),m=this.getMaxZoom(),_=n.getNorthWest(),P=n.getSouthEast(),O=this.getSize().subtract(s),H=ee(this.project(P,u),this.project(_,u)).getSize(),te=J.any3d?this.options.zoomSnap:1,ce=O.x/H.x,ve=O.y/H.y,vt=r?Math.max(ce,ve):Math.min(ce,ve);return u=this.getScaleZoom(vt,u),te&&(u=Math.round(u/(te/100))*(te/100),u=r?Math.ceil(u/te)*te:Math.floor(u/te)*te),Math.max(d,Math.min(m,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var s=this._getTopLeftPoint(n,r);return new F(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var s=this.options.crs;return r=r===void 0?this._zoom:r,s.scale(n)/s.scale(r)},getScaleZoom:function(n,r){var s=this.options.crs;r=r===void 0?this._zoom:r;var u=s.zoom(n*s.scale(r));return isNaN(u)?1/0:u},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(se(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(R(n),r)},layerPointToLatLng:function(n){var r=R(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(se(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(se(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(ae(n))},distance:function(n,r){return this.options.crs.distance(se(n),se(r))},containerPointToLayerPoint:function(n){return R(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return R(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(R(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(n)))},mouseEventToContainerPoint:function(n){return Fc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=ai(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");me(r,"scroll",this._onScroll,this),this._containerId=p(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&J.any3d,pe(n,"leaflet-container"+(J.touch?" leaflet-touch":"")+(J.retina?" leaflet-retina":"")+(J.ielt9?" leaflet-oldie":"")+(J.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=M(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ee(this._mapPane,new E(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pe(n.markerPane,"leaflet-zoom-hide"),pe(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,s){Ee(this._mapPane,new E(0,0));var u=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var d=this._zoom!==r;this._moveStart(d,s)._move(n,r)._moveEnd(d),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,s,u){r===void 0&&(r=this._zoom);var d=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),u?s&&s.pinch&&this.fire("zoom",s):((d||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Ee(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[p(this._container)]=this;var r=n?Le:me;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),J.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var s=[],u,d=r==="mouseout"||r==="mouseover",m=n.target||n.srcElement,_=!1;m;){if(u=this._targets[p(m)],u&&(r==="click"||r==="preclick")&&this._draggableMoved(u)){_=!0;break}if(u&&u.listens(r,!0)&&(d&&!qa(m,n)||(s.push(u),d))||m===this._container)break;m=m.parentNode}return!s.length&&!_&&!d&&this.listens(r,!0)&&(s=[this]),s},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var s=n.type;s==="mousedown"&&Va(r),this._fireDOMEvent(n,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,s){if(n.type==="click"){var u=a({},n);u.type="preclick",this._fireDOMEvent(u,u.type,s)}var d=this._findEventTargets(n,r);if(s){for(var m=[],_=0;_<s.length;_++)s[_].listens(r,!0)&&m.push(s[_]);d=m.concat(d)}if(d.length){r==="contextmenu"&&nt(n);var P=d[0],O={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var H=P.getLatLng&&(!P._radius||P._radius<=10);O.containerPoint=H?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(n),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=H?P.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(_=0;_<d.length;_++)if(d[_].fire(r,O,!0),O.originalEvent._stopped||d[_].options.bubblingMouseEvents===!1&&T(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return Ie(this._mapPane)||new E(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var s=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var s=this.getSize()._divideBy(2);return this.project(n,r)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,s){var u=this._getNewPixelOrigin(s,r);return this.project(n,r)._subtract(u)},_latLngBoundsToNewLayerBounds:function(n,r,s){var u=this._getNewPixelOrigin(s,r);return ee([this.project(n.getSouthWest(),r)._subtract(u),this.project(n.getNorthWest(),r)._subtract(u),this.project(n.getSouthEast(),r)._subtract(u),this.project(n.getNorthEast(),r)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,s){if(!s)return n;var u=this.project(n,r),d=this.getSize().divideBy(2),m=new F(u.subtract(d),u.add(d)),_=this._getBoundsOffset(m,s,r);return Math.abs(_.x)<=1&&Math.abs(_.y)<=1?n:this.unproject(u.add(_),r)},_limitOffset:function(n,r){if(!r)return n;var s=this.getPixelBounds(),u=new F(s.min.add(n),s.max.add(n));return n.add(this._getBoundsOffset(u,r))},_getBoundsOffset:function(n,r,s){var u=ee(this.project(r.getNorthEast(),s),this.project(r.getSouthWest(),s)),d=u.min.subtract(n.min),m=u.max.subtract(n.max),_=this._rebound(d.x,-m.x),P=this._rebound(d.y,-m.y);return new E(_,P)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),s=this.getMaxZoom(),u=J.any3d?this.options.zoomSnap:1;return u&&(n=Math.round(n/u)*u),Math.max(r,Math.min(s,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var s=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,r),!0)},_createAnimProxy:function(){var n=this._proxy=U("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var s=Pr,u=this._proxy.style[s];gt(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),u===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ie(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();gt(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(r),d=this._getCenterOffset(n)._divideBy(1-1/u);return s.animate!==!0&&!this.getSize().contains(d)?!1:($(function(){this._moveStart(!0,s.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,s,u){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Lm(n,r){return new we(n,r)}var Yt=A.extend({options:{position:"topright"},initialize:function(n){j(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),s=this.getPosition(),u=n._controlCorners[s];return pe(r,"leaflet-control"),s.indexOf("bottom")!==-1?u.insertBefore(r,u.firstChild):u.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ie(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Nr=function(n){return new Yt(n)};we.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",s=this._controlContainer=U("div",r+"control-container",this._container);function u(d,m){var _=r+d+" "+r+m;n[d+m]=U("div",_,s)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)ie(this._controlCorners[n]);ie(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Uc=Yt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,s,u){return s<u?-1:u<s?1:0}},initialize:function(n,r,s){j(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in n)this._addLayer(n[u],u);for(u in r)this._addLayer(r[u],u,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Yt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(p(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=U("div",n),s=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Tr(r),Qa(r);var u=this._section=U("section",n+"-list");s&&(this._map.on("click",this.collapse,this),me(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=U("a",n+"-toggle",r);d.href="#",d.title="Layers",d.setAttribute("role","button"),me(d,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){nt(m),this._expandSafely()}},this),s||this.expand(),this._baseLayersList=U("div",n+"-base",u),this._separator=U("div",n+"-separator",u),this._overlaysList=U("div",n+"-overlays",u),r.appendChild(u)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&p(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,s){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:s}),this.options.sortLayers&&this._layers.sort(c(function(u,d){return this.options.sortFunction(u.layer,d.layer,u.name,d.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;St(this._baseLayersList),St(this._overlaysList),this._layerControlInputs=[];var n,r,s,u,d=0;for(s=0;s<this._layers.length;s++)u=this._layers[s],this._addItem(u),r=r||u.overlay,n=n||!u.overlay,d+=u.overlay?0:1;return this.options.hideSingleBase&&(n=n&&d>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(p(n.target)),s=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;s&&this._map.fire(s,r)},_createRadioElement:function(n,r){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=s,u.firstChild},_addItem:function(n){var r=document.createElement("label"),s=this._map.hasLayer(n.layer),u;n.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=s):u=this._createRadioElement("leaflet-base-layers_"+p(this),s),this._layerControlInputs.push(u),u.layerId=p(n.layer),me(u,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+n.name;var m=document.createElement("span");r.appendChild(m),m.appendChild(u),m.appendChild(d);var _=n.overlay?this._overlaysList:this._baseLayersList;return _.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,s,u=[],d=[];this._handlingClick=!0;for(var m=n.length-1;m>=0;m--)r=n[m],s=this._getLayer(r.layerId).layer,r.checked?u.push(s):r.checked||d.push(s);for(m=0;m<d.length;m++)this._map.hasLayer(d[m])&&this._map.removeLayer(d[m]);for(m=0;m<u.length;m++)this._map.hasLayer(u[m])||this._map.addLayer(u[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,s,u=this._map.getZoom(),d=n.length-1;d>=0;d--)r=n[d],s=this._getLayer(r.layerId).layer,r.disabled=s.options.minZoom!==void 0&&u<s.options.minZoom||s.options.maxZoom!==void 0&&u>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,me(n,"click",nt),this.expand();var r=this;setTimeout(function(){Le(n,"click",nt),r._preventClick=!1})}}),Tm=function(n,r,s){return new Uc(n,r,s)},Ja=Yt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",s=U("div",r+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,r+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,r+"-out",s,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,s,u,d){var m=U("a",s,u);return m.innerHTML=n,m.href="#",m.title=r,m.setAttribute("role","button"),m.setAttribute("aria-label",r),Tr(m),me(m,"click",hi),me(m,"click",d,this),me(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";xe(this._zoomInButton,r),xe(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(pe(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(pe(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});we.mergeOptions({zoomControl:!0}),we.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ja,this.addControl(this.zoomControl))});var Nm=function(n){return new Ja(n)},Wc=Yt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",s=U("div",r),u=this.options;return this._addScales(u,r+"-line",s),n.on(u.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),s},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,s){n.metric&&(this._mScale=U("div",r,s)),n.imperial&&(this._iScale=U("div",r,s))},_update:function(){var n=this._map,r=n.getSize().y/2,s=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(s)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),s=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,s,r/n)},_updateImperial:function(n){var r=n*3.2808399,s,u,d;r>5280?(s=r/5280,u=this._getRoundNum(s),this._updateScale(this._iScale,u+" mi",u/s)):(d=this._getRoundNum(r),this._updateScale(this._iScale,d+" ft",d/r))},_updateScale:function(n,r,s){n.style.width=Math.round(this.options.maxWidth*s)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),s=n/r;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,r*s}}),Mm=function(n){return new Wc(n)},Om='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',el=Yt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(J.inlineSvg?Om+" ":"")+"Leaflet</a>"},initialize:function(n){j(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=U("div","leaflet-control-attribution"),Tr(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var s=[];this.options.prefix&&s.push(this.options.prefix),n.length&&s.push(n.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});we.mergeOptions({attributionControl:!0}),we.addInitHook(function(){this.options.attributionControl&&new el().addTo(this)});var zm=function(n){return new el(n)};Yt.Layers=Uc,Yt.Zoom=Ja,Yt.Scale=Wc,Yt.Attribution=el,Nr.layers=Tm,Nr.zoom=Nm,Nr.scale=Mm,Nr.attribution=zm;var an=A.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});an.addTo=function(n,r){return n.addHandler(r,this),this};var jm={Events:Q},Vc=J.touch?"touchstart mousedown":"mousedown",jn=K.extend({options:{clickTolerance:3},initialize:function(n,r,s,u){j(this,u),this._element=n,this._dragStartTarget=r||n,this._preventOutline=s},enable:function(){this._enabled||(me(this._dragStartTarget,Vc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(jn._dragging===this&&this.finishDrag(!0),Le(this._dragStartTarget,Vc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!ui(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){jn._dragging===this&&this.finishDrag();return}if(!(jn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(jn._dragging=this,this._preventOutline&&Va(this._element),$a(),gn(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,s=Dc(this._element);this._startPoint=new E(r.clientX,r.clientY),this._startPos=Ie(this._element),this._parentScale=Ga(s);var u=n.type==="mousedown";me(document,u?"mousemove":"touchmove",this._onMove,this),me(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,s=new E(r.clientX,r.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,nt(n),this._moved||(this.fire("dragstart"),this._moved=!0,pe(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Ee(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){xe(document.body,"leaflet-dragging"),this._lastTarget&&(xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Le(document,"mousemove touchmove",this._onMove,this),Le(document,"mouseup touchend touchcancel",this._onUp,this),Ua(),di();var r=this._moved&&this._moving;this._moving=!1,jn._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Gc(n,r,s){var u,d=[1,4,2,8],m,_,P,O,H,te,ce,ve;for(m=0,te=n.length;m<te;m++)n[m]._code=pi(n[m],r);for(P=0;P<4;P++){for(ce=d[P],u=[],m=0,te=n.length,_=te-1;m<te;_=m++)O=n[m],H=n[_],O._code&ce?H._code&ce||(ve=Wo(H,O,ce,r,s),ve._code=pi(ve,r),u.push(ve)):(H._code&ce&&(ve=Wo(H,O,ce,r,s),ve._code=pi(ve,r),u.push(ve)),u.push(O));n=u}return n}function Yc(n,r){var s,u,d,m,_,P,O,H,te;if(!n||n.length===0)throw new Error("latlngs not passed");Zt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ce=se([0,0]),ve=ae(n),vt=ve.getNorthWest().distanceTo(ve.getSouthWest())*ve.getNorthEast().distanceTo(ve.getNorthWest());vt<1700&&(ce=tl(n));var Qe=n.length,Ft=[];for(s=0;s<Qe;s++){var bt=se(n[s]);Ft.push(r.project(se([bt.lat-ce.lat,bt.lng-ce.lng])))}for(P=O=H=0,s=0,u=Qe-1;s<Qe;u=s++)d=Ft[s],m=Ft[u],_=d.y*m.x-m.y*d.x,O+=(d.x+m.x)*_,H+=(d.y+m.y)*_,P+=_*3;P===0?te=Ft[0]:te=[O/P,H/P];var Bi=r.unproject(R(te));return se([Bi.lat+ce.lat,Bi.lng+ce.lng])}function tl(n){for(var r=0,s=0,u=0,d=0;d<n.length;d++){var m=se(n[d]);r+=m.lat,s+=m.lng,u++}return se([r/u,s/u])}var Im={__proto__:null,clipPolygon:Gc,polygonCenter:Yc,centroid:tl};function Kc(n,r){if(!r||!n.length)return n.slice();var s=r*r;return n=Dm(n,s),n=Am(n,s),n}function Xc(n,r,s){return Math.sqrt(Mr(n,r,s,!0))}function Rm(n,r,s){return Mr(n,r,s)}function Am(n,r){var s=n.length,u=typeof Uint8Array<"u"?Uint8Array:Array,d=new u(s);d[0]=d[s-1]=1,nl(n,d,r,0,s-1);var m,_=[];for(m=0;m<s;m++)d[m]&&_.push(n[m]);return _}function nl(n,r,s,u,d){var m=0,_,P,O;for(P=u+1;P<=d-1;P++)O=Mr(n[P],n[u],n[d],!0),O>m&&(_=P,m=O);m>s&&(r[_]=1,nl(n,r,s,u,_),nl(n,r,s,_,d))}function Dm(n,r){for(var s=[n[0]],u=1,d=0,m=n.length;u<m;u++)Bm(n[u],n[d])>r&&(s.push(n[u]),d=u);return d<m-1&&s.push(n[m-1]),s}var Qc;function qc(n,r,s,u,d){var m=u?Qc:pi(n,s),_=pi(r,s),P,O,H;for(Qc=_;;){if(!(m|_))return[n,r];if(m&_)return!1;P=m||_,O=Wo(n,r,P,s,d),H=pi(O,s),P===m?(n=O,m=H):(r=O,_=H)}}function Wo(n,r,s,u,d){var m=r.x-n.x,_=r.y-n.y,P=u.min,O=u.max,H,te;return s&8?(H=n.x+m*(O.y-n.y)/_,te=O.y):s&4?(H=n.x+m*(P.y-n.y)/_,te=P.y):s&2?(H=O.x,te=n.y+_*(O.x-n.x)/m):s&1&&(H=P.x,te=n.y+_*(P.x-n.x)/m),new E(H,te,d)}function pi(n,r){var s=0;return n.x<r.min.x?s|=1:n.x>r.max.x&&(s|=2),n.y<r.min.y?s|=4:n.y>r.max.y&&(s|=8),s}function Bm(n,r){var s=r.x-n.x,u=r.y-n.y;return s*s+u*u}function Mr(n,r,s,u){var d=r.x,m=r.y,_=s.x-d,P=s.y-m,O=_*_+P*P,H;return O>0&&(H=((n.x-d)*_+(n.y-m)*P)/O,H>1?(d=s.x,m=s.y):H>0&&(d+=_*H,m+=P*H)),_=n.x-d,P=n.y-m,u?_*_+P*P:new E(d,m)}function Zt(n){return!y(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Jc(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zt(n)}function ed(n,r){var s,u,d,m,_,P,O,H;if(!n||n.length===0)throw new Error("latlngs not passed");Zt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var te=se([0,0]),ce=ae(n),ve=ce.getNorthWest().distanceTo(ce.getSouthWest())*ce.getNorthEast().distanceTo(ce.getNorthWest());ve<1700&&(te=tl(n));var vt=n.length,Qe=[];for(s=0;s<vt;s++){var Ft=se(n[s]);Qe.push(r.project(se([Ft.lat-te.lat,Ft.lng-te.lng])))}for(s=0,u=0;s<vt-1;s++)u+=Qe[s].distanceTo(Qe[s+1])/2;if(u===0)H=Qe[0];else for(s=0,m=0;s<vt-1;s++)if(_=Qe[s],P=Qe[s+1],d=_.distanceTo(P),m+=d,m>u){O=(m-u)/d,H=[P.x-O*(P.x-_.x),P.y-O*(P.y-_.y)];break}var bt=r.unproject(R(H));return se([bt.lat+te.lat,bt.lng+te.lng])}var Zm={__proto__:null,simplify:Kc,pointToSegmentDistance:Xc,closestPointOnSegment:Rm,clipSegment:qc,_getEdgeIntersection:Wo,_getBitCode:pi,_sqClosestPointOnSegment:Mr,isFlat:Zt,_flat:Jc,polylineCenter:ed},il={project:function(n){return new E(n.lng,n.lat)},unproject:function(n){return new le(n.y,n.x)},bounds:new F([-180,-90],[180,90])},rl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new F([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,s=this.R,u=n.lat*r,d=this.R_MINOR/s,m=Math.sqrt(1-d*d),_=m*Math.sin(u),P=Math.tan(Math.PI/4-u/2)/Math.pow((1-_)/(1+_),m/2);return u=-s*Math.log(Math.max(P,1e-10)),new E(n.lng*r*s,u)},unproject:function(n){for(var r=180/Math.PI,s=this.R,u=this.R_MINOR/s,d=Math.sqrt(1-u*u),m=Math.exp(-n.y/s),_=Math.PI/2-2*Math.atan(m),P=0,O=.1,H;P<15&&Math.abs(O)>1e-7;P++)H=d*Math.sin(_),H=Math.pow((1-H)/(1+H),d/2),O=Math.PI/2-2*Math.atan(m*H)-_,_+=O;return new le(_*r,n.x*r/s)}},Fm={__proto__:null,LonLat:il,Mercator:rl,SphericalMercator:Nt},Hm=a({},ue,{code:"EPSG:3395",projection:rl,transformation:function(){var n=.5/(Math.PI*rl.R);return st(n,.5,-n,.5)}()}),td=a({},ue,{code:"EPSG:4326",projection:il,transformation:st(1/180,1,-1/180,.5)}),$m=a({},ge,{projection:il,transformation:st(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var s=r.lng-n.lng,u=r.lat-n.lat;return Math.sqrt(s*s+u*u)},infinite:!0});ge.Earth=ue,ge.EPSG3395=Hm,ge.EPSG3857=et,ge.EPSG900913=at,ge.EPSG4326=td,ge.Simple=$m;var Kt=K.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[p(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[p(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var s=this.getEvents();r.on(s,this),this.once("remove",function(){r.off(s,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});we.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=p(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=p(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return p(n)in this._layers},eachLayer:function(n,r){for(var s in this._layers)n.call(r,this._layers[s]);return this},_addLayers:function(n){n=n?y(n)?n:[n]:[];for(var r=0,s=n.length;r<s;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[p(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=p(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,s=this._getZoomSpan();for(var u in this._zoomBoundLayers){var d=this._zoomBoundLayers[u].options;n=d.minZoom===void 0?n:Math.min(n,d.minZoom),r=d.maxZoom===void 0?r:Math.max(r,d.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ji=Kt.extend({initialize:function(n,r){j(this,r),this._layers={};var s,u;if(n)for(s=0,u=n.length;s<u;s++)this.addLayer(n[s])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),s,u;for(s in this._layers)u=this._layers[s],u[n]&&u[n].apply(u,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var s in this._layers)n.call(r,this._layers[s]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return p(n)}}),Um=function(n,r){return new ji(n,r)},vn=ji.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ji.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ji.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new he;for(var r in this._layers){var s=this._layers[r];n.extend(s.getBounds?s.getBounds():s.getLatLng())}return n}}),Wm=function(n,r){return new vn(n,r)},Ii=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){j(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var s=this._getIconUrl(n);if(!s){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(s,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(u,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(n,r){var s=this.options,u=s[r+"Size"];typeof u=="number"&&(u=[u,u]);var d=R(u),m=R(r==="shadow"&&s.shadowAnchor||s.iconAnchor||d&&d.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(s.className||""),m&&(n.style.marginLeft=-m.x+"px",n.style.marginTop=-m.y+"px"),d&&(n.style.width=d.x+"px",n.style.height=d.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return J.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Vm(n){return new Ii(n)}var Or=Ii.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Or.imagePath!="string"&&(Or.imagePath=this._detectIconPath()),(this.options.imagePath||Or.imagePath)+Ii.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(s,u,d){var m=u.exec(s);return m&&m[d]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=U("div","leaflet-default-icon-path",document.body),r=M(n,"background-image")||M(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),nd=an.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new jn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pe(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,s=r._map,u=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,m=Ie(r._icon),_=s.getPixelBounds(),P=s.getPixelOrigin(),O=ee(_.min._subtract(P).add(d),_.max._subtract(P).subtract(d));if(!O.contains(m)){var H=R((Math.max(O.max.x,m.x)-O.max.x)/(_.max.x-O.max.x)-(Math.min(O.min.x,m.x)-O.min.x)/(_.min.x-O.min.x),(Math.max(O.max.y,m.y)-O.max.y)/(_.max.y-O.max.y)-(Math.min(O.min.y,m.y)-O.min.y)/(_.min.y-O.min.y)).multiplyBy(u);s.panBy(H,{animate:!1}),this._draggable._newPos._add(H),this._draggable._startPos._add(H),Ee(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=$(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,s=r._shadow,u=Ie(r._icon),d=r._map.layerPointToLatLng(u);s&&Ee(s,u),r._latlng=d,n.latlng=d,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Vo=Kt.extend({options:{icon:new Or,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){j(this,r),this._latlng=se(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=se(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=n.icon.createIcon(this._icon),u=!1;s!==this._icon&&(this._icon&&this._removeIcon(),u=!0,n.title&&(s.title=n.title),s.tagName==="IMG"&&(s.alt=n.alt||"")),pe(s,r),n.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&me(s,"focus",this._panOnFocus,this);var d=n.icon.createShadow(this._shadow),m=!1;d!==this._shadow&&(this._removeShadow(),m=!0),d&&(pe(d,r),d.alt=""),this._shadow=d,n.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&m&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Le(this._icon,"focus",this._panOnFocus,this),ie(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ie(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Ee(this._icon,n),this._shadow&&Ee(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nd)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nd(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&Ue(this._icon,n),this._shadow&&Ue(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,s=r.iconSize?R(r.iconSize):R(0,0),u=r.iconAnchor?R(r.iconAnchor):R(0,0);n.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:s.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gm(n,r){return new Vo(n,r)}var In=Kt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return j(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Go=In.extend({options:{fill:!0,radius:10},initialize:function(n,r){j(this,r),this._latlng=se(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=se(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return In.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,s=this._clickTolerance(),u=[n+s,r+s];this._pxBounds=new F(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ym(n,r){return new Go(n,r)}var ol=Go.extend({initialize:function(n,r,s){if(typeof r=="number"&&(r=a({},s,{radius:r})),j(this,r),this._latlng=se(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new he(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:In.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,s=this._map,u=s.options.crs;if(u.distance===ue.distance){var d=Math.PI/180,m=this._mRadius/ue.R/d,_=s.project([r+m,n]),P=s.project([r-m,n]),O=_.add(P).divideBy(2),H=s.unproject(O).lat,te=Math.acos((Math.cos(m*d)-Math.sin(r*d)*Math.sin(H*d))/(Math.cos(r*d)*Math.cos(H*d)))/d;(isNaN(te)||te===0)&&(te=m/Math.cos(Math.PI/180*r)),this._point=O.subtract(s.getPixelOrigin()),this._radius=isNaN(te)?0:O.x-s.project([H,n-te]).x,this._radiusY=O.y-_.y}else{var ce=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(ce).x}this._updateBounds()}});function Km(n,r,s){return new ol(n,r,s)}var _n=In.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){j(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,s=null,u=Mr,d,m,_=0,P=this._parts.length;_<P;_++)for(var O=this._parts[_],H=1,te=O.length;H<te;H++){d=O[H-1],m=O[H];var ce=u(n,d,m,!0);ce<r&&(r=ce,s=u(n,d,m))}return s&&(s.distance=Math.sqrt(r)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ed(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=se(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new he,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Zt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],s=Zt(n),u=0,d=n.length;u<d;u++)s?(r[u]=se(n[u]),this._bounds.extend(r[u])):r[u]=this._convertLatLngs(n[u]);return r},_project:function(){var n=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new E(n,n);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,s){var u=n[0]instanceof le,d=n.length,m,_;if(u){for(_=[],m=0;m<d;m++)_[m]=this._map.latLngToLayerPoint(n[m]),s.extend(_[m]);r.push(_)}else for(m=0;m<d;m++)this._projectLatlngs(n[m],r,s)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,s,u,d,m,_,P,O;for(s=0,d=0,m=this._rings.length;s<m;s++)for(O=this._rings[s],u=0,_=O.length;u<_-1;u++)P=qc(O[u],O[u+1],n,u,!0),P&&(r[d]=r[d]||[],r[d].push(P[0]),(P[1]!==O[u+1]||u===_-2)&&(r[d].push(P[1]),d++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,s=0,u=n.length;s<u;s++)n[s]=Kc(n[s],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var s,u,d,m,_,P,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(s=0,m=this._parts.length;s<m;s++)for(P=this._parts[s],u=0,_=P.length,d=_-1;u<_;d=u++)if(!(!r&&u===0)&&Xc(n,P[d],P[u])<=O)return!0;return!1}});function Xm(n,r){return new _n(n,r)}_n._flat=Jc;var Ri=_n.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=_n.prototype._convertLatLngs.call(this,n),s=r.length;return s>=2&&r[0]instanceof le&&r[0].equals(r[s-1])&&r.pop(),r},_setLatLngs:function(n){_n.prototype._setLatLngs.call(this,n),Zt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,s=new E(r,r);if(n=new F(n.min.subtract(s),n.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,d=this._rings.length,m;u<d;u++)m=Gc(this._rings[u],n,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,s,u,d,m,_,P,O,H;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(m=0,O=this._parts.length;m<O;m++)for(s=this._parts[m],_=0,H=s.length,P=H-1;_<H;P=_++)u=s[_],d=s[P],u.y>n.y!=d.y>n.y&&n.x<(d.x-u.x)*(n.y-u.y)/(d.y-u.y)+u.x&&(r=!r);return r||_n.prototype._containsPoint.call(this,n,!0)}});function Qm(n,r){return new Ri(n,r)}var yn=vn.extend({initialize:function(n,r){j(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=y(n)?n:n.features,s,u,d;if(r){for(s=0,u=r.length;s<u;s++)d=r[s],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var m=this.options;if(m.filter&&!m.filter(n))return this;var _=Yo(n,m);return _?(_.feature=Qo(n),_.defaultOptions=_.options,this.resetStyle(_),m.onEachFeature&&m.onEachFeature(n,_),this.addLayer(_)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=a({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function Yo(n,r){var s=n.type==="Feature"?n.geometry:n,u=s?s.coordinates:null,d=[],m=r&&r.pointToLayer,_=r&&r.coordsToLatLng||sl,P,O,H,te;if(!u&&!s)return null;switch(s.type){case"Point":return P=_(u),id(m,n,P,r);case"MultiPoint":for(H=0,te=u.length;H<te;H++)P=_(u[H]),d.push(id(m,n,P,r));return new vn(d);case"LineString":case"MultiLineString":return O=Ko(u,s.type==="LineString"?0:1,_),new _n(O,r);case"Polygon":case"MultiPolygon":return O=Ko(u,s.type==="Polygon"?1:2,_),new Ri(O,r);case"GeometryCollection":for(H=0,te=s.geometries.length;H<te;H++){var ce=Yo({geometry:s.geometries[H],type:"Feature",properties:n.properties},r);ce&&d.push(ce)}return new vn(d);case"FeatureCollection":for(H=0,te=s.features.length;H<te;H++){var ve=Yo(s.features[H],r);ve&&d.push(ve)}return new vn(d);default:throw new Error("Invalid GeoJSON object.")}}function id(n,r,s,u){return n?n(r,s):new Vo(s,u&&u.markersInheritOptions&&u)}function sl(n){return new le(n[1],n[0],n[2])}function Ko(n,r,s){for(var u=[],d=0,m=n.length,_;d<m;d++)_=r?Ko(n[d],r-1,s):(s||sl)(n[d]),u.push(_);return u}function al(n,r){return n=se(n),n.alt!==void 0?[x(n.lng,r),x(n.lat,r),x(n.alt,r)]:[x(n.lng,r),x(n.lat,r)]}function Xo(n,r,s,u){for(var d=[],m=0,_=n.length;m<_;m++)d.push(r?Xo(n[m],Zt(n[m])?0:r-1,s,u):al(n[m],u));return!r&&s&&d.length>0&&d.push(d[0].slice()),d}function Ai(n,r){return n.feature?a({},n.feature,{geometry:r}):Qo(r)}function Qo(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ll={toGeoJSON:function(n){return Ai(this,{type:"Point",coordinates:al(this.getLatLng(),n)})}};Vo.include(ll),ol.include(ll),Go.include(ll),_n.include({toGeoJSON:function(n){var r=!Zt(this._latlngs),s=Xo(this._latlngs,r?1:0,!1,n);return Ai(this,{type:(r?"Multi":"")+"LineString",coordinates:s})}}),Ri.include({toGeoJSON:function(n){var r=!Zt(this._latlngs),s=r&&!Zt(this._latlngs[0]),u=Xo(this._latlngs,s?2:r?1:0,!0,n);return r||(u=[u]),Ai(this,{type:(s?"Multi":"")+"Polygon",coordinates:u})}}),ji.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(s){r.push(s.toGeoJSON(n).geometry.coordinates)}),Ai(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var s=r==="GeometryCollection",u=[];return this.eachLayer(function(d){if(d.toGeoJSON){var m=d.toGeoJSON(n);if(s)u.push(m.geometry);else{var _=Qo(m);_.type==="FeatureCollection"?u.push.apply(u,_.features):u.push(_)}}}),s?Ai(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function rd(n,r){return new yn(n,r)}var qm=rd,qo=Kt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,s){this._url=n,this._bounds=ae(r),j(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ie(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&li(this._image),this},bringToBack:function(){return this._map&&mn(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=ae(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:U("img");if(pe(r,"leaflet-image-layer"),this._zoomAnimated&&pe(r,"leaflet-zoom-animated"),this.options.className&&pe(r,this.options.className),r.onselectstart=k,r.onmousemove=k,r.onload=c(this.fire,this,"load"),r.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;gt(this._image,s,r)},_reset:function(){var n=this._image,r=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=r.getSize();Ee(n,r.min),n.style.width=s.x+"px",n.style.height=s.y+"px"},_updateOpacity:function(){Ue(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Jm=function(n,r,s){return new qo(n,r,s)},od=qo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:U("video");if(pe(r,"leaflet-image-layer"),this._zoomAnimated&&pe(r,"leaflet-zoom-animated"),this.options.className&&pe(r,this.options.className),r.onselectstart=k,r.onmousemove=k,r.onloadeddata=c(this.fire,this,"load"),n){for(var s=r.getElementsByTagName("source"),u=[],d=0;d<s.length;d++)u.push(s[d].src);this._url=s.length>0?u:[r.src];return}y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var _=U("source");_.src=this._url[m],r.appendChild(_)}}});function eg(n,r,s){return new od(n,r,s)}var sd=qo.extend({_initImage:function(){var n=this._image=this._url;pe(n,"leaflet-image-layer"),this._zoomAnimated&&pe(n,"leaflet-zoom-animated"),this.options.className&&pe(n,this.options.className),n.onselectstart=k,n.onmousemove=k}});function tg(n,r,s){return new sd(n,r,s)}var ln=Kt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof le||y(n))?(this._latlng=se(n),j(this,r)):(j(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&Ue(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&Ue(this._container,1),this.bringToFront(),this.options.interactive&&(pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(Ue(this._container,0),this._removeTimeout=setTimeout(c(ie,void 0,this._container),200)):ie(this._container),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=se(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&li(this._container),this},bringToBack:function(){return this._map&&mn(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof vn){r=null;var s=this._source._layers;for(var u in s)if(s[u]._map){r=s[u];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=R(this.options.offset),s=this._getAnchor();this._zoomAnimated?Ee(this._container,n.add(s)):r=r.add(n).add(s);var u=this._containerBottom=-r.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=u+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});we.include({_initOverlay:function(n,r,s,u){var d=r;return d instanceof n||(d=new n(u).setContent(r)),s&&d.setLatLng(s),d}}),Kt.include({_initOverlay:function(n,r,s,u){var d=s;return d instanceof n?(j(d,u),d._source=this):(d=r&&!u?r:new n(u,this),d.setContent(s)),d}});var Jo=ln.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,ln.prototype.openOn.call(this,n)},onAdd:function(n){ln.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof In||this._source.on("preclick",fi))},onRemove:function(n){ln.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof In||this._source.off("preclick",fi))},getEvents:function(){var n=ln.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=U("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=U("div",n+"-content-wrapper",r);if(this._contentNode=U("div",n+"-content",s),Tr(r),Qa(this._contentNode),me(r,"contextmenu",fi),this._tipContainer=U("div",n+"-tip-container",r),this._tip=U("div",n+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=U("a",n+"-close-button",r);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',me(u,"click",function(d){nt(d),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var s=n.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),r.width=s+1+"px",r.whiteSpace="",r.height="";var u=n.offsetHeight,d=this.options.maxHeight,m="leaflet-popup-scrolled";d&&u>d?(r.height=d+"px",pe(n,m)):xe(n,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),s=this._getAnchor();Ee(this._container,r.add(s))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(M(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+r,u=this._containerWidth,d=new E(this._containerLeft,-s-this._containerBottom);d._add(Ie(this._container));var m=n.layerPointToContainerPoint(d),_=R(this.options.autoPanPadding),P=R(this.options.autoPanPaddingTopLeft||_),O=R(this.options.autoPanPaddingBottomRight||_),H=n.getSize(),te=0,ce=0;m.x+u+O.x>H.x&&(te=m.x+u-H.x+O.x),m.x-te-P.x<0&&(te=m.x-P.x),m.y+s+O.y>H.y&&(ce=m.y+s-H.y+O.y),m.y-ce-P.y<0&&(ce=m.y-P.y),(te||ce)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([te,ce]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ng=function(n,r){return new Jo(n,r)};we.mergeOptions({closePopupOnClick:!0}),we.include({openPopup:function(n,r,s){return this._initOverlay(Jo,n,r,s).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Kt.include({bindPopup:function(n,r){return this._popup=this._initOverlay(Jo,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof vn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){hi(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof In)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var es=ln.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){ln.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){ln.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=ln.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=U("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,s,u=this._map,d=this._container,m=u.latLngToContainerPoint(u.getCenter()),_=u.layerPointToContainerPoint(n),P=this.options.direction,O=d.offsetWidth,H=d.offsetHeight,te=R(this.options.offset),ce=this._getAnchor();P==="top"?(r=O/2,s=H):P==="bottom"?(r=O/2,s=0):P==="center"?(r=O/2,s=H/2):P==="right"?(r=0,s=H/2):P==="left"?(r=O,s=H/2):_.x<m.x?(P="right",r=0,s=H/2):(P="left",r=O+(te.x+ce.x)*2,s=H/2),n=n.subtract(R(r,s,!0)).add(te).add(ce),xe(d,"leaflet-tooltip-right"),xe(d,"leaflet-tooltip-left"),xe(d,"leaflet-tooltip-top"),xe(d,"leaflet-tooltip-bottom"),pe(d,"leaflet-tooltip-"+P),Ee(d,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&Ue(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ig=function(n,r){return new es(n,r)};we.include({openTooltip:function(n,r,s){return this._initOverlay(es,n,r,s).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Kt.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(es,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip,this._map?this._addFocusListeners():s.add=this._addFocusListeners),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[r](s),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof vn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(me(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),me(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,s,u;this._tooltip.options.sticky&&n.originalEvent&&(s=this._map.mouseEventToContainerPoint(n.originalEvent),u=this._map.containerPointToLayerPoint(s),r=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(r)}});var ad=Ii.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),s=this.options;if(s.html instanceof Element?(St(r),r.appendChild(s.html)):r.innerHTML=s.html!==!1?s.html:"",s.bgPos){var u=R(s.bgPos);r.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function rg(n){return new ad(n)}Ii.Default=Or;var zr=Kt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:J.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){j(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),ie(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(li(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(mn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof E?n:new E(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,s=-n(-1/0,1/0),u=0,d=r.length,m;u<d;u++)m=r[u].style.zIndex,r[u]!==this._container&&m&&(s=n(s,+m));isFinite(s)&&(this.options.zIndex=s+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!J.ielt9){Ue(this._container,this.options.opacity);var n=+new Date,r=!1,s=!1;for(var u in this._tiles){var d=this._tiles[u];if(!(!d.current||!d.loaded)){var m=Math.min(1,(n-d.loaded)/200);Ue(d.el,m),m<1?r=!0:(d.active?s=!0:this._onOpaqueTile(d),d.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),r&&(q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=U("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===n?(this._levels[s].el.style.zIndex=r-Math.abs(n-s),this._onUpdateLevel(s)):(ie(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var u=this._levels[n],d=this._map;return u||(u=this._levels[n]={},u.el=U("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=r,u.origin=d.project(d.unproject(d.getPixelOrigin()),n).round(),u.zoom=n,this._setZoomTransform(u,d.getCenter(),d.getZoom()),k(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var n,r,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var u=r.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)ie(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,s,u){var d=Math.floor(n/2),m=Math.floor(r/2),_=s-1,P=new E(+d,+m);P.z=+_;var O=this._tileCoordsToKey(P),H=this._tiles[O];return H&&H.active?(H.retain=!0,!0):(H&&H.loaded&&(H.retain=!0),_>u?this._retainParent(d,m,_,u):!1)},_retainChildren:function(n,r,s,u){for(var d=2*n;d<2*n+2;d++)for(var m=2*r;m<2*r+2;m++){var _=new E(d,m);_.z=s+1;var P=this._tileCoordsToKey(_),O=this._tiles[P];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);s+1<u&&this._retainChildren(d,m,s+1,u)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,s,u){var d=Math.round(r);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var m=this.options.updateWhenZooming&&d!==this._tileZoom;(!u||m)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(n),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var s in this._levels)this._setZoomTransform(this._levels[s],n,r)},_setZoomTransform:function(n,r,s){var u=this._map.getZoomScale(s,n.zoom),d=n.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(r,s)).round();J.any3d?gt(n.el,d,u):Ee(n.el,d)},_resetGrid:function(){var n=this._map,r=n.options.crs,s=this._tileSize=this.getTileSize(),u=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],u).x/s.x),Math.ceil(n.project([0,r.wrapLng[1]],u).x/s.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],u).y/s.x),Math.ceil(n.project([r.wrapLat[1],0],u).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,s=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),u=r.getZoomScale(s,this._tileZoom),d=r.project(n,this._tileZoom).floor(),m=r.getSize().divideBy(u*2);return new F(d.subtract(m),d.add(m))},_update:function(n){var r=this._map;if(r){var s=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(n),d=this._pxBoundsToTileRange(u),m=d.getCenter(),_=[],P=this.options.keepBuffer,O=new F(d.getBottomLeft().subtract([P,-P]),d.getTopRight().add([P,-P]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var H in this._tiles){var te=this._tiles[H].coords;(te.z!==this._tileZoom||!O.contains(new E(te.x,te.y)))&&(this._tiles[H].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(n,s);return}for(var ce=d.min.y;ce<=d.max.y;ce++)for(var ve=d.min.x;ve<=d.max.x;ve++){var vt=new E(ve,ce);if(vt.z=this._tileZoom,!!this._isValidTile(vt)){var Qe=this._tiles[this._tileCoordsToKey(vt)];Qe?Qe.current=!0:_.push(vt)}}if(_.sort(function(bt,Bi){return bt.distanceTo(m)-Bi.distanceTo(m)}),_.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ft=document.createDocumentFragment();for(ve=0;ve<_.length;ve++)this._addTile(_[ve],Ft);this._level.el.appendChild(Ft)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var s=this._globalTileRange;if(!r.wrapLng&&(n.x<s.min.x||n.x>s.max.x)||!r.wrapLat&&(n.y<s.min.y||n.y>s.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(n);return ae(this.options.bounds).overlaps(u)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,s=this.getTileSize(),u=n.scaleBy(s),d=u.add(s),m=r.unproject(u,n.z),_=r.unproject(d,n.z);return[m,_]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),s=new he(r[0],r[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),s=new E(+r[0],+r[1]);return s.z=+r[2],s},_removeTile:function(n){var r=this._tiles[n];r&&(ie(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){pe(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=k,n.onmousemove=k,J.ielt9&&this.options.opacity<1&&Ue(n,this.options.opacity)},_addTile:function(n,r){var s=this._getTilePos(n),u=this._tileCoordsToKey(n),d=this.createTile(this._wrapCoords(n),c(this._tileReady,this,n));this._initTile(d),this.createTile.length<2&&$(c(this._tileReady,this,n,null,d)),Ee(d,s),this._tiles[u]={el:d,coords:n,current:!0},r.appendChild(d),this.fire("tileloadstart",{tile:d,coords:n})},_tileReady:function(n,r,s){r&&this.fire("tileerror",{error:r,tile:s,coords:n});var u=this._tileCoordsToKey(n);s=this._tiles[u],s&&(s.loaded=+new Date,this._map._fadeAnimated?(Ue(s.el,0),q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),r||(pe(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),J.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new E(this._wrapX?S(n.x,this._wrapX):n.x,this._wrapY?S(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new F(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function og(n){return new zr(n)}var Di=zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=j(this,r),r.detectRetina&&J.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var s=document.createElement("img");return me(s,"load",c(this._tileOnLoad,this,r,s)),me(s,"error",c(this._tileOnError,this,r,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.src=this.getTileUrl(n),s},getTileUrl:function(n){var r={r:J.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=s),r["-y"]=s}return v(this._url,a(r,this.options))},_tileOnLoad:function(n,r){J.ielt9?setTimeout(c(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,s){var u=this.options.errorTileUrl;u&&r.getAttribute("src")!==u&&(r.src=u),n(s,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,s=this.options.zoomReverse,u=this.options.zoomOffset;return s&&(n=r-n),n+u},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=k,r.onerror=k,!r.complete)){r.src=W;var s=this._tiles[n].coords;ie(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:s})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",W),zr.prototype._removeTile.call(this,n)},_tileReady:function(n,r,s){if(!(!this._map||s&&s.getAttribute("src")===W))return zr.prototype._tileReady.call(this,n,r,s)}});function ld(n,r){return new Di(n,r)}var ud=Di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var s=a({},this.defaultWmsParams);for(var u in r)u in this.options||(s[u]=r[u]);r=j(this,r);var d=r.detectRetina&&J.retina?2:1,m=this.getTileSize();s.width=m.x*d,s.height=m.y*d,this.wmsParams=s},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Di.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),s=this._crs,u=ee(s.project(r[0]),s.project(r[1])),d=u.min,m=u.max,_=(this._wmsVersion>=1.3&&this._crs===td?[d.y,d.x,m.y,m.x]:[d.x,d.y,m.x,m.y]).join(","),P=Di.prototype.getTileUrl.call(this,n);return P+re(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_},setParams:function(n,r){return a(this.wmsParams,n),r||this.redraw(),this}});function sg(n,r){return new ud(n,r)}Di.WMS=ud,ld.wms=sg;var xn=Kt.extend({options:{padding:.1},initialize:function(n){j(this,n),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var s=this._map.getZoomScale(r,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,r),m=u.multiplyBy(-s).add(d).subtract(this._map._getNewPixelOrigin(n,r));J.any3d?gt(this._container,m,s):Ee(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),s=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new F(s,s.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cd=xn.extend({options:{tolerance:0},getEvents:function(){var n=xn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){xn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");me(n,"mousemove",this._onMouseMove,this),me(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),me(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,ie(this._container),Le(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){xn.prototype._update.call(this);var n=this._bounds,r=this._container,s=n.getSize(),u=J.retina?2:1;Ee(r,n.min),r.width=u*s.x,r.height=u*s.y,r.style.width=s.x+"px",r.style.height=s.y+"px",J.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){xn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[p(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,s=r.next,u=r.prev;s?s.prev=u:this._drawLast=u,u?u.next=s:this._drawFirst=s,delete n._order,delete this._layers[p(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),s=[],u,d;for(d=0;d<r.length;d++){if(u=Number(r[d]),isNaN(u))return;s.push(u)}n.options._dashArray=s}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var s=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)n=u.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var s,u,d,m,_=n._parts,P=_.length,O=this._ctx;if(P){for(O.beginPath(),s=0;s<P;s++){for(u=0,d=_[s].length;u<d;u++)m=_[s][u],O[u?"lineTo":"moveTo"](m.x,m.y);r&&O.closePath()}this._fillStroke(O,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,s=this._ctx,u=Math.max(Math.round(n._radius),1),d=(Math.max(Math.round(n._radiusY),1)||u)/u;d!==1&&(s.save(),s.scale(1,d)),s.beginPath(),s.arc(r.x,r.y/d,u,0,Math.PI*2,!1),d!==1&&s.restore(),this._fillStroke(s,n)}},_fillStroke:function(n,r){var s=r.options;s.fill&&(n.globalAlpha=s.fillOpacity,n.fillStyle=s.fillColor||s.color,n.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=s.opacity,n.lineWidth=s.weight,n.strokeStyle=s.color,n.lineCap=s.lineCap,n.lineJoin=s.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),s,u,d=this._drawFirst;d;d=d.next)s=d.layer,s.options.interactive&&s._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(s))&&(u=s);this._fireEvent(u?[u]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(xe(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var s,u,d=this._drawFirst;d;d=d.next)s=d.layer,s.options.interactive&&s._containsPoint(r)&&(u=s);u!==this._hoveredLayer&&(this._handleMouseOut(n),u&&(pe(this._container,"leaflet-interactive"),this._fireEvent([u],n,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,s){this._map._fireDOMEvent(r,s||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var s=r.next,u=r.prev;if(s)s.prev=u;else return;u?u.next=s:s&&(this._drawFirst=s),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var s=r.next,u=r.prev;if(u)u.next=s;else return;s?s.prev=u:u&&(this._drawLast=u),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function dd(n){return J.canvas?new cd(n):null}var jr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ag={_initContainer:function(){this._container=U("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(xn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=jr("shape");pe(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=jr("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;ie(r),n.removeInteractiveTarget(r),delete this._layers[p(n)]},_updateStyle:function(n){var r=n._stroke,s=n._fill,u=n.options,d=n._container;d.stroked=!!u.stroke,d.filled=!!u.fill,u.stroke?(r||(r=n._stroke=jr("stroke")),d.appendChild(r),r.weight=u.weight+"px",r.color=u.color,r.opacity=u.opacity,u.dashArray?r.dashStyle=y(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=u.lineCap.replace("butt","flat"),r.joinstyle=u.lineJoin):r&&(d.removeChild(r),n._stroke=null),u.fill?(s||(s=n._fill=jr("fill")),d.appendChild(s),s.color=u.fillColor||u.color,s.opacity=u.fillOpacity):s&&(d.removeChild(s),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),s=Math.round(n._radius),u=Math.round(n._radiusY||s);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+s+","+u+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){li(n._container)},_bringToBack:function(n){mn(n._container)}},ts=J.vml?jr:rn,Ir=xn.extend({_initContainer:function(){this._container=ts("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ts("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ie(this._container),Le(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){xn.prototype._update.call(this);var n=this._bounds,r=n.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,s.setAttribute("width",r.x),s.setAttribute("height",r.y)),Ee(s,n.min),s.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=ts("path");n.options.className&&pe(r,n.options.className),n.options.interactive&&pe(r,"leaflet-interactive"),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){ie(n._path),n.removeInteractiveTarget(n._path),delete this._layers[p(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,s=n.options;r&&(s.stroke?(r.setAttribute("stroke",s.color),r.setAttribute("stroke-opacity",s.opacity),r.setAttribute("stroke-width",s.weight),r.setAttribute("stroke-linecap",s.lineCap),r.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?r.setAttribute("stroke-dasharray",s.dashArray):r.removeAttribute("stroke-dasharray"),s.dashOffset?r.setAttribute("stroke-dashoffset",s.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),s.fill?(r.setAttribute("fill",s.fillColor||s.color),r.setAttribute("fill-opacity",s.fillOpacity),r.setAttribute("fill-rule",s.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,pt(n._parts,r))},_updateCircle:function(n){var r=n._point,s=Math.max(Math.round(n._radius),1),u=Math.max(Math.round(n._radiusY),1)||s,d="a"+s+","+u+" 0 1,0 ",m=n._empty()?"M0 0":"M"+(r.x-s)+","+r.y+d+s*2+",0 "+d+-s*2+",0 ";this._setPath(n,m)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){li(n._path)},_bringToBack:function(n){mn(n._path)}});J.vml&&Ir.include(ag);function fd(n){return J.svg||J.vml?new Ir(n):null}we.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&dd(n)||fd(n)}});var hd=Ri.extend({initialize:function(n,r){Ri.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=ae(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function lg(n,r){return new hd(n,r)}Ir.create=ts,Ir.pointsToPath=pt,yn.geometryToLayer=Yo,yn.coordsToLatLng=sl,yn.coordsToLatLngs=Ko,yn.latLngToCoords=al,yn.latLngsToCoords=Xo,yn.getFeature=Ai,yn.asFeature=Qo,we.mergeOptions({boxZoom:!0});var pd=an.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ie(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),gn(),$a(),this._startPoint=this._map.mouseEventToContainerPoint(n),me(document,{contextmenu:hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=U("div","leaflet-zoom-box",this._container),pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new F(this._point,this._startPoint),s=r.getSize();Ee(this._box,r.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(ie(this._box),xe(this._container,"leaflet-crosshair")),di(),Ua(),Le(document,{contextmenu:hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var r=new he(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});we.addInitHook("addHandler","boxZoom",pd),we.mergeOptions({doubleClickZoom:!0});var md=an.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,s=r.getZoom(),u=r.options.zoomDelta,d=n.originalEvent.shiftKey?s-u:s+u;r.options.doubleClickZoom==="center"?r.setZoom(d):r.setZoomAround(n.containerPoint,d)}});we.addInitHook("addHandler","doubleClickZoom",md),we.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gd=an.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new jn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xe(this._map._container,"leaflet-grab"),xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=ae(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),s=this._initialWorldOffset,u=this._draggable._newPos.x,d=(u-r+s)%n+r-s,m=(u+r+s)%n-r-s,_=Math.abs(d+s)<Math.abs(m+s)?d:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_},_onDragEnd:function(n){var r=this._map,s=r.options,u=!s.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),u)r.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,_=s.easeLinearity,P=d.multiplyBy(_/m),O=P.distanceTo([0,0]),H=Math.min(s.inertiaMaxSpeed,O),te=P.multiplyBy(H/O),ce=H/(s.inertiaDeceleration*_),ve=te.multiplyBy(-ce/2).round();!ve.x&&!ve.y?r.fire("moveend"):(ve=r._limitOffset(ve,r.options.maxBounds),$(function(){r.panBy(ve,{duration:ce,easeLinearity:_,noMoveStart:!0,animate:!0})}))}}});we.addInitHook("addHandler","dragging",gd),we.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vd=an.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),me(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Le(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,s=n.scrollTop||r.scrollTop,u=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(u,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},s=this.keyCodes,u,d;for(u=0,d=s.left.length;u<d;u++)r[s.left[u]]=[-1*n,0];for(u=0,d=s.right.length;u<d;u++)r[s.right[u]]=[n,0];for(u=0,d=s.down.length;u<d;u++)r[s.down[u]]=[0,n];for(u=0,d=s.up.length;u<d;u++)r[s.up[u]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},s=this.keyCodes,u,d;for(u=0,d=s.zoomIn.length;u<d;u++)r[s.zoomIn[u]]=n;for(u=0,d=s.zoomOut.length;u<d;u++)r[s.zoomOut[u]]=-n},_addHooks:function(){me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,s=this._map,u;if(r in this._panKeys){if(!s._panAnim||!s._panAnim._inProgress)if(u=this._panKeys[r],n.shiftKey&&(u=R(u).multiplyBy(3)),s.options.maxBounds&&(u=s._limitOffset(R(u),s.options.maxBounds)),s.options.worldCopyJump){var d=s.wrapLatLng(s.unproject(s.project(s.getCenter()).add(u)));s.panTo(d)}else s.panBy(u)}else if(r in this._zoomKeys)s.setZoom(s.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;hi(n)}}});we.addInitHook("addHandler","keyboard",vd),we.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _d=an.extend({addHooks:function(){me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Hc(n),s=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var u=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),u),hi(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),s=this._map.options.zoomSnap||0;n._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,m=s?Math.ceil(d/s)*s:d,_=n._limitZoom(r+(this._delta>0?m:-m))-r;this._delta=0,this._startTime=null,_&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+_):n.setZoomAround(this._lastMousePos,r+_))}});we.addInitHook("addHandler","scrollWheelZoom",_d);var ug=600;we.mergeOptions({tapHold:J.touchNative&&J.safari&&J.mobile,tapTolerance:15});var yd=an.extend({addHooks:function(){me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new E(r.clientX,r.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(me(document,"touchend",nt),me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),ug),me(document,"touchend touchcancel contextmenu",this._cancel,this),me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Le(document,"touchend",nt),Le(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Le(document,"touchend touchcancel contextmenu",this._cancel,this),Le(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new E(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var s=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});s._simulated=!0,r.target.dispatchEvent(s)}});we.addInitHook("addHandler","tapHold",yd),we.mergeOptions({touchZoom:J.touch,bounceAtZoomLimits:!0});var xd=an.extend({addHooks:function(){pe(this._map._container,"leaflet-touch-zoom"),me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var s=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(s.add(u)._divideBy(2))),this._startDist=s.distanceTo(u),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),me(document,"touchmove",this._onTouchMove,this),me(document,"touchend touchcancel",this._onTouchEnd,this),nt(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,s=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]),d=s.distanceTo(u)/this._startDist;if(this._zoom=r.getScaleZoom(d,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&d<1||this._zoom>r.getMaxZoom()&&d>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var m=s._add(u)._divideBy(2)._subtract(this._centerPoint);if(d===1&&m.x===0&&m.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var _=c(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(_,this,!0),nt(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});we.addInitHook("addHandler","touchZoom",xd),we.BoxZoom=pd,we.DoubleClickZoom=md,we.Drag=gd,we.Keyboard=vd,we.ScrollWheelZoom=_d,we.TapHold=yd,we.TouchZoom=xd,i.Bounds=F,i.Browser=J,i.CRS=ge,i.Canvas=cd,i.Circle=ol,i.CircleMarker=Go,i.Class=A,i.Control=Yt,i.DivIcon=ad,i.DivOverlay=ln,i.DomEvent=Em,i.DomUtil=Cm,i.Draggable=jn,i.Evented=K,i.FeatureGroup=vn,i.GeoJSON=yn,i.GridLayer=zr,i.Handler=an,i.Icon=Ii,i.ImageOverlay=qo,i.LatLng=le,i.LatLngBounds=he,i.Layer=Kt,i.LayerGroup=ji,i.LineUtil=Zm,i.Map=we,i.Marker=Vo,i.Mixin=jm,i.Path=In,i.Point=E,i.PolyUtil=Im,i.Polygon=Ri,i.Polyline=_n,i.Popup=Jo,i.PosAnimation=$c,i.Projection=Fm,i.Rectangle=hd,i.Renderer=xn,i.SVG=Ir,i.SVGOverlay=sd,i.TileLayer=Di,i.Tooltip=es,i.Transformation=Mt,i.Util=C,i.VideoOverlay=od,i.bind=c,i.bounds=ee,i.canvas=dd,i.circle=Km,i.circleMarker=Ym,i.control=Nr,i.divIcon=rg,i.extend=a,i.featureGroup=Wm,i.geoJSON=rd,i.geoJson=qm,i.gridLayer=og,i.icon=Vm,i.imageOverlay=Jm,i.latLng=se,i.latLngBounds=ae,i.layerGroup=Um,i.map=Lm,i.marker=Gm,i.point=R,i.polygon=Qm,i.polyline=Xm,i.popup=ng,i.rectangle=lg,i.setOptions=j,i.stamp=p,i.svg=fd,i.svgOverlay=tg,i.tileLayer=ld,i.tooltip=ig,i.transformation=st,i.version=o,i.videoOverlay=eg;var cg=window.L;i.noConflict=function(){return window.L=cg,this},window.L=i})})(Ru,Ru.exports);var _r=Ru.exports;const Ic=Bu(_r);function Pa(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function Ea(e,t){return t==null?function(o,a){const l=b.useRef();return l.current||(l.current=e(o,a)),l}:function(o,a){const l=b.useRef();l.current||(l.current=e(o,a));const c=b.useRef(o),{instance:f}=l.current;return b.useEffect(function(){c.current!==o&&(t(f,o,c.current),c.current=o)},[f,o,a]),l}}function dm(e,t){b.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function fm(e){return function(i){const o=Ca(),a=e(jc(i,o),o);return J_(o.map,i.attribution),cm(a.current,i.eventHandlers),dm(a.current,o),a}}function iy(e,t){const i=b.useRef();b.useEffect(function(){if(t.pathOptions!==i.current){const a=t.pathOptions??{};e.instance.setStyle(a),i.current=a}},[e,t])}function ry(e){return function(i){const o=Ca(),a=e(jc(i,o),o);return cm(a.current,i.eventHandlers),dm(a.current,o),iy(a.current,i),a}}function oy(e){function t(a,l){return Pa(e(a),l)}const i=Ea(t),o=ny(i);return um(o)}function sy(e,t){const i=Ea(e,t),o=fm(i);return lm(o)}function ay(e,t){const i=Ea(e,t),o=ry(i);return lm(o)}function ly(e,t){const i=Ea(e,t),o=fm(i);return um(o)}function uy(e,t,i){const{opacity:o,zIndex:a}=t;o!=null&&o!==i.opacity&&e.setOpacity(o),a!=null&&a!==i.zIndex&&e.setZIndex(a)}function hm(){return Ca().map}function cy(e){const t=hm();return b.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const dy=oy(function(t){return new _r.Control.Attribution(t)});function Au(){return Au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Au.apply(this,arguments)}function fy({bounds:e,boundsOptions:t,center:i,children:o,className:a,id:l,placeholder:c,style:f,whenReady:p,zoom:g,...S},k){const[x]=b.useState({className:a,id:l,style:f}),[N,z]=b.useState(null);b.useImperativeHandle(k,()=>(N==null?void 0:N.map)??null,[N]);const j=b.useCallback(w=>{if(w!==null&&N===null){const v=new _r.Map(w,S);i!=null&&g!=null?v.setView(i,g):e!=null&&v.fitBounds(e,t),p!=null&&v.whenReady(p),z(ty(v))}},[]);b.useEffect(()=>()=>{N==null||N.map.remove()},[N]);const re=N?so.createElement(am,{value:N},o):c??null;return so.createElement("div",Au({},x,{ref:j}),re)}const hy=b.forwardRef(fy),Ur=sy(function({position:t,...i},o){const a=new _r.Marker(t,i);return Pa(a,om(o,{overlayContainer:a}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),xs=ay(function({positions:t,...i},o){const a=new _r.Polyline(t,i);return Pa(a,om(o,{overlayContainer:a}))},function(t,i,o){i.positions!==o.positions&&t.setLatLngs(i.positions)}),py=ly(function({url:t,...i},o){const a=new _r.TileLayer(t,jc(i,o));return Pa(a,o)},function(t,i,o){uy(t,i,o);const{url:a}=i;a!=null&&a!==o.url&&t.setUrl(a)}),my={},jf=e=>{let t;const i=new Set,o=(S,k)=>{const x=typeof S=="function"?S(t):S;if(!Object.is(x,t)){const N=t;t=k??(typeof x!="object"||x===null)?x:Object.assign({},t,x),i.forEach(z=>z(t,N))}},a=()=>t,p={setState:o,getState:a,getInitialState:()=>g,subscribe:S=>(i.add(S),()=>i.delete(S)),destroy:()=>{(my?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},g=t=e(o,a,p);return p},gy=e=>e?jf(e):jf;var pm={exports:{}},mm={},gm={exports:{}},vm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=b;function vy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _y=typeof Object.is=="function"?Object.is:vy,yy=pr.useState,xy=pr.useEffect,wy=pr.useLayoutEffect,ky=pr.useDebugValue;function Sy(e,t){var i=t(),o=yy({inst:{value:i,getSnapshot:t}}),a=o[0].inst,l=o[1];return wy(function(){a.value=i,a.getSnapshot=t,Rl(a)&&l({inst:a})},[e,i,t]),xy(function(){return Rl(a)&&l({inst:a}),e(function(){Rl(a)&&l({inst:a})})},[e]),ky(i),i}function Rl(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!_y(e,i)}catch{return!0}}function by(e,t){return t()}var Cy=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?by:Sy;vm.useSyncExternalStore=pr.useSyncExternalStore!==void 0?pr.useSyncExternalStore:Cy;gm.exports=vm;var Py=gm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=b,Ey=Py;function Ly(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ty=typeof Object.is=="function"?Object.is:Ly,Ny=Ey.useSyncExternalStore,My=La.useRef,Oy=La.useEffect,zy=La.useMemo,jy=La.useDebugValue;mm.useSyncExternalStoreWithSelector=function(e,t,i,o,a){var l=My(null);if(l.current===null){var c={hasValue:!1,value:null};l.current=c}else c=l.current;l=zy(function(){function p(N){if(!g){if(g=!0,S=N,N=o(N),a!==void 0&&c.hasValue){var z=c.value;if(a(z,N))return k=z}return k=N}if(z=k,Ty(S,N))return z;var j=o(N);return a!==void 0&&a(z,j)?(S=N,z):(S=N,k=j)}var g=!1,S,k,x=i===void 0?null:i;return[function(){return p(t())},x===null?void 0:function(){return p(x())}]},[t,i,o,a]);var f=Ny(e,l[0],l[1]);return Oy(function(){c.hasValue=!0,c.value=f},[f]),jy(f),f};pm.exports=mm;var Iy=pm.exports;const Ry=Bu(Iy),_m={},{useDebugValue:Ay}=so,{useSyncExternalStoreWithSelector:Dy}=Ry;let If=!1;const By=e=>e;function Zy(e,t=By,i){(_m?"production":void 0)!=="production"&&i&&!If&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),If=!0);const o=Dy(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,i);return Ay(o),o}const Rf=e=>{(_m?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?gy(e):e,i=(o,a)=>Zy(t,o,a);return Object.assign(i,t),i},ym=e=>e?Rf(e):Rf,Fy=e=>{if(typeof globalThis<"u"&&typeof globalThis.btoa=="function")return globalThis.btoa(e);if(typeof Buffer<"u")return Buffer.from(e,"utf-8").toString("base64");throw new Error("Base64 encoding is not supported in this environment.")},xm=e=>{if(typeof globalThis<"u"&&typeof globalThis.atob=="function")return globalThis.atob(e);if(typeof Buffer<"u")return Buffer.from(e,"base64").toString("utf-8");throw new Error("Base64 decoding is not supported in this environment.")},Hy=e=>{let t="";for(let i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return t},$y=e=>{const t=new Uint8Array(e.length);for(let i=0;i<e.length;i+=1)t[i]=e.charCodeAt(i);return t},Uy=e=>Fy(Hy(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,""),Wy=e=>{const t=e.replace(/-/g,"+").replace(/_/g,"/"),i=t.length%4===0?"":"=".repeat(4-t.length%4),o=xm(`${t}${i}`);return $y(o)},Af=e=>Math.round(e*1e6)/1e6,Df=e=>typeof e=="number"&&Number.isFinite(e),Rs=e=>{if(!e||typeof e!="object")return null;const t=Number(e.lat),i=Number(e.lng);return!Df(t)||!Df(i)||t<-90||t>90||i<-180||i>180?null:{lat:Af(t),lng:Af(i)}},Li=1,la=1e5,Co=e=>{if(!e||typeof e!="object")return null;const t=typeof e.version=="number"?e.version:Li;if(t!==Li)return null;const i=e.connectVia==="route"?"route":"direct",o=Rs(e.start),a=Rs(e.end),l=Array.isArray(e.checkpoints)?e.checkpoints.map(Rs).filter(Boolean):[];return{version:t,connectVia:i,start:o,end:a,checkpoints:l}},Vy=({start:e,end:t,checkpoints:i,connectVia:o})=>{const a=Co({version:Li,connectVia:o,start:(e==null?void 0:e.position)??e??null,end:(t==null?void 0:t.position)??t??null,checkpoints:Array.isArray(i)?i.map(l=>(l==null?void 0:l.position)??l??null):[]});return!a||!a.start&&!a.end&&a.checkpoints.length===0?null:a},Gy=e=>{const t=!!e.start,i=!!e.end,o=e.checkpoints.length,a=(t?1:0)+(i?1:0)+o,l=new ArrayBuffer(5+a*8),c=new DataView(l);let f=0;c.setUint8(f,Li),f+=1;const p=(t?1:0)|(i?2:0);c.setUint8(f,p),f+=1,c.setUint8(f,e.connectVia==="route"?1:0),f+=1,c.setUint16(f,o,!1),f+=2;const g=S=>{c.setInt32(f,Math.round(S.lat*la),!1),f+=4,c.setInt32(f,Math.round(S.lng*la),!1),f+=4};return t&&g(e.start),e.checkpoints.forEach(g),i&&g(e.end),Uy(new Uint8Array(l))},Yy=e=>{try{const t=Wy(e);if(t.length<5)return null;const i=new DataView(t.buffer,t.byteOffset,t.byteLength);let o=0;const a=i.getUint8(o);if(o+=1,a!==Li)return null;const l=i.getUint8(o);o+=1;const c=i.getUint8(o)===1?"route":"direct";o+=1;const f=i.getUint16(o,!1);o+=2;const g=((l&1?1:0)+(l&2?1:0)+f)*8;if(t.byteLength!==o+g)return null;const S=()=>{const z=i.getInt32(o,!1)/la;o+=4;const j=i.getInt32(o,!1)/la;return o+=4,{lat:z,lng:j}},k=l&1?S():null,x=[];for(let z=0;z<f;z+=1)x.push(S());const N=l&2?S():null;return{version:Li,connectVia:c,start:k,end:N,checkpoints:x}}catch{return null}},Ky=e=>{const t=Co(e);return t?Gy(t):""},Xy=e=>{if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const i=Yy(t);if(i)return Co(i);try{const o=JSON.parse(xm(t));return Co(o)}catch{return null}},wm="0123456789bcdefghjkmnpqrstuvwxyz",oo=[16,8,4,2,1],sr=(e,t=9)=>{if(typeof t!="number"||t<1||t>12)throw new Error("encodeLocationCode precision must be between 1 and 12.");const i=Rs(e);if(!i)return null;let o=-90,a=90,l=-180,c=180,f=!0,p=0,g=0,S="";for(;S.length<t;){if(f){const k=(l+c)/2;i.lng>=k?(g|=oo[p],l=k):c=k}else{const k=(o+a)/2;i.lat>=k?(g|=oo[p],o=k):a=k}f=!f,p<oo.length-1?p+=1:(S+=wm[g],p=0,g=0)}return S},Bf=e=>{if(typeof e!="string"||e.length===0)return null;let t=-90,i=90,o=-180,a=180,l=!0;for(let c=0;c<e.length;c+=1){const f=e[c].toLowerCase(),p=wm.indexOf(f);if(p===-1)return null;for(let g=0;g<oo.length;g+=1){const S=oo[g];if(l){const k=(o+a)/2;p&S?o=k:a=k}else{const k=(t+i)/2;p&S?t=k:i=k}l=!l}}return{lat:(t+i)/2,lng:(o+a)/2}},Zf=e=>`${e}-${Math.random().toString(36).slice(2,9)}`,Al={start:null,end:null,checkpoints:[],selectedId:null,connectVia:"direct",placementMode:null},Ff=e=>e==null?null:typeof e=="string"?{type:e}:typeof e=="object"&&typeof e.type=="string"?e:null,Qy=ym((e,t)=>({...Al,setPlacementMode:i=>e(o=>{const a=Ff(i);if(!a)return{placementMode:null};const l=Ff(o.placementMode);return(l==null?void 0:l.type)===a.type&&((l==null?void 0:l.insertIndex)??null)===((a==null?void 0:a.insertIndex)??null)?{placementMode:null}:{placementMode:a}}),toggleConnectMode:()=>e(i=>({connectVia:i.connectVia==="direct"?"route":"direct"})),setStart:i=>e(o=>({start:{id:"start",position:i},placementMode:null,selectedId:"start",checkpoints:o.checkpoints})),setEnd:i=>e(o=>({end:{id:"end",position:i},placementMode:null,selectedId:"end",checkpoints:o.checkpoints})),addCheckpoint:(i,o)=>e(a=>{const l={id:Zf("checkpoint"),position:i},c=Array.isArray(a.checkpoints)?[...a.checkpoints]:[];return typeof o=="number"&&o>=0&&o<=c.length?c.splice(o,0,l):c.push(l),{checkpoints:c,placementMode:null,selectedId:l.id}}),selectCheckpoint:i=>e({selectedId:i}),updateCheckpoint:(i,o)=>e(a=>({checkpoints:a.checkpoints.map(l=>l.id===i?{...l,position:o}:l)})),moveCheckpoint:(i,o)=>e(a=>{const l=Array.isArray(a.checkpoints)?[...a.checkpoints]:[],c=l.findIndex(p=>p.id===i);if(c===-1||typeof o!="number"||o<0||o>=l.length||o===c)return a;const[f]=l.splice(c,1);return l.splice(o,0,f),{checkpoints:l}}),removeCheckpoint:i=>e(o=>{const a=o.checkpoints.filter(c=>c.id!==i),l=o.selectedId===i?null:o.selectedId;return{checkpoints:a,selectedId:l,placementMode:null}}),loadRouteSnapshot:i=>e(o=>{const a=Co({version:(i==null?void 0:i.version)??Li,connectVia:i==null?void 0:i.connectVia,start:i==null?void 0:i.start,end:i==null?void 0:i.end,checkpoints:i==null?void 0:i.checkpoints});if(!a)return o;const l=a.start?{id:"start",position:a.start}:null,c=a.end?{id:"end",position:a.end}:null,f=a.checkpoints.map(g=>({id:Zf("checkpoint"),position:g}));let p=null;return l?p="start":f.length>0?p=f[0].id:c&&(p="end"),{...Al,connectVia:a.connectVia,start:l,end:c,checkpoints:f,selectedId:p,placementMode:null}}),clearAll:()=>e(Al),swapCheckpoints:(i,o)=>e(a=>{const l=x=>{if(x==="start")return{type:"start",item:a.start};if(x==="end")return{type:"end",item:a.end};const N=a.checkpoints.findIndex(z=>z.id===x);return N!==-1?{type:"checkpoint",index:N,item:a.checkpoints[N]}:null},c=l(i),f=l(o);if(!c||!f||!c.item||!f.item)return a;const p=c.item.position,g=f.item.position;let S={...a};const k=(x,N)=>{if(x.type==="start")S.start={...S.start,position:N};else if(x.type==="end")S.end={...S.end,position:N};else{const z=[...S.checkpoints||a.checkpoints];z[x.index]={...z[x.index],position:N},S.checkpoints=z}};return k(c,g),k(f,p),S})})),Oo=()=>Qy(e=>e),qy=({onDropItem:e})=>{const t=hm();return b.useEffect(()=>{if(!e)return;const i=t.getContainer(),o=l=>{l.preventDefault(),l.dataTransfer.dropEffect="copy"},a=l=>{l.preventDefault();const{clientX:c,clientY:f}=l,p=i.getBoundingClientRect(),g=c-p.left,S=f-p.top,k=t.containerPointToLatLng([g,S]),x=l.dataTransfer.getData("application/x-cadet-map-item");x&&e(x,k)};return i.addEventListener("dragover",o),i.addEventListener("drop",a),()=>{i.removeEventListener("dragover",o),i.removeEventListener("drop",a)}},[t,e]),null},Jy=Object.assign({"../../assets/compass.png":G_,"../../assets/layer.png":Y_,"../../assets/menu.png":K_,"../../assets/route.png":X_,"../../assets/settings.png":Q_,"../../assets/zoom.png":q_}),e0=e=>Jy[`../../assets/${e}.png`]??null,Wr=({iconName:e,label:t,onClick:i,title:o,isActive:a=!1,disabled:l=!1,themeStyles:c})=>{const f=e0(e),p=(c==null?void 0:c.button)??{},g=p.base??"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",S=p.active??"border-sky-500 bg-sky-200 text-slate-900 focus-visible:ring-sky-400",k=p.idle??"border-slate-300 bg-slate-100 text-slate-900 hover:border-slate-400 hover:bg-slate-200 focus-visible:ring-slate-500/50",x=l?p.disabled??"opacity-60 pointer-events-none":"",N=(c==null?void 0:c.iconStyle)??null,z=(c==null?void 0:c.iconClass)??"";return h.jsx("button",{type:"button",className:`${g} ${a?S:k} ${x}`,onClick:i,title:o??t,"aria-label":t,disabled:l,children:f?h.jsx("img",{src:f,alt:"",className:`h-5 w-5 object-contain ${z}`,style:N??void 0,"aria-hidden":"true"}):h.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide",children:t})})},t0=[51.505,10],Dl={street:{id:"street",label:"OpenStreetMap Standard",description:"Balanced street map with global coverage sourced from the OpenStreetMap community.",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c"],maxZoom:19,minZoom:3,category:"Streets"},light:{id:"light",label:"Carto Light",description:"Soft grayscale basemap designed for daylight navigation with minimal visual noise.",url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},dark:{id:"dark",label:"Carto Dark Matter",description:"Night-friendly basemap with high contrast roads and landmarks on a deep navy canvas.",url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},voyager:{id:"voyager",label:"Carto Voyager",description:"Colorful, detail-rich cartography ideal for orientation and wayfinding at multiple zoom levels.",url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},hot:{id:"hot",label:"OSM Humanitarian",description:"Humanitarian OpenStreetMap Team basemap with emphasis on populated areas and infrastructure.",url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="https://www.hotosm.org/">Humanitarian OpenStreetMap Team</a>',subdomains:["a","b","c"],maxZoom:19,minZoom:3,category:"Streets"},topo:{id:"topo",label:"OpenTopoMap",description:"Topographic map derived from OSM data with contour lines and terrain shading.",url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors | SRTM | <a href="https://opentopomap.org">OpenTopoMap</a>',subdomains:["a","b","c"],maxZoom:17,minZoom:3,category:"Outdoor"},satellite:{id:"satellite",label:"Esri World Imagery",description:"High-resolution satellite and aerial imagery from Esri and the GIS user community.",url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Imagery &copy; Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",subdomains:[],maxZoom:19,minZoom:3,category:"Imagery"}},n0=["street","light","dark","voyager","hot","topo","satellite"],Hf={light:{container:"pointer-events-auto flex flex-col gap-2 rounded-3xl border border-slate-200 bg-slate-100 p-2 text-slate-900 backdrop-blur-sm",badge:"rounded-full border border-slate-300 bg-slate-100 px-3 py-1 text-[10px] font-semibold text-slate-700",button:{base:"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-slate-400/40 focus-visible:ring-offset-slate-100/60",active:"border-sky-500 bg-sky-200 text-slate-900",idle:"border-slate-300 bg-slate-100 text-slate-900 hover:border-slate-400 hover:bg-slate-200",disabled:"opacity-60 pointer-events-none"},panel:"pointer-events-auto w-60 rounded-3xl border border-slate-200 bg-slate-100 p-4 text-slate-900 backdrop-blur-md",panelTitle:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",panelButton:"rounded-xl border border-slate-300 bg-white px-3 py-1.5 text-[12px] font-semibold text-slate-900 transition hover:border-sky-400 hover:bg-sky-100",panelToggle:"rounded-xl border border-slate-300 bg-slate-100 px-3 py-1.5 text-[12px] font-semibold text-slate-900 transition hover:border-sky-400 hover:bg-sky-100",layerScroll:"flex max-h-60 flex-col gap-2 overflow-y-auto pr-1",layerOption:"flex flex-col gap-1 rounded-2xl border border-slate-300 bg-white px-3 py-2 text-left transition hover:border-sky-400 hover:bg-sky-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/40",layerOptionActive:"border-sky-500 bg-sky-100 text-slate-900 shadow-inner shadow-sky-200/60",layerOptionDescription:"text-[11px] text-slate-500 leading-snug",layerOptionCategory:"text-[10px] font-semibold uppercase tracking-wide text-slate-400",iconStyle:null,iconClass:""},dark:{container:"pointer-events-auto flex flex-col gap-2 rounded-3xl border border-slate-700 bg-[#0b1224] p-2 text-slate-100 backdrop-blur-sm",badge:"rounded-full border border-slate-600 bg-[#0f1b38] px-3 py-1 text-[10px] font-semibold text-slate-200",button:{base:"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-slate-200/30 focus-visible:ring-offset-[#0b1224]/40",active:"border-sky-400 bg-[#1e335d] text-sky-100",idle:"border-slate-600 bg-[#0d172e] text-slate-100 hover:border-slate-400 hover:bg-[#15213f]",disabled:"opacity-50 pointer-events-none"},panel:"pointer-events-auto w-60 rounded-3xl border border-slate-700 bg-[#080f1e] p-4 text-slate-100 backdrop-blur-md",panelTitle:"text-[11px] font-semibold uppercase tracking-wide text-slate-400",panelButton:"rounded-xl border border-slate-600 bg-[#111b33] px-3 py-1.5 text-[12px] font-semibold text-slate-100 transition hover:border-sky-400 hover:bg-[#1d2b4e]",panelToggle:"rounded-xl border border-slate-500 bg-[#0f1b38] px-3 py-1.5 text-[12px] font-semibold text-slate-100 transition hover:border-sky-400 hover:bg-[#1a2a4d]",layerScroll:"flex max-h-60 flex-col gap-2 overflow-y-auto pr-1",layerOption:"flex flex-col gap-1 rounded-2xl border border-slate-600 bg-[#101d39] px-3 py-2 text-left transition hover:border-sky-400 hover:bg-[#16254a] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-200/30",layerOptionActive:"border-sky-400 bg-[#1e335d] text-sky-100 shadow-inner shadow-sky-900/40",layerOptionDescription:"text-[11px] text-slate-300 leading-snug",layerOptionCategory:"text-[10px] font-semibold uppercase tracking-wide text-slate-400/90",iconStyle:{filter:"invert(0.9)"},iconClass:""}},i0=6,r0=[{id:"getting-started",title:"Getting started",description:"Allow location access, choose a base map that fits the terrain, and tap on the map to place the start and finish markers.",points:["Tap the placement tools under the Route tab to add Start, End, or intermediate checkpoints onto the map.","Switch between the light and night toolbar themes for readability in different lighting conditions."]},{id:"toolbar",title:"Toolbar buttons",description:"Each button in the floating toolbar opens a tool. All tools can also be accessed from the Menu button.",points:["Menu toggles the quick actions panel where you can jump to Compass, Route, or Grid tools.","Compass opens the heading overlay showing bearings to your selected checkpoint.","Route leads to the checkpoint manager where you can add or remove checkpoints."]},{id:"maps",title:"Choosing maps",description:"Different base layers emphasise different features. Pick the layer that best supports the task at hand.",points:["OpenStreetMap Street is the fallback layer and works reliably online or with low mobile reception.","Carto Light or Dark provide high-contrast styling that is easier to read in bright sun or at night.","OpenTopoMap is ideal for land navigation where contours and terrain shading matter.","Esri Satellite is ideal when you need to see real details, but is heavy on mobile data."]}],o0=(e,t,i)=>{const o=e*Math.PI/180,a=2**i,l=Math.floor((t+180)/360*a),c=Math.floor((1-Math.log(Math.tan(o)+1/Math.cos(o))/Math.PI)/2*a),f=a-1;return{x:Math.min(Math.max(l,0),f),y:Math.min(Math.max(c,0),f),z:i}},s0=(e,t,{x:i,y:o,z:a})=>{const l=Array.isArray(t)&&t.length>0?t:[""],c=Math.abs((i+o)%l.length),f=l[c];return e.replace("{s}",f).replace("{x}",i).replace("{y}",o).replace("{z}",a)},Ta=(e,t)=>Ic.divIcon({className:"flex items-center justify-center rounded-full text-xs font-semibold text-white shadow-lg shadow-slate-900/50",html:`<div style="background:${e};width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:9999px;">${t}</div>`}),a0=Ta("#22c55e","S"),l0=Ta("#ef4444","F"),u0=Ta("#3b82f6",""),c0=Ta("#d946ef",""),d0=e=>Ic.divIcon({className:"user-heading-icon",html:`
      <div style="position:relative;width:44px;height:44px;">
        <div style="position:absolute;inset:0;border-radius:50%;background:rgba(14,165,233,0.12);border:2px solid rgba(56,189,248,0.9);box-shadow:0 0 8px rgba(56,189,248,0.4);"></div>
        <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(${e}deg);transform-origin:center;">
          <div style="width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:18px solid #fbbf24;"></div>
        </div>
      </div>
    `,iconSize:[44,44],iconAnchor:[22,22]}),f0=()=>{const{placementMode:e,setStart:t,setEnd:i,addCheckpoint:o,setPlacementMode:a}=Oo();return cy({click:l=>{if(!e)return;const c=typeof e=="string"?{type:e}:e;if(!(c!=null&&c.type))return;const{latlng:f}=l;if(c.type==="start")t({lat:f.lat,lng:f.lng});else if(c.type==="end")i({lat:f.lat,lng:f.lng});else if(c.type==="checkpoint"){const p=typeof c.insertIndex=="number"?c.insertIndex:void 0;o({lat:f.lat,lng:f.lng},p)}a(null)}}),null},h0=({userLocation:e,userHeading:t,targets:i=[],onEnableLocation:o,locationEnabled:a,hasLocationFix:l,isRequestingLocation:c,locationRequestToken:f=0,baseLayer:p="street",onBaseLayerChange:g,onToggleMenu:S,onOpenCompass:k,onOpenRoute:x,toolbarTheme:N="light",onToolbarThemeToggle:z,isMenuOpen:j=!1,previewLocation:re,onDropItem:w,hideToolbar:v=!1})=>{const{start:y,end:T,checkpoints:W,connectVia:I,selectedId:B,selectCheckpoint:V,updateCheckpoint:D,setPlacementMode:Z,toggleConnectMode:$,loadRouteSnapshot:q,placementMode:C,setStart:A,setEnd:X,addCheckpoint:Q}=Oo(),K=b.useRef(null),E=b.useRef(!1),G=b.useRef(0),[R,F]=b.useState(null),[ee,he]=b.useState(!1),[ae,le]=b.useState(!1),[se,ge]=b.useState(!1),[ue,Ce]=b.useState("settings"),[Nt,Mt]=b.useState(0),[st,et]=b.useState(null),[at,rn]=b.useState(""),[pt,Fe]=b.useState(null),[kt,de]=b.useState(""),[ke,Ne]=b.useState("checkpoint"),[tt,$e]=b.useState(null),lt=b.useRef(null),pn=b.useRef(0),oe=b.useRef(null),_e=b.useRef(null),Pe=b.useRef(null),ze=b.useRef(null),Ge=b.useRef(null),Xe=Dl[p]??Dl.street,fe=Hf[N]??Hf.light,zo=N==="dark"?"map-theme-dark":"map-theme-light",yr=e?[e.lat,e.lng]:t0,jo=e?"user-centered":"default-centered",ut=b.useCallback(()=>{K.current&&K.current.invalidateSize({animate:!1})},[]),ni=b.useMemo(()=>n0.map(M=>Dl[M]).filter(Boolean),[]),Na=b.useMemo(()=>({top:"calc(env(safe-area-inset-top, 0px) + 1rem)",right:"calc(env(safe-area-inset-right, 0px) + 1rem)"}),[]),Be=b.useMemo(()=>Vy({start:y,end:T,checkpoints:W,connectVia:I}),[y,T,W,I]),Mn=b.useMemo(()=>Be?Ky(Be):"",[Be]),xr=b.useMemo(()=>{if(!Be)return null;const M=[];Be.start&&M.push("start"),Be.checkpoints.length>0&&M.push(`${Be.checkpoints.length} checkpoint${Be.checkpoints.length===1?"":"s"}`),Be.end&&M.push("end");const U=M.length?`Includes ${M.join(", ")}. `:"",ie=Be.connectVia==="route"?"Route mode connections maintained.":"Direct line connections maintained.";return`${U}${ie}`},[Be]),ii=!!Mn,Io=b.useMemo(()=>{if(!Be)return[];const M=[];return Be.start&&M.push({key:"start",label:"Start",code:sr(Be.start),position:Be.start}),Be.checkpoints.forEach((U,ie)=>{M.push({key:`checkpoint-${ie}`,label:`Checkpoint ${ie+1}`,code:sr(U),position:U})}),Be.end&&M.push({key:"end",label:"Finish",code:sr(Be.end),position:Be.end}),M.filter(U=>!!U.code)},[Be]),Ma=b.useCallback(M=>M?`${M.lat.toFixed(4)}, ${M.lng.toFixed(4)}`:"",[]),wr=b.useCallback(M=>M==="success"?"text-emerald-500":M==="error"?"text-rose-500":M==="warning"?"text-amber-500":"text-slate-500",[]),Mi=b.useCallback((M,U,ie=2500)=>{Pe.current&&typeof window<"u"&&(window.clearTimeout(Pe.current),Pe.current=null),et(U?{tone:M,message:U}:null),U&&ie!==null&&typeof window<"u"&&(Pe.current=window.setTimeout(()=>{et(null),Pe.current=null},ie))},[et,Pe]),Oi=b.useCallback((M,U,ie=4e3)=>{ze.current&&typeof window<"u"&&(window.clearTimeout(ze.current),ze.current=null),Fe(U?{tone:M,message:U}:null),U&&ie!==null&&typeof window<"u"&&(ze.current=window.setTimeout(()=>{Fe(null),$e(null),ze.current=null},ie))},[Fe,ze]),Oa=b.useCallback(async()=>{var M;if(!ii){Mi("warning","Define a route to generate a share code.",3200);return}try{let U=!1;if(typeof navigator<"u"&&((M=navigator.clipboard)!=null&&M.writeText))await navigator.clipboard.writeText(Mn),U=!0;else if(typeof document<"u"&&_e.current){const ie=_e.current;ie.focus(),ie.select(),typeof ie.setSelectionRange=="function"&&ie.setSelectionRange(0,Mn.length),U=!!(typeof document.execCommand=="function"&&document.execCommand("copy"))}if(!U)throw new Error("Copy not supported");Mi("success","Share code copied to clipboard.",2500)}catch(U){Mi("error",U!=null&&U.message&&U.message!=="Copy not supported"?U.message:"Copy failed. Try selecting and copying the code manually.",4e3)}},[ii,Mn,Mi]),ri=b.useCallback(()=>{const M=at.trim();if(!M){Oi("warning","Paste a share code to import.",3500);return}const U=Xy(M);if(!U){Oi("error","That share code could not be read. Check the full code and try again.",4e3);return}q(U),rn(""),Oi("success","Route imported. Close this panel to review it on the map.",4e3)},[q,at,Oi]),za=b.useCallback(M=>{ze.current&&typeof window<"u"&&(window.clearTimeout(ze.current),ze.current=null),rn(M.target.value),Fe(null)},[Fe,rn,ze]),ja=b.useCallback(M=>{(M.ctrlKey||M.metaKey)&&M.key==="Enter"&&(M.preventDefault(),ri())},[ri]);b.useEffect(()=>{ue!=="share"&&(et(null),Fe(null),Pe.current&&typeof window<"u"&&(window.clearTimeout(Pe.current),Pe.current=null),ze.current&&typeof window<"u"&&(window.clearTimeout(ze.current),ze.current=null))},[ue]);const zi=b.useMemo(()=>N==="light"?"border border-slate-300 bg-white text-slate-900 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-400":"border border-slate-700 bg-slate-950 text-slate-100 focus:border-sky-400 focus:outline-none focus:ring-1 focus:ring-sky-500",[N]),kr=b.useMemo(()=>{if(!C)return null;const M=typeof C=="string"?{type:C}:C;return M!=null&&M.type?M.type==="start"?"Start point":M.type==="end"?"End point":M.type==="checkpoint"?typeof M.insertIndex=="number"?`Checkpoint (position ${M.insertIndex+1})`:"Checkpoint":null:null},[C]),Ot=b.useMemo(()=>kr?[{key:"placement",text:`Currently placing: ${kr}`,tone:"emerald"}]:[],[kr]),J=b.useCallback((M,U="info",ie=4e3)=>{lt.current&&typeof window<"u"&&(window.clearTimeout(lt.current),lt.current=null),F(M?{message:M,tone:U}:null),M&&ie!==null&&typeof window<"u"&&(lt.current=window.setTimeout(()=>{F(null),lt.current=null},ie))},[]);b.useEffect(()=>{Ic.Icon.Default.mergeOptions({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},[]),b.useEffect(()=>{J(null),he(!1),pn.current=0,Mt(M=>M+1)},[p,J]),b.useEffect(()=>{j&&(ge(!1),Ce("settings"))},[j,ge,Ce]),b.useEffect(()=>{if(!ae||typeof window>"u")return;const M=()=>{window.requestAnimationFrame(ut)};return window.requestAnimationFrame(ut),window.addEventListener("resize",M,{passive:!0}),window.addEventListener("orientationchange",M,{passive:!0}),()=>{window.removeEventListener("resize",M),window.removeEventListener("orientationchange",M)}},[ae,ut]),b.useEffect(()=>{var ie;if(!ae||typeof ResizeObserver>"u")return;const M=(ie=K.current)==null?void 0:ie.getContainer();if(!M)return;const U=new ResizeObserver(()=>{typeof window<"u"?window.requestAnimationFrame(ut):ut()});return U.observe(M),()=>U.disconnect()},[ae,ut]),b.useEffect(()=>{ae&&ut()},[ae,ut,N,se,j,p]),b.useEffect(()=>{!K.current||!e||E.current||(K.current.setView([e.lat,e.lng],16),E.current=!0)},[e]),b.useEffect(()=>{oe.current=e},[e]),b.useEffect(()=>{if(!K.current)return;E.current=!1,ut();const M=oe.current;M&&(K.current.flyTo([M.lat,M.lng],Math.max(K.current.getZoom(),16),{animate:!1}),E.current=!0)},[p,ut]),b.useEffect(()=>{K.current&&(f===void 0||f===G.current||(G.current=f,E.current=!1,e&&(K.current.flyTo([e.lat,e.lng],Math.max(K.current.getZoom(),16),{animate:!0}),E.current=!0)))},[f,e]);const Ro=b.useMemo(()=>d0(t??0),[t]),Sr=b.useCallback(()=>{if(!K.current)return;const M=oe.current??e;if(!M)return;const U=K.current;ut();const ie=Math.max(U.getZoom(),16);U.flyTo([M.lat,M.lng],ie,{animate:!0}),E.current=!0},[ut,e]);b.useEffect(()=>()=>{K.current&&(K.current.getContainer().classList.remove("mapview-attribution-offset"),K.current=null)},[]),b.useEffect(()=>()=>{lt.current&&typeof window<"u"&&window.clearTimeout(lt.current),Pe.current&&typeof window<"u"&&window.clearTimeout(Pe.current),ze.current&&typeof window<"u"&&window.clearTimeout(ze.current),Ge.current&&typeof window<"u"&&window.clearTimeout(Ge.current)},[]);const br=b.useCallback(()=>typeof o=="function"?o():!1,[o]),Ao=b.useCallback(()=>{ge(!1),typeof S=="function"&&S()},[S]),Cr=b.useCallback(()=>{typeof k=="function"&&k()},[k]),Do=b.useCallback(()=>{typeof x=="function"&&x()},[x]),On=b.useCallback(M=>{M!==p&&typeof g=="function"&&g(M)},[p,g]),on=b.useCallback((M,U,ie=3500)=>{Ge.current&&typeof window<"u"&&(window.clearTimeout(Ge.current),Ge.current=null),$e(U?{tone:M,message:U}:null),U&&ie!==null&&typeof window<"u"&&(Ge.current=window.setTimeout(()=>{$e(null),Ge.current=null},ie))},[$e,Ge]),Ia=b.useCallback(async()=>{if(!ae||!K.current){J("Map not ready yet.","warning");return}if(p!=="satellite"){J("Switch to satellite view to cache imagery.","warning");return}if(typeof window>"u"||!("caches"in window)){J("Tile caching not supported in this browser.","error");return}const M=K.current,U=Math.round(M.getZoom()),ie=2**U,St=[];if(e&&St.push(e),y!=null&&y.position&&St.push(y.position),T!=null&&T.position&&St.push(T.position),W.forEach(xe=>{xe!=null&&xe.position&&St.push(xe.position)}),St.length===0){J("Add a checkpoint or enable location before caching.","warning");return}const mn=40075016686e-3/ie,ui=new Set;if(St.forEach(xe=>{const Bt=o0(xe.lat,xe.lng,U),mt=xe.lat*Math.PI/180,Ue=Math.cos(mt)||1e-4,ci=mn*Ue,zn=mn,gt=Math.max(1,Math.ceil(2e3/ci)),Ee=Math.max(1,Math.ceil(2e3/zn));for(let Ie=-gt;Ie<=gt;Ie+=1)for(let gn=-Ee;gn<=Ee;gn+=1){const di=Math.min(Math.max(Bt.x+Ie,0),ie-1),Er=Math.min(Math.max(Bt.y+gn,0),ie-1);ui.add(`${di}:${Er}:${U}`)}}),ui.size===0){J("No tiles identified for caching.","warning");return}const pe=Array.from(ui).map(xe=>{const[Bt,mt,Ue]=xe.split(":").map(ci=>Number(ci));return{x:Bt,y:mt,z:Ue}});try{he(!0),J("Caching satellite tiles nearby","info",null);const xe=await caches.open("cadet-map-tile-cache");let Bt=0;const mt=[],Ue=[...pe],ci=Math.min(i0,Ue.length),zn=async()=>{for(;Ue.length>0;){const gt=Ue.shift();if(!gt)continue;const Ee=s0(Xe.url,Xe.subdomains,gt);try{const Ie=await fetch(Ee,{mode:"cors"});if(!Ie.ok&&Ie.type!=="opaque")throw new Error(`HTTP ${Ie.status}`);await xe.put(Ee,Ie.clone()),Bt+=1}catch(Ie){mt.push((Ie==null?void 0:Ie.message)??"Unknown error")}await new Promise(Ie=>{if(typeof window>"u"){Ie();return}window.requestAnimationFrame(Ie)})}};if(await Promise.all(Array.from({length:ci},zn)),mt.length===pe.length)J("Unable to cache tiles. Please try again later.","error");else{const gt=mt.length?` (skipped ${mt.length} tile${mt.length===1?"":"s"})`:"";J(`Cached ${Bt} satellite tile${Bt===1?"":"s"}${gt}.`,mt.length?"warning":"success")}}catch(xe){J(xe.message??"Tile caching failed.","error")}finally{he(!1)}},[p,W,T,ae,J,y,Xe.subdomains,Xe.url,e]),Ra=b.useCallback(()=>{!se&&j&&typeof S=="function"&&S(),ge(U=>{const ie=!U;return(!U||!ie)&&Ce("settings"),ie})},[j,se,S,Ce]),Aa=b.useCallback(()=>{Ce("help"),ge(!0)},[ge,Ce]),Bo=b.useCallback(()=>{se||(j&&typeof S=="function"&&S(),ge(!0)),Ce("share")},[j,se,S,ge,Ce]),Zo=b.useCallback(()=>{typeof z=="function"&&z()},[z]),Fo=b.useCallback(()=>{if(e){Sr(),ge(!1),Ce("settings");return}br()?J("Requesting location fix","info",2500):J("Enable location permissions to center the map.","warning")},[br,Sr,ge,Ce,J,e]),oi=p!=="satellite"||ee,Da=ee?"Caching":p!=="satellite"?"Satellite required":"Cache tiles",Ba=b.useMemo(()=>({loading:()=>{pn.current=0},load:()=>{ut()},tileerror:()=>{pn.current+=1,pn.current>=3&&(pn.current=0,J("Tile issues detected. Reverting to standard map.","warning",3e3),p!=="street"&&typeof g=="function"?g("street"):Mt(M=>M+1))}}),[p,g,ut,Mt,J]),Za=b.useCallback(M=>{const U=M.target.value.replace(/\s+/g,"").toLowerCase();de(U),$e(null),Ge.current&&typeof window<"u"&&(window.clearTimeout(Ge.current),Ge.current=null)},[]),Fa=b.useCallback(M=>{Ne(M.target.value)},[]),Ha=b.useCallback(()=>{const M=kt.trim().toLowerCase();if(!M){on("warning","Enter a callout code to place it.");return}if(M.length<4||M.length>12){on("error","Callouts should be between 4 and 12 characters.");return}const U=Bf(M);if(!U){on("error","That code could not be decoded. Double-check the letters.");return}ke==="start"?(A(U),on("success","Start marker updated from callout.",3e3)):ke==="end"?(X(U),on("success","End marker updated from callout.",3e3)):(Q(U),on("success","Checkpoint added from callout.",3e3)),de("")},[Q,Bf,X,A,ke,kt,on]),Pr=b.useMemo(()=>`${fe.panelToggle} ${ue==="settings"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[ue,fe.panelToggle]),si=b.useMemo(()=>`${fe.panelToggle} ${ue==="share"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[ue,fe.panelToggle]),Ho=b.useMemo(()=>`${fe.panelToggle} ${ue==="help"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[ue,fe.panelToggle]),ai=b.useMemo(()=>{const M=[];return y&&M.push([y.position.lat,y.position.lng]),W.forEach(U=>{M.push([U.position.lat,U.position.lng])}),T&&M.push([T.position.lat,T.position.lng]),M},[y,W,T]);return h.jsxs("div",{className:"relative h-full w-full flex-1",children:[h.jsxs(hy,{center:yr,zoom:13,className:`h-full w-full ${zo}`,preferCanvas:!0,ref:K,attributionControl:!1,whenCreated:M=>{M.getContainer().classList.add("mapview-attribution-offset")},children:[h.jsx(qy,{onDropItem:w}),h.jsx(dy,{position:"bottomleft",prefix:!1}),h.jsx(py,{url:Xe.url,attribution:Xe.attribution,subdomains:Xe.subdomains,minZoom:Xe.minZoom,maxZoom:Xe.maxZoom,eventHandlers:Ba},`${Xe.id}-${Nt}`),h.jsx(f0,{}),e&&h.jsx(Ur,{position:[e.lat,e.lng],icon:Ro,interactive:!1}),y&&h.jsx(Ur,{position:[y.position.lat,y.position.lng],icon:a0,draggable:!0,eventHandlers:{click:()=>V("start"),dragend:M=>{const{lat:U,lng:ie}=M.target.getLatLng();A({lat:U,lng:ie})}}}),T&&h.jsx(Ur,{position:[T.position.lat,T.position.lng],icon:l0,draggable:!0,eventHandlers:{click:()=>V("end"),dragend:M=>{const{lat:U,lng:ie}=M.target.getLatLng();X({lat:U,lng:ie})}}}),W.map(M=>h.jsx(Ur,{position:[M.position.lat,M.position.lng],icon:u0,draggable:!0,eventHandlers:{click:()=>V(M.id),dragend:U=>{const{lat:ie,lng:St}=U.target.getLatLng();D(M.id,{lat:ie,lng:St})}}},M.id)),(re==null?void 0:re.position)&&h.jsxs(h.Fragment,{children:[h.jsx(Ur,{position:[re.position.lat,re.position.lng],icon:c0,opacity:.8}),re.source&&h.jsx(xs,{positions:[[re.source.lat,re.source.lng],[re.position.lat,re.position.lng]],pathOptions:{color:"#d946ef",weight:3,dashArray:"5 5",opacity:.6}})]}),I==="direct"&&ai.length>=2&&h.jsx(xs,{positions:ai,pathOptions:{color:"#38bdf8",weight:4,opacity:.7}}),I==="route"&&ai.length>=2&&h.jsx(xs,{positions:ai,pathOptions:{color:"#f97316",weight:4,dashArray:"10 6",opacity:.8}}),e&&i.filter(M=>M.position).map(M=>h.jsx(xs,{positions:[[e.lat,e.lng],[M.position.lat,M.position.lng]],pathOptions:{color:"#818cf8",weight:2,dashArray:"4 6",opacity:.4}},`user-target-${M.id}`))]},jo),R&&h.jsx("div",{className:`pointer-events-none absolute left-1/2 top-4 z-[1000] -translate-x-1/2 rounded-full border px-4 py-1.5 text-[11px] font-semibold tracking-wide ${R.tone==="success"?"border-emerald-300 bg-emerald-200 text-emerald-900":R.tone==="warning"?"border-amber-300 bg-amber-200 text-amber-900":R.tone==="error"?"border-rose-300 bg-rose-200 text-rose-900":"border-sky-300 bg-sky-200 text-slate-900"}`,children:R.message}),h.jsxs("div",{className:`pointer-events-none absolute z-[990] flex flex-col items-end gap-3 transition-opacity duration-300 ${v?"opacity-0":"opacity-100"}`,style:Na,children:[h.jsxs("div",{className:fe.container,children:[h.jsx(Wr,{iconName:"menu",label:"Menu",onClick:Ao,title:"Toggle navigation menu",isActive:j,themeStyles:fe}),h.jsx(Wr,{iconName:"compass",label:"Compass",onClick:Cr,title:"Open compass overlay",themeStyles:fe}),h.jsx(Wr,{iconName:"route",label:"Route",onClick:Do,title:"Open route tools",themeStyles:fe}),h.jsx(Wr,{iconName:"settings",label:"Settings",onClick:Ra,title:"Open settings",isActive:se,themeStyles:fe})]}),(c||a&&!l)&&h.jsx("div",{className:`pointer-events-none ${fe.badge}`,children:c?"Getting location":"GPS active, awaiting fix"})]}),h.jsx("div",{className:"pointer-events-none absolute z-[990] flex flex-col items-start gap-3",style:{bottom:"calc(env(safe-area-inset-bottom, 0px) + 1rem)",left:"calc(env(safe-area-inset-left, 0px) + 1rem)"},children:h.jsx("div",{className:"pointer-events-auto",children:h.jsx(Wr,{iconName:"zoom",label:"Zoom",onClick:Fo,title:"Zoom to location",isActive:!1,themeStyles:fe})})}),se&&h.jsxs("div",{className:"pointer-events-auto fixed inset-0 z-[1180] flex items-center justify-center p-4",children:[h.jsx("button",{type:"button",className:"absolute inset-0 rounded-none border-0 bg-slate-950 backdrop-blur-sm",style:{backgroundColor:"rgba(2, 6, 23, 0.45)"},"aria-label":"Close settings",onClick:()=>{ge(!1),Ce("settings")}}),h.jsxs("div",{className:`${fe.panel} w-full max-w-md max-h-[80vh] overflow-hidden shadow-2xl shadow-slate-950/50`,role:"dialog","aria-modal":"true","aria-label":ue==="help"?"Map help":ue==="share"?"Share current route":"Map settings",children:[h.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[h.jsx("span",{className:fe.panelTitle,children:ue==="help"?"Help":ue==="share"?"Share route":"Settings"}),h.jsx("button",{type:"button",className:fe.panelButton,onClick:()=>{ge(!1),Ce("settings")},children:"Close"})]}),h.jsxs("div",{className:"mb-3 flex items-center gap-2 text-[11px]",children:[h.jsx("button",{type:"button",className:Pr,onClick:()=>Ce("settings"),"aria-pressed":ue==="settings",children:"Settings"}),h.jsx("button",{type:"button",className:si,onClick:Bo,"aria-pressed":ue==="share",children:"Share"}),h.jsx("button",{type:"button",className:Ho,onClick:Aa,"aria-pressed":ue==="help",children:"Help"})]}),h.jsx("div",{className:"flex h-full max-h-[65vh] flex-col gap-3 overflow-y-auto pr-1 text-[12px]",children:ue==="help"?h.jsx("div",{className:"flex flex-col gap-2",children:r0.map(M=>h.jsxs("section",{className:`${fe.layerOption} cursor-default`,"aria-labelledby":`${M.id}-title`,children:[h.jsx("h3",{id:`${M.id}-title`,className:"text-[12px] font-semibold leading-tight",children:M.title}),h.jsx("p",{className:fe.layerOptionDescription,children:M.description}),h.jsx("ul",{className:"ml-3 list-disc space-y-1 text-[11px] leading-snug",children:M.points.map((U,ie)=>h.jsx("li",{children:U},ie))})]},M.id))}):ue==="share"?h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("section",{className:`${fe.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Share code"}),h.jsx("p",{className:fe.layerOptionDescription,children:"Copy and send this code to share the current route."})]}),h.jsx("button",{type:"button",className:`${fe.panelButton} ${ii?"":"pointer-events-none opacity-50"}`,onClick:Oa,disabled:!ii,children:"Copy code"})]}),h.jsx("p",{className:fe.layerOptionDescription,children:xr??"Add at least one waypoint to generate a share code."}),h.jsx("textarea",{ref:_e,className:`${zi} min-h-[90px] w-full rounded-xl px-3 py-2 text-[11px] leading-snug`,value:Mn,readOnly:!0,spellCheck:!1,"aria-label":"Current route share code",onFocus:M=>M.target.select()}),st&&h.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${wr(st.tone)}`,children:st.message})]}),h.jsxs("section",{className:`${fe.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Import route"}),h.jsx("p",{className:fe.layerOptionDescription,children:"Paste a code received from another teammate to replace your current route."})]}),h.jsx("textarea",{className:`${zi} min-h-[110px] w-full rounded-xl px-3 py-2 text-[11px] leading-snug`,value:at,onChange:za,onKeyDown:ja,placeholder:"Paste a share code here",spellCheck:!1,"aria-label":"Paste a share code to import"}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("button",{type:"button",className:`${fe.panelButton} ${at.trim()?"":"pointer-events-none opacity-50"}`,onClick:ri,disabled:!at.trim(),children:"Load route"}),pt?h.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${wr(pt.tone)}`,children:pt.message}):h.jsx("span",{className:"text-[10px] opacity-60",children:"Press Ctrl/ + Enter to load"})]})]}),h.jsxs("section",{className:`${fe.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Plot callout"}),h.jsx("p",{className:fe.layerOptionDescription,children:"Drop a shared geohash onto the map as a start, checkpoint, or finish marker."})]}),h.jsx("input",{type:"text",className:`${zi} w-full rounded-xl px-3 py-2 text-[11px] uppercase tracking-wide`,value:kt,onChange:Za,placeholder:"e.g. u4pruydqq",spellCheck:!1,"aria-label":"Enter a location callout code"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{htmlFor:"callout-target",className:"text-[11px] font-semibold opacity-70",children:"Place as"}),h.jsxs("select",{id:"callout-target",className:`${zi} w-full rounded-xl px-3 py-2 text-[11px]`,value:ke,onChange:Fa,children:[h.jsx("option",{value:"checkpoint",children:"Checkpoint"}),h.jsx("option",{value:"start",children:"Start"}),h.jsx("option",{value:"end",children:"Finish"})]})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("button",{type:"button",className:`${fe.panelButton} ${kt.trim()?"":"pointer-events-none opacity-50"}`,onClick:Ha,disabled:!kt.trim(),children:"Place callout"}),tt&&h.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${wr(tt.tone)}`,children:tt.message})]})]}),Io.length>0&&h.jsxs("section",{className:`${fe.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Location codes"}),h.jsx("p",{className:fe.layerOptionDescription,children:"Geohash references 5m accuracy for quick callouts."})]}),h.jsx("ul",{className:"flex flex-col gap-1 text-[11px] font-mono",children:Io.map(M=>h.jsxs("li",{className:"flex flex-col",children:[h.jsx("span",{className:"font-semibold uppercase tracking-wide text-[10px] opacity-70",children:M.label}),h.jsx("span",{children:M.code}),h.jsx("span",{className:"opacity-60",children:Ma(M.position)})]},M.key))})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center justify-between gap-3",children:[h.jsx("span",{className:"font-medium",children:"Toolbar theme"}),h.jsx("button",{type:"button",className:fe.panelToggle,onClick:Zo,children:N==="light"?"Light":"Night"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Map layers"}),h.jsx("p",{className:"text-[11px] opacity-70",children:"Choose the basemap that suits your mission."}),h.jsx("div",{className:`${fe.layerScroll} mt-2`,children:ni.map(M=>{const U=M.id===p;return h.jsxs("button",{type:"button",className:`${fe.layerOption} ${U?fe.layerOptionActive:""}`,onClick:()=>On(M.id),children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:M.label}),M.category&&h.jsx("p",{className:fe.layerOptionCategory,children:M.category})]}),U&&h.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide text-sky-500",children:"Current"})]}),h.jsx("p",{className:fe.layerOptionDescription,children:M.description})]},M.id)})})]}),h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Cache imagery"}),h.jsx("p",{className:"text-[11px] opacity-70",children:"Download tiles within 2km"})]}),h.jsx("button",{type:"button",className:`${fe.panelButton} ${oi?"opacity-60 pointer-events-none":""}`,onClick:Ia,disabled:oi,children:Da})]}),h.jsxs("section",{className:`${fe.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Share this route"}),h.jsx("p",{className:fe.layerOptionDescription,children:"switch to the share view to copy or import a route."})]}),h.jsx("button",{type:"button",className:fe.panelButton,onClick:Bo,children:"Open"})]}),h.jsx("p",{className:fe.layerOptionDescription,children:xr??"Add at least one waypoint to enable route sharing."})]}),h.jsx("button",{type:"button",className:fe.panelButton,onClick:Fo,children:"Center map on my location"})]})})]})]}),Ot.length>0&&h.jsx("div",{className:"pointer-events-none absolute bottom-4 left-1/2 flex w-[min(90vw,18rem)] -translate-x-1/2 flex-col gap-2",children:Ot.map(M=>{const U=M.tone==="emerald"?"border-emerald-500 text-emerald-100":"border-sky-500 text-sky-200";return h.jsx("div",{className:`rounded-lg border bg-slate-950 p-3 text-center text-sm font-semibold shadow-lg shadow-slate-950 ${U}`,children:M.text},M.key)})})]})},xi=e=>e*Math.PI/180,p0=e=>e*180/Math.PI,km=(e,t)=>{if(!e||!t)return null;const i=xi(e.lat),o=xi(t.lat),a=xi(t.lng-e.lng),l=Math.sin(a)*Math.cos(o),c=Math.cos(i)*Math.sin(o)-Math.sin(i)*Math.cos(o)*Math.cos(a),f=Math.atan2(l,c);return(p0(f)+360)%360},Sm=(e,t)=>{if(!e||!t)return null;const i=6371e3,o=xi(e.lat),a=xi(t.lat),l=xi(t.lat-e.lat),c=xi(t.lng-e.lng),f=Math.sin(l/2)*Math.sin(l/2)+Math.cos(o)*Math.cos(a)*Math.sin(c/2)*Math.sin(c/2),p=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f));return i*p},bm=(e,t)=>e==null||t==null?null:(t-e+360)%360,m0=e=>{const[t,i]=b.useState(null),[o,a]=b.useState(null),[l,c]=b.useState(null),[f,p]=b.useState(!1),[g,S]=b.useState(!0),[k,x]=b.useState(!1),[N,z]=b.useState(!1),[j,re]=b.useState(!1),w=b.useRef(null),v=b.useRef(null),y=b.useRef(typeof navigator<"u"&&"geolocation"in navigator);b.useEffect(()=>{if(!(typeof window>"u")){if(typeof DeviceOrientationEvent>"u"){S(!1),c(D=>D??"Compass not supported on this device");return}typeof DeviceOrientationEvent.requestPermission=="function"&&p(!0)}},[]);const T=b.useCallback(D=>{if(typeof D.alpha=="number"){const Z=D.webkitCompassHeading??360-D.alpha;i((Z+360)%360)}},[]),W=b.useCallback(()=>{if(!y.current)return c("Geolocation not supported"),!1;w.current!==null&&(navigator.geolocation.clearWatch(w.current),w.current=null);const D=$=>{const{latitude:q,longitude:C}=$.coords;a({lat:q,lng:C}),x(!0),z(!0),re(!1),c(null)},Z=$=>{var q;($==null?void 0:$.code)===1?(c("Location permission denied"),x(!1)):($==null?void 0:$.code)===2?c("Location unavailable"):($==null?void 0:$.code)===3?c("Location request timed out"):c(($==null?void 0:$.message)??"Unable to access location"),z(!1),x(!1),re(!1),w.current!==null&&((q=navigator.geolocation)!=null&&q.clearWatch)&&(navigator.geolocation.clearWatch(w.current),w.current=null)};try{return re(!0),navigator.geolocation.getCurrentPosition(D,Z,{enableHighAccuracy:!0,maximumAge:0,timeout:15e3}),w.current=navigator.geolocation.watchPosition(D,Z,{enableHighAccuracy:!0,maximumAge:0,timeout:15e3}),!0}catch($){return c($.message??"Unable to access location"),re(!1),x(!1),!1}},[]),I=b.useCallback(async()=>{if(typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"?(window.removeEventListener("deviceorientation",T),window.addEventListener("deviceorientation",T),v.current="deviceorientation",W(),p(!1)):c("Compass permission denied")}catch(D){c(D.message??"Compass permission error")}},[T,W]);b.useEffect(()=>{if(!y.current)return()=>{};if(typeof window>"u"||!window.isSecureContext)return()=>{};let D=!1;return(async()=>{var $;if(($=navigator.permissions)!=null&&$.query)try{const q=await navigator.permissions.query({name:"geolocation"});if(D)return;q.state==="granted"?W():q.state==="denied"&&c(C=>C??"Location permission denied"),q.onchange=()=>{D||(q.state==="granted"?W():q.state==="denied"&&(c("Location permission denied"),x(!1),z(!1)))}}catch(q){c(C=>C??q.message??"Geolocation unavailable")}})(),()=>{var $;w.current!==null&&(($=navigator.geolocation)!=null&&$.clearWatch)&&navigator.geolocation.clearWatch(w.current),w.current=null,D=!0}},[W]),b.useEffect(()=>{if(typeof window>"u")return()=>{};if(!g)return()=>{};if(typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function")return()=>{window.removeEventListener("deviceorientation",T)};const D="ondeviceorientationabsolute"in window?"deviceorientationabsolute":"deviceorientation";return window.addEventListener(D,T),v.current=D,()=>{v.current&&window.removeEventListener(v.current,T)}},[T,g]);const B=km(o,e),V=Sm(o,e);return{heading:t,bearing:B,distance:V,geolocation:o,error:l,needsPermission:f,isSupported:g,locationEnabled:k,hasLocationFix:N,isRequestingLocation:j,requestPermission:I,startGeolocation:W}},$f=e=>e==null?"N/A":e<1e3?`${e.toFixed(0)} m`:`${(e/1e3).toFixed(2)} km`,g0=3200/Math.PI,v0=({heading:e,bearing:t,distance:i,error:o,enableCompass:a,onEnableLocation:l,needsPermission:c,isSupported:f,locationEnabled:p,hasLocationFix:g,isRequestingLocation:S,targets:k=[],selectedTarget:x=null,onSelectTarget:N,bearingUnit:z="degrees",onToggleBearingUnit:j})=>{const re=b.useMemo(()=>bm(e,t),[e,t]),w=()=>{typeof l=="function"&&l()},v=()=>{typeof a=="function"&&a()},y=g?"Location Active":S?"Locating":p?"Retry Location":"Enable Location",T=S||g,W=typeof j!="function",I=!f&&!c,B=typeof N=="function",V=F=>{if(!F)return null;const{lat:ee,lng:he}=F;return typeof ee!="number"||typeof he!="number"?null:`${ee.toFixed(4)}, ${he.toFixed(4)}`},D=F=>{B&&N(F)},Z=x?"Other checkpoints":"Select a checkpoint",$=V(x==null?void 0:x.position),q=F=>{if(F==null)return null;const ee=(F%360+360)%360;return z==="mils"?(ee*Math.PI/180*g0+6400)%6400:ee},C=F=>{if(F==null)return"N/A";const ee=q(F);return ee==null?"N/A":z==="mils"?`${ee.toFixed(1)} mil`:`${ee.toFixed(0)}`},A=()=>{W||j()},X=t!=null&&e!=null,Q=X?re??0:null,K=e!=null?(360-e)%360:null,E=c||!f,G=E?"border border-rose-500 text-rose-200":"border border-slate-800 text-slate-100",R=E?"border-rose-500 bg-slate-800":"border-sky-500 bg-slate-950";return h.jsxs("div",{className:`flex flex-col items-center gap-4 rounded-2xl bg-slate-900 p-5 text-center shadow-lg shadow-slate-950 ${G}`,children:[h.jsxs("div",{className:"flex w-full flex-wrap items-center justify-center gap-2",children:[h.jsx("h2",{className:"text-base font-semibold text-sky-200",children:"Compass"}),h.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[h.jsx("button",{type:"button",className:"rounded-full border border-emerald-500 px-3 py-1 text-[11px] font-semibold text-emerald-200 hover:bg-emerald-700 hover:text-emerald-100 disabled:cursor-not-allowed disabled:opacity-60",onClick:w,disabled:T,children:y}),h.jsx("button",{type:"button",className:"rounded-full border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-700 hover:text-sky-100 disabled:cursor-not-allowed disabled:opacity-60",onClick:v,disabled:I,children:"Enable Compass"}),h.jsx("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-[11px] font-semibold text-slate-200 hover:border-sky-500 hover:text-sky-200 disabled:cursor-not-allowed disabled:opacity-60",onClick:A,disabled:W,children:z==="degrees"?"Show mils":"Show degrees"})]})]}),h.jsxs("div",{className:`relative flex h-44 w-44 items-center justify-center rounded-full shadow-inner shadow-slate-950/40 ${R}`,children:[h.jsx("div",{className:"absolute inset-3 rounded-full border border-slate-800","aria-hidden":"true"}),h.jsx("div",{className:"absolute inset-0","aria-hidden":"true",children:h.jsx("div",{className:"absolute left-1/2 top-0 h-1/2 w-[3px] -translate-x-1/2 rounded-full bg-slate-200 opacity-40"})}),K!=null&&h.jsxs("div",{className:"absolute inset-0",style:{transform:`rotate(${K}deg)`},"aria-hidden":"true",children:[h.jsx("div",{className:"absolute left-1/2 top-0 h-1/2 w-[3px] -translate-x-1/2 rounded-full bg-white"}),h.jsx("span",{className:"absolute left-1/2 top-2 -translate-x-1/2 rounded-full border border-slate-600 bg-slate-950 px-2 py-[2px] text-[10px] font-semibold uppercase tracking-[0.25em] text-sky-200 shadow-sm shadow-slate-950/40",children:"N"})]}),X&&Q!=null&&h.jsx("div",{className:"absolute inset-0",style:{transform:`rotate(${Q}deg)`},"aria-hidden":"true",children:h.jsx("div",{className:"absolute left-1/2 top-2 flex h-8 w-8 -translate-x-1/2 items-start justify-center",children:h.jsx("svg",{viewBox:"0 0 24 24",className:"h-6 w-6 text-emerald-300",children:h.jsx("path",{d:"M12 2.5 16.5 12h-3.1v7.5h-2.8V12H7.5z",fill:"currentColor",stroke:"#065f46",strokeWidth:"1.1",strokeLinejoin:"round"})})})}),E&&h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center rounded-full bg-slate-950 text-center",style:{backgroundColor:"rgba(2, 6, 23, 0.85)"},children:[h.jsx("p",{className:"text-lg font-bold uppercase tracking-wide text-rose-200",children:"Compass not enabled"}),c&&h.jsx("p",{className:"mt-1 text-xs text-rose-200/80",children:"Tap Enable Compass to allow motion access."}),!c&&!f&&h.jsx("p",{className:"mt-1 text-xs text-rose-200/80",children:"This device does not expose compass sensors."})]}),h.jsx("span",{className:"absolute bottom-4 text-xs text-slate-300",children:e!=null?C(e):""})]}),h.jsxs("div",{className:"space-y-1 text-xs text-slate-300",children:[h.jsxs("p",{children:["Target bearing: ",C(t)]}),h.jsxs("p",{children:["Distance: ",$f(i)]}),(S||p&&!g)&&h.jsx("p",{className:"text-[11px] text-slate-400",children:"Awaiting GPS fix keep the device in the open."}),c&&f&&h.jsx("p",{className:"text-[11px] text-slate-400",children:"Tap Enable Compass to grant motion and orientation access."}),!f&&h.jsx("p",{className:"text-amber-400",children:"Compass not supported on this device."}),o&&h.jsxs("p",{className:"text-rose-400",children:["Error: ",o]})]}),h.jsxs("div",{className:"w-full rounded-xl border border-slate-800 bg-slate-950 p-3 text-left",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Active checkpoint"}),x?h.jsxs("div",{className:"mt-2",children:[h.jsx("p",{className:"text-sm font-semibold text-slate-100",children:x.label}),$&&h.jsx("p",{className:"text-[11px] text-slate-400",children:$})]}):h.jsx("p",{className:"mt-2 text-[11px] text-slate-400",children:k.length>0?"Pick a checkpoint below to set the compass target.":"Add checkpoints from the Route tools to set the compass target."})]}),k.length>0&&h.jsxs("div",{className:"w-full rounded-xl border border-slate-800 bg-slate-950 p-3 text-left",children:[h.jsx("p",{className:"mb-2 text-xs font-semibold uppercase tracking-wide text-sky-300",children:Z}),h.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map(F=>h.jsxs("div",{role:B?"button":void 0,tabIndex:B?0:void 0,className:`flex items-center justify-between gap-3 rounded-md border px-3 py-2 text-xs text-slate-200 transition ${B?"cursor-pointer border-slate-700 bg-slate-900 hover:border-sky-500 hover:bg-sky-900 focus:outline-none focus:ring-2 focus:ring-sky-500/60":"border-slate-800 bg-slate-900"}`,onClick:B?()=>D(F.id):void 0,onKeyDown:B?ee=>{(ee.key==="Enter"||ee.key===" ")&&(ee.preventDefault(),D(F.id))}:void 0,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full border border-slate-700 bg-slate-950",children:h.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 text-sky-300",style:{transform:`rotate(${F.relativeBearing??0}deg)`,transformOrigin:"50% 50%"},children:h.jsx("path",{d:"M12 3l4.5 9H13l3 9-4-7-4 7 3-9H7.5z",fill:"currentColor"})})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-100",children:F.label}),h.jsx("p",{className:"text-[11px] text-slate-400",children:F.bearing!=null?C(F.bearing):""})]})]}),h.jsx("span",{className:"text-[11px] text-slate-400",children:$f(F.distance)})]},F.id))})]})]})},Fi="rounded border border-slate-700 px-2 py-1 text-[11px] font-medium text-slate-200 transition hover:border-sky-500 hover:bg-slate-800",ws="border-sky-500 bg-sky-900 text-sky-100",_0=({onEnterPlacingMode:e})=>{const{start:t,end:i,checkpoints:o,selectedId:a,selectCheckpoint:l,connectVia:c,toggleConnectMode:f,clearAll:p,setPlacementMode:g,moveCheckpoint:S,removeCheckpoint:k,placementMode:x,swapCheckpoints:N}=Oo(),z=I=>B=>{B.dataTransfer.setData("application/x-cadet-map-checkpoint-id",I.id),B.dataTransfer.effectAllowed="move"},j=I=>{I.preventDefault(),I.dataTransfer.dropEffect="move"},re=I=>B=>{B.preventDefault();const V=B.dataTransfer.getData("application/x-cadet-map-checkpoint-id");if(!(!V||V===I.id)){if(N){N(V,I.id);return}I.type==="checkpoint"&&S(V,I.index)}},w=b.useMemo(()=>{const I=[];return t&&I.push({type:"start",id:"start",label:"Start",position:t.position,callout:sr(t.position)}),o.forEach((B,V)=>{I.push({type:"checkpoint",id:B.id,label:`Checkpoint ${V+1}`,position:B.position,index:V,callout:sr(B.position)})}),i&&I.push({type:"end",id:"end",label:"End",position:i.position,callout:sr(i.position)}),I},[t,o,i]),v=(x==null?void 0:x.type)??null,y=typeof(x==null?void 0:x.insertIndex)=="number"?x.insertIndex:null,T=I=>B=>{B.stopPropagation(),I()},W=I=>{if(I.type==="checkpoint"){const B=I.index===0,V=I.index===o.length-1,D=v==="checkpoint"&&y===I.index,Z=v==="checkpoint"&&y===I.index+1;return h.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[h.jsx("button",{type:"button",className:`${Fi} ${D?ws:""}`,onClick:T(()=>g({type:"checkpoint",insertIndex:I.index})),children:"Add Before"}),h.jsx("button",{type:"button",className:`${Fi} ${Z?ws:""}`,onClick:T(()=>g({type:"checkpoint",insertIndex:I.index+1})),children:"Add After"}),h.jsx("button",{type:"button",className:`${Fi} ${B?"opacity-40 pointer-events-none":""}`,onClick:T(()=>S(I.id,I.index-1)),disabled:B,children:"Move Up"}),h.jsx("button",{type:"button",className:`${Fi} ${V?"opacity-40 pointer-events-none":""}`,onClick:T(()=>S(I.id,I.index+1)),disabled:V,children:"Move Down"}),h.jsx("button",{type:"button",className:"rounded border border-rose-500 px-2 py-1 text-[11px] font-medium text-rose-300 transition hover:bg-rose-900 hover:text-rose-100",onClick:T(()=>k(I.id)),children:"Remove"})]})}if(I.type==="start"){const B=v==="checkpoint"&&y===0;return h.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:h.jsx("button",{type:"button",className:`${Fi} ${B?ws:""}`,onClick:T(()=>g({type:"checkpoint",insertIndex:0})),children:"Add After Start"})})}if(I.type==="end"){const B=v==="checkpoint"&&y===o.length;return h.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:h.jsx("button",{type:"button",className:`${Fi} ${B?ws:""}`,onClick:T(()=>g({type:"checkpoint",insertIndex:o.length})),children:"Add Before End"})})}return null};return h.jsxs("div",{className:"flex flex-col gap-3 rounded-xl bg-slate-900 p-4 shadow-lg shadow-slate-950",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-base font-semibold text-sky-200",children:"Route Planner"}),h.jsx("button",{type:"button",className:"rounded-md border border-rose-500 px-2 py-1 text-xs font-medium text-rose-300 transition hover:bg-rose-900 hover:text-rose-100",onClick:p,children:"Clear"})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:h.jsx("button",{type:"button",className:"w-full rounded-md border border-purple-500 bg-purple-900/20 px-3 py-2 text-sm font-bold text-purple-200 transition hover:bg-purple-900/40 hover:text-purple-100",onClick:e,children:"Place Checkpoints"})}),h.jsxs("div",{className:"flex items-center justify-between rounded-md border border-slate-800 bg-slate-950 p-3 text-xs text-slate-300",children:[h.jsx("span",{children:"Connection"}),h.jsx("button",{type:"button",className:"rounded-md border border-slate-600 px-3 py-1 text-xs font-semibold text-slate-100 hover:bg-slate-700",onClick:f,children:c==="direct"?"Direct Lines":"Route Mode"})]}),h.jsxs("ul",{className:"space-y-2 text-sm text-slate-200",children:[w.length===0&&h.jsx("li",{className:"text-xs text-slate-500",children:"No markers yet. Use the buttons above to start."}),w.map(I=>h.jsxs("li",{draggable:!0,onDragStart:z(I),onDragOver:j,onDrop:re(I),className:`rounded-md border px-3 py-2 transition touch-none ${a===I.id?"border-sky-500 bg-sky-900 text-sky-100":"cursor-pointer border-slate-800 hover:border-slate-600 hover:bg-slate-800"}`,onClick:()=>l(I.id),children:[h.jsx("div",{className:"font-semibold",children:I.label}),h.jsxs("div",{className:"text-xs text-slate-400",children:[I.position.lat.toFixed(4),", ",I.position.lng.toFixed(4)]}),I.callout&&h.jsxs("div",{className:"text-[11px] font-mono uppercase text-amber-300",children:["Callout: ",I.callout]}),W(I)]},I.id))]})]})},Uf=e=>e===4?4:3,Wf={origin:null,originReference:null,precision:3},y0=ym(e=>({...Wf,setPrecision:t=>e(i=>{const o=Uf(t);return{precision:o,originReference:i.originReference?{...i.originReference,precision:o}:null}}),setOrigin:t=>e({origin:t}),setOriginReference:t=>e(i=>({originReference:t?{...t,precision:Uf(t.precision??i.precision)}:null})),resetGrid:()=>e(Wf)})),x0=()=>y0(e=>({origin:e.origin,originReference:e.originReference,precision:e.precision,setOrigin:e.setOrigin,setOriginReference:e.setOriginReference,setPrecision:e.setPrecision,resetGrid:e.resetGrid})),Po=6371e3,As=e=>e*Math.PI/180,Vf=e=>e*180/Math.PI,w0=e=>(e+540)%360-180,Rc=e=>{if(e===3||e===4)return e;throw new Error("Unsupported grid precision. Use 3 or 4 figure references.")},Ac=e=>Rc(e)===3?100:10,ks=(e,t)=>{if(e==null)return null;const i=String(e).trim();if(!i)return null;if(!/^\d+$/.test(i))throw new Error("Grid references must contain digits only.");if(i.length!==t)throw new Error(`Expected ${t} digits for this precision setting.`);return parseInt(i,10)},k0=({lat:e,lng:t},i,o)=>{const a=As(e),l=e+o/Po*(180/Math.PI),c=t+i/(Po*Math.cos(a))*180/Math.PI;return{lat:l,lng:c}},S0=({origin:e,bearingDegrees:t,distanceMeters:i})=>{if(!e)throw new Error("Provide a valid origin location first.");if(t==null||Number.isNaN(t))throw new Error("Bearing must be a number.");if(i==null||Number.isNaN(i)||i<0)throw new Error("Distance must be a non-negative number.");const o=i/Po,a=As(t),l=As(e.lat),c=As(e.lng),f=Math.sin(l),p=Math.cos(l),g=Math.sin(o),S=Math.cos(o),k=Math.asin(f*S+p*g*Math.cos(a)),x=c+Math.atan2(Math.sin(a)*g*p,S-f*Math.sin(k));return{lat:Vf(k),lng:w0(Vf(x))}},b0=({origin:e,originReference:t,targetReference:i,precision:o})=>{if(!e)throw new Error("Set a grid origin location first.");if(!t)throw new Error("Set a grid origin reference first.");const a=Rc(o??t.precision??(i==null?void 0:i.precision)??3),l=ks(t.easting,a),c=ks(t.northing,a),f=ks(i.easting,a),p=ks(i.northing,a),g=Ac(a),S=(f-l)*g,k=(p-c)*g;return k0(e,S,k)},C0=({origin:e,originReference:t,point:i,precision:o})=>{if(!e||!t)throw new Error("Grid origin must be configured.");const a=Rc(o??t.precision??3),l=Ac(a),c=e.lat*Math.PI/180,f=(i.lat-e.lat)*Math.PI*Po/180,p=(i.lng-e.lng)*Math.PI*Po*Math.cos(c)/180,g=Math.round(t.easting+p/l),S=Math.round(t.northing+f/l),k=x=>x.toString().padStart(a,"0");return{easting:k(g),northing:k(S),precision:a}},Ss=e=>e!=null?e.toFixed(6):"",P0=e=>e==null||Number.isNaN(e)?"":e>=1e3?`${(e/1e3).toFixed(2)} km`:e>=10?`${e.toFixed(0)} m`:`${e.toFixed(1)} m`,Bl=({show:e,onToggle:t})=>h.jsx("button",{type:"button",onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-full border text-[10px] font-bold transition ${e?"border-sky-500 bg-sky-500 text-slate-900":"border-slate-600 text-slate-400 hover:border-sky-500 hover:text-sky-200"}`,"aria-label":"Toggle help",children:"?"}),E0=({userLocation:e,selectedPosition:t,onPreviewLocationChange:i})=>{const{origin:o,originReference:a,precision:l,setOrigin:c,setOriginReference:f,setPrecision:p,resetGrid:g}=x0(),{setStart:S,setEnd:k,addCheckpoint:x}=Oo(),[N,z]=b.useState(""),[j,re]=b.useState(""),[w,v]=b.useState(""),[y,T]=b.useState(""),[W,I]=b.useState(null),[B,V]=b.useState(null),[D,Z]=b.useState(null),[$,q]=b.useState("user"),[C,A]=b.useState(""),[X,Q]=b.useState("degrees"),[K,E]=b.useState(""),[G,R]=b.useState(null),[F,ee]=b.useState(null),[he,ae]=b.useState("origin"),[le,se]=b.useState(!1);b.useEffect(()=>{var de,ke;a&&(z(((de=a.easting)==null?void 0:de.toString().padStart(l,"0"))??""),re(((ke=a.northing)==null?void 0:ke.toString().padStart(l,"0"))??""))},[a,l]);const ge=b.useMemo(()=>{if(!o||!a)return null;try{const de=C0({origin:o,originReference:a,point:o,precision:l});return`${de.easting} / ${de.northing}`}catch(de){return console.warn(de),null}},[o,a,l]),ue=b.useMemo(()=>{if(!C)return null;const de=Number(C);return Number.isNaN(de)?null:X==="mils"?de*360/6400:de},[C,X]),Ce=b.useMemo(()=>ue==null?null:ue*6400/360,[ue]),Nt=(F==null?void 0:F.bearingDegrees)??null,Mt=Nt!=null?Nt*6400/360:null,st=()=>{let de=e;if(!de)if(t)de=t;else{Z("Waiting for GPS location (or select a point on the map).");return}const ke=N.trim(),Ne=j.trim();if(!ke||!Ne){Z("Enter grid reference digits.");return}if(ke.length!==Ne.length){Z("Easting and Northing must have same number of digits.");return}let tt=3;if(ke.length===3)tt=3;else if(ke.length===4)tt=4;else{Z("Grid ref must be 3 or 4 digits (e.g. 123 456).");return}try{const $e=Number(ke),lt=Number(Ne);if(Number.isNaN($e)||Number.isNaN(lt))throw new Error("Grid reference must be numbers.");c(de),f({easting:$e,northing:lt,precision:tt}),p(tt),Z(null),I(`Grid calibrated to ${tt}-figure reference.`)}catch($e){Z($e.message)}},et=()=>{if($==="user"){if(!e)throw new Error("No user location fix yet.");return e}if($==="selected"){if(!t)throw new Error("Select a marker on the map to use as the origin.");return t}throw new Error("Select a valid start point.")},at=()=>{try{if(!C)throw new Error("Enter a bearing value.");if(!K)throw new Error("Enter a distance in meters.");const de=et(),ke=Number(C),Ne=Number(K);if(Number.isNaN(ke))throw new Error("Bearing must be a number.");if(Number.isNaN(Ne)||Ne<0)throw new Error("Distance must be zero or greater.");const $e=((X==="mils"?ke*360/6400:ke)%360+360)%360,lt=S0({origin:de,bearingDegrees:$e,distanceMeters:Ne});R(lt),ee({bearingDegrees:$e,bearingInput:ke,bearingUnit:X,distanceMeters:Ne,origin:de}),I("Projected point from bearing and distance."),Z(null)}catch(de){R(null),ee(null),Z(de.message??"Unable to project bearing.")}},rn=()=>{if(!w||!y){Z("Enter both easting and northing for the grid reference.");return}try{const de=b0({origin:o,originReference:a,targetReference:{easting:w,northing:y,precision:l},precision:l});V(de),I("Grid reference resolved."),Z(null)}catch(de){V(null),Z(de.message)}},pt=(de,ke=B,Ne="grid reference")=>{if(!ke){Z(`Resolve a ${Ne} first.`);return}de==="start"?(S(ke),I(`Start updated from ${Ne}.`)):de==="end"?(k(ke),I(`End updated from ${Ne}.`)):(x(ke),I(`Checkpoint added from ${Ne}.`)),Z(null)},Fe=()=>{g(),z(""),re(""),v(""),T(""),V(null),q("user"),A(""),Q("degrees"),E(""),R(null),ee(null),I("Grid settings cleared."),Z(null)},kt=Ac(l);return b.useEffect(()=>{i&&i(he==="convert"&&B?{position:B,source:o}:he==="project"&&G?{position:G,source:(F==null?void 0:F.origin)??null}:null)},[he,B,G,F,o,i]),h.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl bg-slate-900 p-4 text-xs text-slate-200 shadow-lg shadow-slate-950",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("h2",{className:"text-base font-semibold text-sky-200",children:"Grid Tools"}),h.jsx("div",{className:"flex gap-1",children:h.jsxs("span",{className:"rounded-full border border-slate-700 px-2 py-1 text-[10px] font-semibold text-slate-400",children:[l,"-fig mode"]})})]}),h.jsxs("div",{className:"flex gap-1 rounded-lg border border-slate-800 bg-slate-950 p-1",children:[h.jsx("button",{type:"button",onClick:()=>ae("origin"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${he==="origin"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Origin"}),h.jsx("button",{type:"button",onClick:()=>ae("convert"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${he==="convert"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Convert"}),h.jsx("button",{type:"button",onClick:()=>ae("project"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${he==="project"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Project"})]}),he==="origin"&&h.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[h.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Calibrate Grid Origin"}),h.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Sync your current location to a grid reference."})]}),h.jsx(Bl,{show:le,onToggle:()=>se(!le)})]}),le&&h.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[h.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to calibrate:"}),h.jsx("p",{className:"text-slate-400",children:"Enter the Grid Reference for your current location (e.g. from a paper map) and tap 'Set Origin'. The app will link your GPS position to that grid reference."}),h.jsx("p",{className:"mt-2 text-slate-500 italic",children:"Note: If GPS is unavailable, select a point on the map first."})]}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Easting"}),h.jsx("input",{value:N,onChange:de=>z(de.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 123"})]}),h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Northing"}),h.jsx("input",{value:j,onChange:de=>re(de.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 456"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",className:"flex-1 rounded-md border border-sky-500 bg-sky-500/10 px-3 py-2 font-semibold text-sky-200 hover:bg-sky-500/20",onClick:st,children:"Set Origin"}),h.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-3 py-2 font-semibold text-slate-300 hover:border-rose-500 hover:text-rose-200",onClick:Fe,children:"Clear"})]}),h.jsx("div",{className:"mt-1 text-center text-[11px]",children:ge?h.jsxs("span",{className:"text-emerald-400",children:["Active: ",ge," (",l,"-fig)"]}):h.jsx("span",{className:"text-slate-500",children:"Origin not set"})})]})]}),he==="convert"&&h.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[h.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Convert Grid Ref"}),h.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Enter a grid reference to find its location on the map relative to your origin."})]}),h.jsx(Bl,{show:le,onToggle:()=>se(!le)})]}),le&&h.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[h.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to convert:"}),h.jsx("p",{className:"text-slate-400",children:"Once you have calibrated the origin, you can enter any other grid reference here. The app will calculate the offset from the origin and show you exactly where that point is on the map."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Easting"}),h.jsx("input",{value:w,onChange:de=>v(de.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. ".concat("2".repeat(l))})]}),h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Northing"}),h.jsx("input",{value:y,onChange:de=>T(de.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. ".concat("3".repeat(l))})]})]}),h.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:rn,children:"Preview location"}),h.jsxs("span",{className:"text-[11px] text-slate-400",children:["1 digit = ",kt," m offset"]})]}),B&&h.jsxs("div",{className:"mt-3 rounded-md border border-slate-800 bg-slate-900 p-3 text-[11px] text-slate-200",children:[h.jsx("p",{className:"font-semibold text-sky-200",children:"Resolved coordinates"}),h.jsxs("p",{className:"mt-1 text-slate-300",children:["Lat ",Ss(B.lat)," | Lng ",Ss(B.lng)]}),h.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[h.jsx("button",{type:"button",className:"rounded-md border border-emerald-500 px-3 py-1 text-[11px] font-semibold text-emerald-200 hover:bg-emerald-900",onClick:()=>pt("start",B,"grid reference"),children:"Set start"}),h.jsx("button",{type:"button",className:"rounded-md border border-orange-500 px-3 py-1 text-[11px] font-semibold text-orange-200 hover:bg-orange-900",onClick:()=>pt("end",B,"grid reference"),children:"Set end"}),h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:()=>pt("checkpoint",B,"grid reference"),children:"Add checkpoint"})]})]})]}),he==="project"&&h.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[h.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Project by bearing"}),h.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Calculate a new point by moving a specific distance and bearing from a starting point."})]}),h.jsx(Bl,{show:le,onToggle:()=>se(!le)})]}),le&&h.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[h.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to project:"}),h.jsxs("ol",{className:"list-decimal space-y-1 pl-4 text-slate-400",children:[h.jsx("li",{children:"Choose a start point (your location or a selected marker)."}),h.jsx("li",{children:"Enter the bearing (direction) and distance to travel."}),h.jsx("li",{children:"Click 'Project location' to see the destination on the map."})]})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Start Point"}),h.jsxs("div",{className:"mt-1 flex gap-2",children:[h.jsx("button",{type:"button",onClick:()=>q("user"),className:`flex-1 rounded-md border py-2 text-[11px] font-semibold transition ${$==="user"?"border-sky-500 bg-sky-500/10 text-sky-200":"border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:"My Location"}),h.jsx("button",{type:"button",onClick:()=>q("selected"),className:`flex-1 rounded-md border py-2 text-[11px] font-semibold transition ${$==="selected"?"border-sky-500 bg-sky-500/10 text-sky-200":"border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:"Selected Marker"})]}),!e&&$==="user"&&h.jsx("p",{className:"mt-1 text-[10px] text-rose-400",children:"Waiting for GPS fix..."}),!t&&$==="selected"&&h.jsx("p",{className:"mt-1 text-[10px] text-rose-400",children:"No marker selected on map."})]}),h.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Bearing"}),h.jsx("input",{value:C,onChange:de=>A(de.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:X==="degrees"?"0  360":"0  6400 mil"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Units"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",className:`flex-1 rounded-md px-2 py-1 text-[11px] font-semibold ${X==="degrees"?"border border-sky-500 text-sky-200":"border border-slate-700 text-slate-200 hover:border-sky-500 hover:text-sky-200"}`,onClick:()=>Q("degrees"),children:"Degrees"}),h.jsx("button",{type:"button",className:`flex-1 rounded-md px-2 py-1 text-[11px] font-semibold ${X==="mils"?"border border-sky-500 text-sky-200":"border border-slate-700 text-slate-200 hover:border-sky-500 hover:text-sky-200"}`,onClick:()=>Q("mils"),children:"Mils"})]})]})]}),h.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Distance (m)"}),h.jsx("input",{value:K,onChange:de=>E(de.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 250"})]}),h.jsx("div",{className:"flex flex-col justify-end text-[11px] text-slate-400",children:h.jsx("span",{children:ue!=null?` ${ue.toFixed(1)} / ${(Ce==null?void 0:Ce.toFixed(0))??""} mil`:"Enter a bearing to preview conversions."})})]}),h.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:at,children:"Project location"}),h.jsx("span",{className:"text-[11px] text-slate-400",children:"Distance measured in straight line"})]}),G&&h.jsxs("div",{className:"mt-3 rounded-md border border-slate-800 bg-slate-900 p-3 text-[11px] text-slate-200",children:[h.jsx("p",{className:"font-semibold text-sky-200",children:"Projected coordinates"}),h.jsxs("p",{className:"mt-1 text-slate-300",children:["Lat ",Ss(G.lat)," | Lng ",Ss(G.lng)]}),h.jsxs("p",{className:"text-slate-400",children:["Bearing used:"," ",Nt!=null?`${Nt.toFixed(1)}${Mt!=null?` (${Mt.toFixed(0)} mil)`:""}`:""]}),(F==null?void 0:F.distanceMeters)!=null&&h.jsxs("p",{className:"text-slate-400",children:["Distance: ",P0(F.distanceMeters)]}),h.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[h.jsx("button",{type:"button",className:"rounded-md border border-emerald-500 px-3 py-1 text-[11px] font-semibold text-emerald-200 hover:bg-emerald-900",onClick:()=>pt("start",G,"bearing projection"),children:"Set start"}),h.jsx("button",{type:"button",className:"rounded-md border border-orange-500 px-3 py-1 text-[11px] font-semibold text-orange-200 hover:bg-orange-900",onClick:()=>pt("end",G,"bearing projection"),children:"Set end"}),h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:()=>pt("checkpoint",G,"bearing projection"),children:"Add checkpoint"})]})]})]}),(D||W)&&h.jsxs("div",{className:"rounded-md border border-slate-800 bg-slate-950 p-3 text-[11px]",children:[D&&h.jsx("p",{className:"text-rose-400",children:D}),W&&h.jsx("p",{className:"text-emerald-300",children:W})]}),h.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-3 py-1 text-[11px] font-semibold text-slate-300 hover:border-rose-500 hover:text-rose-200",onClick:Fe,children:"Clear grid settings"})]})},Zl=({type:e,colorClass:t,borderClass:i})=>{const o=b.useRef(null),a=l=>{l.dataTransfer.setData("application/x-cadet-map-item",e),l.dataTransfer.effectAllowed="copy",o.current&&l.dataTransfer.setDragImage(o.current,10,20)};return h.jsxs(h.Fragment,{children:[h.jsx("div",{draggable:!0,onDragStart:a,className:`flex h-16 w-16 cursor-grab items-center justify-center rounded-full border-2 ${i} ${t} shadow-lg backdrop-blur-sm transition hover:scale-110 active:cursor-grabbing active:scale-95 touch-none`,children:h.jsx("div",{className:`h-4 w-4 rounded-full ${i.replace("border","bg")}`})}),h.jsx("div",{ref:o,className:`absolute -top-[1000px] left-0 h-5 w-5 rounded-full border-2 ${i} ${t}`})]})},L0=()=>h.jsxs("div",{className:"pointer-events-auto flex gap-6 p-4",children:[h.jsx(Zl,{type:"start",colorClass:"bg-green-500/20",borderClass:"border-green-500"}),h.jsx(Zl,{type:"checkpoint",colorClass:"bg-sky-500/20",borderClass:"border-sky-500"}),h.jsx(Zl,{type:"end",colorClass:"bg-red-500/20",borderClass:"border-red-500"})]}),T0=()=>{const{start:e,end:t,checkpoints:i,selectedId:o,selectCheckpoint:a,setStart:l,setEnd:c,addCheckpoint:f}=Oo(),p=b.useMemo(()=>{const oe=[];return e&&oe.push({id:"start",label:"Start",position:e.position}),i.forEach((_e,Pe)=>{oe.push({id:_e.id,label:`Checkpoint ${Pe+1}`,position:_e.position})}),t&&oe.push({id:"end",label:"End",position:t.position}),oe},[e,i,t]),g=b.useMemo(()=>p.find(oe=>oe.id===o)??null,[p,o]),S=(g==null?void 0:g.position)??null,{heading:k,bearing:x,distance:N,geolocation:z,error:j,needsPermission:re,isSupported:w,locationEnabled:v,hasLocationFix:y,isRequestingLocation:T,requestPermission:W,startGeolocation:I}=m0(S),B=b.useMemo(()=>p.filter(oe=>oe.id!==o).map(oe=>{if(!z)return{...oe,bearing:null,distance:null,relativeBearing:null};const _e=km(z,oe.position),Pe=bm(k,_e);return{...oe,bearing:_e,distance:Sm(z,oe.position),relativeBearing:Pe??_e}}),[z,p,o,k]),[V,D]=b.useState(null),[Z,$]=b.useState(!1),[q,C]=b.useState(0),[A,X]=b.useState("degrees"),[Q,K]=b.useState("topo"),[E,G]=b.useState("light"),[R,F]=b.useState(.58),[ee,he]=b.useState(null),[ae,le]=b.useState(!1),se=b.useRef(null),ge=b.useRef(!1),ue=b.useRef(null),[Ce,Nt]=b.useState(!1),Mt=.32,st=.85,et=b.useCallback(oe=>Math.min(Math.max(oe,Mt),st),[st,Mt]),at=b.useCallback(()=>{const oe=I();return oe&&C(_e=>_e+1),oe},[I]),rn=b.useCallback(()=>{X(oe=>oe==="degrees"?"mils":"degrees")},[]),pt=b.useCallback(()=>{$(oe=>!oe)},[]),Fe=b.useCallback(oe=>{D(_e=>_e===oe?null:oe),$(!1),F(_e=>et(_e))},[et]),kt=b.useCallback(()=>{Fe("compass")},[Fe]),de=b.useCallback(()=>{Fe("checkpoints")},[Fe]),ke=b.useCallback(oe=>{const _e=se.current;if(!_e)return;const{startY:Pe,startHeight:ze}=_e;if(window.innerHeight===0)return;const Ge=(Pe-oe.clientY)/window.innerHeight,Xe=Math.abs(Pe-oe.clientY);!_e.moved&&Xe>6&&(_e.moved=!0),F(et(ze+Ge))},[et]),Ne=b.useCallback(()=>{var _e,Pe;const oe=se.current;oe!=null&&oe.target&&oe.pointerId!=null&&((Pe=(_e=oe.target).releasePointerCapture)==null||Pe.call(_e,oe.pointerId)),se.current=null,window.removeEventListener("pointermove",ke),window.removeEventListener("pointerup",Ne),oe&&!oe.moved&&oe.overlayId&&D(ze=>ze===oe.overlayId?null:ze)},[ke,D]),tt=b.useCallback(oe=>{var Ge,Xe;if(window.innerHeight===0)return;oe.preventDefault();const _e=oe.pointerId,Pe=oe.clientY,ze=oe.currentTarget.dataset.overlayId??null;se.current={startY:Pe,startHeight:R,pointerId:_e,target:oe.currentTarget,overlayId:ze,moved:!1},(Xe=(Ge=oe.currentTarget).setPointerCapture)==null||Xe.call(Ge,_e),window.addEventListener("pointermove",ke,{passive:!0}),window.addEventListener("pointerup",Ne,{passive:!0})},[R,ke,Ne]);b.useEffect(()=>()=>{window.removeEventListener("pointermove",ke),window.removeEventListener("pointerup",Ne)},[ke,Ne]);const $e=b.useMemo(()=>({"--overlay-height":`${(et(R)*100).toFixed(2)}vh`,"--overlay-max-height":`${(st*100).toFixed(2)}vh`}),[st,et,R]);b.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;window.matchMedia("(prefers-color-scheme: dark)").matches&&(K(_e=>_e==="street"?"dark":_e),G("dark"))},[]),b.useEffect(()=>{at()},[at]),b.useEffect(()=>{ue.current=z},[z]),b.useEffect(()=>{if(!ge.current){ge.current=!0;return}v?at():ue.current&&C(oe=>oe+1)},[Q,v,at]);const lt=b.useCallback(()=>{G(oe=>oe==="light"?"dark":"light")},[]),pn=b.useCallback((oe,_e)=>{oe==="start"?l(_e):oe==="end"?c(_e):oe==="checkpoint"&&f(_e)},[l,c,f]);return b.useEffect(()=>{he(null)},[e,t,i]),h.jsxs("div",{className:"relative viewport-safe bg-slate-950 text-slate-100",children:[h.jsx(h0,{userLocation:z,userHeading:k,targets:B,onEnableLocation:at,locationEnabled:v,hasLocationFix:y,isRequestingLocation:T,locationRequestToken:q,baseLayer:Q,onBaseLayerChange:K,onToggleMenu:pt,onOpenCompass:kt,onOpenRoute:de,toolbarTheme:E,onToolbarThemeToggle:lt,isMenuOpen:Z,previewLocation:ee,onDropItem:pn,hideToolbar:Ce}),!Ce&&V==="compass"&&h.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:bottom-6 md:left-auto md:right-6 md:max-w-sm md:rounded-2xl",style:$e,children:[h.jsx("div",{className:"mb-3 flex justify-center",children:h.jsx("button",{type:"button","data-overlay-id":"compass",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:tt,children:h.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),h.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[h.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Compass"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Heading & bearings"})]}),h.jsx(v0,{heading:k,bearing:x,distance:N,error:j,enableCompass:W,onEnableLocation:at,needsPermission:re,isSupported:w,locationEnabled:v,hasLocationFix:y,isRequestingLocation:T,targets:B,selectedTarget:g,onSelectTarget:a,bearingUnit:A,onToggleBearingUnit:rn})]}),!Ce&&V==="checkpoints"&&h.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:left-6 md:right-auto md:top-6 md:max-w-xs md:rounded-2xl md:rounded-bl-none md:rounded-br-xl",style:$e,children:[h.jsx("div",{className:"mb-3 flex justify-center",children:h.jsx("button",{type:"button","data-overlay-id":"checkpoints",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:tt,children:h.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),h.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[h.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Route tools"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Manage checkpoints"})]}),h.jsx(_0,{onEnterPlacingMode:()=>Nt(!0)})]}),!Ce&&V==="grid"&&h.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:left-auto md:right-6 md:top-6 md:max-w-md md:rounded-2xl",style:$e,children:[h.jsx("div",{className:"mb-3 flex justify-center",children:h.jsx("button",{type:"button","data-overlay-id":"grid",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:tt,children:h.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),h.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[h.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Grid tools"}),h.jsx("p",{className:"text-xs text-slate-400",children:"References & bearings"})]}),h.jsx(E0,{userLocation:z,selectedPosition:S,onPreviewLocationChange:he})]}),!Ce&&Z&&h.jsx("div",{className:"pointer-events-auto absolute inset-x-0 bottom-28 z-[1300] flex justify-center px-4 md:bottom-32",children:h.jsxs("div",{className:"w-full max-w-xs rounded-2xl border border-slate-800 bg-slate-950 p-3 text-[12px] text-slate-100 shadow-xl shadow-slate-950/80",children:[h.jsx("p",{className:"mb-2 text-[11px] font-semibold uppercase tracking-wide text-slate-400",children:"Navigate"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${V==="compass"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>Fe("compass"),children:["Compass",h.jsx("span",{className:`text-[10px] ${V==="compass"?"text-slate-800":"text-slate-400"}`,children:"Heading"})]}),h.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${V==="checkpoints"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>Fe("checkpoints"),children:["Route",h.jsx("span",{className:`text-[10px] ${V==="checkpoints"?"text-slate-800":"text-slate-400"}`,children:"Checkpoints"})]}),h.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${V==="grid"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>Fe("grid"),children:["Grid",h.jsx("span",{className:`text-[10px] ${V==="grid"?"text-slate-800":"text-slate-400"}`,children:"Conversions"})]})]}),h.jsx("p",{className:"mt-3 text-[11px] text-slate-400",children:"Choose a tool to open its overlay. Tap Menu again to close this panel."})]})}),Ce&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"absolute inset-x-0 bottom-8 z-[1400] flex justify-center pointer-events-none",children:h.jsx(L0,{})}),h.jsxs("div",{className:"absolute top-4 right-4 z-[1400] flex gap-3",children:[h.jsx("button",{type:"button",className:"flex h-10 w-10 items-center justify-center rounded-full border border-slate-600 bg-slate-900 text-slate-200 shadow-lg transition hover:bg-slate-800",title:"Help",onClick:()=>le(!0),children:"?"}),h.jsx("button",{onClick:()=>Nt(!1),className:"flex h-10 w-10 items-center justify-center rounded-full border border-red-500/50 bg-red-900/40 text-red-200 shadow-lg backdrop-blur-sm transition hover:bg-red-900/60",title:"Exit Placing Mode",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"h-6 w-6",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),ae&&h.jsx("div",{className:"fixed inset-0 z-[1500] flex items-center justify-center bg-slate-950/60 p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-slate-700 bg-slate-900 p-6 shadow-2xl",children:[h.jsx("h3",{className:"mb-2 text-lg font-bold text-slate-100",children:"How to Place Checkpoints"}),h.jsxs("ul",{className:"mb-6 list-disc space-y-2 pl-5 text-sm text-slate-300",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Drag & Drop:"})," Drag the colored icons from the bottom toolbar onto the map to place a Start, Checkpoint, or End."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Move:"})," Drag any existing marker on the map to move it."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Exit:"})," Tap the red X button in the top right to return to the main view."]})]}),h.jsx("button",{onClick:()=>le(!1),className:"w-full rounded-lg bg-sky-600 py-2.5 text-sm font-semibold text-white transition hover:bg-sky-500",children:"Got it"})]})})]})},N0=()=>h.jsx(T0,{});W_.polyfill({dragImageTranslateOverride:V_.scrollBehaviourDragImageTranslateOverride});window.addEventListener("touchmove",()=>{},{passive:!1});Fl.createRoot(document.getElementById("root")).render(h.jsx(so.StrictMode,{children:h.jsx(N0,{})}));
